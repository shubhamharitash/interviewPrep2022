/*! Copyright (c) 2023 WhatsApp Inc. All Rights Reserved. */(() => { var e = { 4462: (e, t, n) => { !function (e) { "use strict"; var t = function (e) { var t, n = new Float64Array(16); if (e) for (t = 0; t < e.length; t++)n[t] = e[t]; return n }, r = function () { throw new Error("no PRNG") }, a = new Uint8Array(16), s = new Uint8Array(32); s[0] = 9; var i = t(), o = t([1]), c = t([56129, 1]), d = t([30883, 4953, 19914, 30187, 55467, 16705, 2637, 112, 59544, 30585, 16505, 36039, 65139, 11119, 27886, 20995]), l = t([61785, 9906, 39828, 60374, 45398, 33411, 5274, 224, 53552, 61171, 33010, 6542, 64743, 22239, 55772, 9222]), u = t([54554, 36645, 11616, 51542, 42930, 38181, 51040, 26924, 56412, 64982, 57905, 49316, 21502, 52590, 14035, 8553]), f = t([26200, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214]), h = t([41136, 18958, 6951, 50414, 58488, 44335, 6150, 12099, 55207, 15867, 153, 11085, 57099, 20417, 9344, 11139]); function p(e, t, n, r) { e[t] = n >> 24 & 255, e[t + 1] = n >> 16 & 255, e[t + 2] = n >> 8 & 255, e[t + 3] = 255 & n, e[t + 4] = r >> 24 & 255, e[t + 5] = r >> 16 & 255, e[t + 6] = r >> 8 & 255, e[t + 7] = 255 & r } function _(e, t, n, r, a) { var s, i = 0; for (s = 0; s < a; s++)i |= e[t + s] ^ n[r + s]; return (1 & i - 1 >>> 8) - 1 } function m(e, t, n, r) { return _(e, t, n, r, 16) } function b(e, t, n, r) { return _(e, t, n, r, 32) } function y(e, t, n, r) { !function (e, t, n, r) { for (var a, s = 255 & r[0] | (255 & r[1]) << 8 | (255 & r[2]) << 16 | (255 & r[3]) << 24, i = 255 & n[0] | (255 & n[1]) << 8 | (255 & n[2]) << 16 | (255 & n[3]) << 24, o = 255 & n[4] | (255 & n[5]) << 8 | (255 & n[6]) << 16 | (255 & n[7]) << 24, c = 255 & n[8] | (255 & n[9]) << 8 | (255 & n[10]) << 16 | (255 & n[11]) << 24, d = 255 & n[12] | (255 & n[13]) << 8 | (255 & n[14]) << 16 | (255 & n[15]) << 24, l = 255 & r[4] | (255 & r[5]) << 8 | (255 & r[6]) << 16 | (255 & r[7]) << 24, u = 255 & t[0] | (255 & t[1]) << 8 | (255 & t[2]) << 16 | (255 & t[3]) << 24, f = 255 & t[4] | (255 & t[5]) << 8 | (255 & t[6]) << 16 | (255 & t[7]) << 24, h = 255 & t[8] | (255 & t[9]) << 8 | (255 & t[10]) << 16 | (255 & t[11]) << 24, p = 255 & t[12] | (255 & t[13]) << 8 | (255 & t[14]) << 16 | (255 & t[15]) << 24, _ = 255 & r[8] | (255 & r[9]) << 8 | (255 & r[10]) << 16 | (255 & r[11]) << 24, m = 255 & n[16] | (255 & n[17]) << 8 | (255 & n[18]) << 16 | (255 & n[19]) << 24, b = 255 & n[20] | (255 & n[21]) << 8 | (255 & n[22]) << 16 | (255 & n[23]) << 24, y = 255 & n[24] | (255 & n[25]) << 8 | (255 & n[26]) << 16 | (255 & n[27]) << 24, g = 255 & n[28] | (255 & n[29]) << 8 | (255 & n[30]) << 16 | (255 & n[31]) << 24, v = 255 & r[12] | (255 & r[13]) << 8 | (255 & r[14]) << 16 | (255 & r[15]) << 24, w = s, j = i, S = o, E = c, T = d, A = l, I = u, P = f, k = h, O = p, U = _, x = m, R = b, C = y, M = g, $ = v, D = 0; D < 20; D += 2)w ^= (a = (R ^= (a = (k ^= (a = (T ^= (a = w + R | 0) << 7 | a >>> 25) + w | 0) << 9 | a >>> 23) + T | 0) << 13 | a >>> 19) + k | 0) << 18 | a >>> 14, A ^= (a = (j ^= (a = (C ^= (a = (O ^= (a = A + j | 0) << 7 | a >>> 25) + A | 0) << 9 | a >>> 23) + O | 0) << 13 | a >>> 19) + C | 0) << 18 | a >>> 14, U ^= (a = (I ^= (a = (S ^= (a = (M ^= (a = U + I | 0) << 7 | a >>> 25) + U | 0) << 9 | a >>> 23) + M | 0) << 13 | a >>> 19) + S | 0) << 18 | a >>> 14, $ ^= (a = (x ^= (a = (P ^= (a = (E ^= (a = $ + x | 0) << 7 | a >>> 25) + $ | 0) << 9 | a >>> 23) + E | 0) << 13 | a >>> 19) + P | 0) << 18 | a >>> 14, w ^= (a = (E ^= (a = (S ^= (a = (j ^= (a = w + E | 0) << 7 | a >>> 25) + w | 0) << 9 | a >>> 23) + j | 0) << 13 | a >>> 19) + S | 0) << 18 | a >>> 14, A ^= (a = (T ^= (a = (P ^= (a = (I ^= (a = A + T | 0) << 7 | a >>> 25) + A | 0) << 9 | a >>> 23) + I | 0) << 13 | a >>> 19) + P | 0) << 18 | a >>> 14, U ^= (a = (O ^= (a = (k ^= (a = (x ^= (a = U + O | 0) << 7 | a >>> 25) + U | 0) << 9 | a >>> 23) + x | 0) << 13 | a >>> 19) + k | 0) << 18 | a >>> 14, $ ^= (a = (M ^= (a = (C ^= (a = (R ^= (a = $ + M | 0) << 7 | a >>> 25) + $ | 0) << 9 | a >>> 23) + R | 0) << 13 | a >>> 19) + C | 0) << 18 | a >>> 14; w = w + s | 0, j = j + i | 0, S = S + o | 0, E = E + c | 0, T = T + d | 0, A = A + l | 0, I = I + u | 0, P = P + f | 0, k = k + h | 0, O = O + p | 0, U = U + _ | 0, x = x + m | 0, R = R + b | 0, C = C + y | 0, M = M + g | 0, $ = $ + v | 0, e[0] = w >>> 0 & 255, e[1] = w >>> 8 & 255, e[2] = w >>> 16 & 255, e[3] = w >>> 24 & 255, e[4] = j >>> 0 & 255, e[5] = j >>> 8 & 255, e[6] = j >>> 16 & 255, e[7] = j >>> 24 & 255, e[8] = S >>> 0 & 255, e[9] = S >>> 8 & 255, e[10] = S >>> 16 & 255, e[11] = S >>> 24 & 255, e[12] = E >>> 0 & 255, e[13] = E >>> 8 & 255, e[14] = E >>> 16 & 255, e[15] = E >>> 24 & 255, e[16] = T >>> 0 & 255, e[17] = T >>> 8 & 255, e[18] = T >>> 16 & 255, e[19] = T >>> 24 & 255, e[20] = A >>> 0 & 255, e[21] = A >>> 8 & 255, e[22] = A >>> 16 & 255, e[23] = A >>> 24 & 255, e[24] = I >>> 0 & 255, e[25] = I >>> 8 & 255, e[26] = I >>> 16 & 255, e[27] = I >>> 24 & 255, e[28] = P >>> 0 & 255, e[29] = P >>> 8 & 255, e[30] = P >>> 16 & 255, e[31] = P >>> 24 & 255, e[32] = k >>> 0 & 255, e[33] = k >>> 8 & 255, e[34] = k >>> 16 & 255, e[35] = k >>> 24 & 255, e[36] = O >>> 0 & 255, e[37] = O >>> 8 & 255, e[38] = O >>> 16 & 255, e[39] = O >>> 24 & 255, e[40] = U >>> 0 & 255, e[41] = U >>> 8 & 255, e[42] = U >>> 16 & 255, e[43] = U >>> 24 & 255, e[44] = x >>> 0 & 255, e[45] = x >>> 8 & 255, e[46] = x >>> 16 & 255, e[47] = x >>> 24 & 255, e[48] = R >>> 0 & 255, e[49] = R >>> 8 & 255, e[50] = R >>> 16 & 255, e[51] = R >>> 24 & 255, e[52] = C >>> 0 & 255, e[53] = C >>> 8 & 255, e[54] = C >>> 16 & 255, e[55] = C >>> 24 & 255, e[56] = M >>> 0 & 255, e[57] = M >>> 8 & 255, e[58] = M >>> 16 & 255, e[59] = M >>> 24 & 255, e[60] = $ >>> 0 & 255, e[61] = $ >>> 8 & 255, e[62] = $ >>> 16 & 255, e[63] = $ >>> 24 & 255 }(e, t, n, r) } function g(e, t, n, r) { !function (e, t, n, r) { for (var a, s = 255 & r[0] | (255 & r[1]) << 8 | (255 & r[2]) << 16 | (255 & r[3]) << 24, i = 255 & n[0] | (255 & n[1]) << 8 | (255 & n[2]) << 16 | (255 & n[3]) << 24, o = 255 & n[4] | (255 & n[5]) << 8 | (255 & n[6]) << 16 | (255 & n[7]) << 24, c = 255 & n[8] | (255 & n[9]) << 8 | (255 & n[10]) << 16 | (255 & n[11]) << 24, d = 255 & n[12] | (255 & n[13]) << 8 | (255 & n[14]) << 16 | (255 & n[15]) << 24, l = 255 & r[4] | (255 & r[5]) << 8 | (255 & r[6]) << 16 | (255 & r[7]) << 24, u = 255 & t[0] | (255 & t[1]) << 8 | (255 & t[2]) << 16 | (255 & t[3]) << 24, f = 255 & t[4] | (255 & t[5]) << 8 | (255 & t[6]) << 16 | (255 & t[7]) << 24, h = 255 & t[8] | (255 & t[9]) << 8 | (255 & t[10]) << 16 | (255 & t[11]) << 24, p = 255 & t[12] | (255 & t[13]) << 8 | (255 & t[14]) << 16 | (255 & t[15]) << 24, _ = 255 & r[8] | (255 & r[9]) << 8 | (255 & r[10]) << 16 | (255 & r[11]) << 24, m = 255 & n[16] | (255 & n[17]) << 8 | (255 & n[18]) << 16 | (255 & n[19]) << 24, b = 255 & n[20] | (255 & n[21]) << 8 | (255 & n[22]) << 16 | (255 & n[23]) << 24, y = 255 & n[24] | (255 & n[25]) << 8 | (255 & n[26]) << 16 | (255 & n[27]) << 24, g = 255 & n[28] | (255 & n[29]) << 8 | (255 & n[30]) << 16 | (255 & n[31]) << 24, v = 255 & r[12] | (255 & r[13]) << 8 | (255 & r[14]) << 16 | (255 & r[15]) << 24, w = 0; w < 20; w += 2)s ^= (a = (b ^= (a = (h ^= (a = (d ^= (a = s + b | 0) << 7 | a >>> 25) + s | 0) << 9 | a >>> 23) + d | 0) << 13 | a >>> 19) + h | 0) << 18 | a >>> 14, l ^= (a = (i ^= (a = (y ^= (a = (p ^= (a = l + i | 0) << 7 | a >>> 25) + l | 0) << 9 | a >>> 23) + p | 0) << 13 | a >>> 19) + y | 0) << 18 | a >>> 14, _ ^= (a = (u ^= (a = (o ^= (a = (g ^= (a = _ + u | 0) << 7 | a >>> 25) + _ | 0) << 9 | a >>> 23) + g | 0) << 13 | a >>> 19) + o | 0) << 18 | a >>> 14, v ^= (a = (m ^= (a = (f ^= (a = (c ^= (a = v + m | 0) << 7 | a >>> 25) + v | 0) << 9 | a >>> 23) + c | 0) << 13 | a >>> 19) + f | 0) << 18 | a >>> 14, s ^= (a = (c ^= (a = (o ^= (a = (i ^= (a = s + c | 0) << 7 | a >>> 25) + s | 0) << 9 | a >>> 23) + i | 0) << 13 | a >>> 19) + o | 0) << 18 | a >>> 14, l ^= (a = (d ^= (a = (f ^= (a = (u ^= (a = l + d | 0) << 7 | a >>> 25) + l | 0) << 9 | a >>> 23) + u | 0) << 13 | a >>> 19) + f | 0) << 18 | a >>> 14, _ ^= (a = (p ^= (a = (h ^= (a = (m ^= (a = _ + p | 0) << 7 | a >>> 25) + _ | 0) << 9 | a >>> 23) + m | 0) << 13 | a >>> 19) + h | 0) << 18 | a >>> 14, v ^= (a = (g ^= (a = (y ^= (a = (b ^= (a = v + g | 0) << 7 | a >>> 25) + v | 0) << 9 | a >>> 23) + b | 0) << 13 | a >>> 19) + y | 0) << 18 | a >>> 14; e[0] = s >>> 0 & 255, e[1] = s >>> 8 & 255, e[2] = s >>> 16 & 255, e[3] = s >>> 24 & 255, e[4] = l >>> 0 & 255, e[5] = l >>> 8 & 255, e[6] = l >>> 16 & 255, e[7] = l >>> 24 & 255, e[8] = _ >>> 0 & 255, e[9] = _ >>> 8 & 255, e[10] = _ >>> 16 & 255, e[11] = _ >>> 24 & 255, e[12] = v >>> 0 & 255, e[13] = v >>> 8 & 255, e[14] = v >>> 16 & 255, e[15] = v >>> 24 & 255, e[16] = u >>> 0 & 255, e[17] = u >>> 8 & 255, e[18] = u >>> 16 & 255, e[19] = u >>> 24 & 255, e[20] = f >>> 0 & 255, e[21] = f >>> 8 & 255, e[22] = f >>> 16 & 255, e[23] = f >>> 24 & 255, e[24] = h >>> 0 & 255, e[25] = h >>> 8 & 255, e[26] = h >>> 16 & 255, e[27] = h >>> 24 & 255, e[28] = p >>> 0 & 255, e[29] = p >>> 8 & 255, e[30] = p >>> 16 & 255, e[31] = p >>> 24 & 255 }(e, t, n, r) } var v = new Uint8Array([101, 120, 112, 97, 110, 100, 32, 51, 50, 45, 98, 121, 116, 101, 32, 107]); function w(e, t, n, r, a, s, i) { var o, c, d = new Uint8Array(16), l = new Uint8Array(64); for (c = 0; c < 16; c++)d[c] = 0; for (c = 0; c < 8; c++)d[c] = s[c]; for (; a >= 64;) { for (y(l, d, i, v), c = 0; c < 64; c++)e[t + c] = n[r + c] ^ l[c]; for (o = 1, c = 8; c < 16; c++)o = o + (255 & d[c]) | 0, d[c] = 255 & o, o >>>= 8; a -= 64, t += 64, r += 64 } if (a > 0) for (y(l, d, i, v), c = 0; c < a; c++)e[t + c] = n[r + c] ^ l[c]; return 0 } function j(e, t, n, r, a) { var s, i, o = new Uint8Array(16), c = new Uint8Array(64); for (i = 0; i < 16; i++)o[i] = 0; for (i = 0; i < 8; i++)o[i] = r[i]; for (; n >= 64;) { for (y(c, o, a, v), i = 0; i < 64; i++)e[t + i] = c[i]; for (s = 1, i = 8; i < 16; i++)s = s + (255 & o[i]) | 0, o[i] = 255 & s, s >>>= 8; n -= 64, t += 64 } if (n > 0) for (y(c, o, a, v), i = 0; i < n; i++)e[t + i] = c[i]; return 0 } function S(e, t, n, r, a) { var s = new Uint8Array(32); g(s, r, a, v); for (var i = new Uint8Array(8), o = 0; o < 8; o++)i[o] = r[o + 16]; return j(e, t, n, i, s) } function E(e, t, n, r, a, s, i) { var o = new Uint8Array(32); g(o, s, i, v); for (var c = new Uint8Array(8), d = 0; d < 8; d++)c[d] = s[d + 16]; return w(e, t, n, r, a, c, o) } var T = function (e) { var t, n, r, a, s, i, o, c; this.buffer = new Uint8Array(16), this.r = new Uint16Array(10), this.h = new Uint16Array(10), this.pad = new Uint16Array(8), this.leftover = 0, this.fin = 0, t = 255 & e[0] | (255 & e[1]) << 8, this.r[0] = 8191 & t, n = 255 & e[2] | (255 & e[3]) << 8, this.r[1] = 8191 & (t >>> 13 | n << 3), r = 255 & e[4] | (255 & e[5]) << 8, this.r[2] = 7939 & (n >>> 10 | r << 6), a = 255 & e[6] | (255 & e[7]) << 8, this.r[3] = 8191 & (r >>> 7 | a << 9), s = 255 & e[8] | (255 & e[9]) << 8, this.r[4] = 255 & (a >>> 4 | s << 12), this.r[5] = s >>> 1 & 8190, i = 255 & e[10] | (255 & e[11]) << 8, this.r[6] = 8191 & (s >>> 14 | i << 2), o = 255 & e[12] | (255 & e[13]) << 8, this.r[7] = 8065 & (i >>> 11 | o << 5), c = 255 & e[14] | (255 & e[15]) << 8, this.r[8] = 8191 & (o >>> 8 | c << 8), this.r[9] = c >>> 5 & 127, this.pad[0] = 255 & e[16] | (255 & e[17]) << 8, this.pad[1] = 255 & e[18] | (255 & e[19]) << 8, this.pad[2] = 255 & e[20] | (255 & e[21]) << 8, this.pad[3] = 255 & e[22] | (255 & e[23]) << 8, this.pad[4] = 255 & e[24] | (255 & e[25]) << 8, this.pad[5] = 255 & e[26] | (255 & e[27]) << 8, this.pad[6] = 255 & e[28] | (255 & e[29]) << 8, this.pad[7] = 255 & e[30] | (255 & e[31]) << 8 }; function A(e, t, n, r, a, s) { var i = new T(s); return i.update(n, r, a), i.finish(e, t), 0 } function I(e, t, n, r, a, s) { var i = new Uint8Array(16); return A(i, 0, n, r, a, s), m(e, t, i, 0) } function P(e, t, n, r, a) { var s; if (n < 32) return -1; for (E(e, 0, t, 0, n, r, a), A(e, 16, e, 32, n - 32, e), s = 0; s < 16; s++)e[s] = 0; return 0 } function k(e, t, n, r, a) { var s, i = new Uint8Array(32); if (n < 32) return -1; if (S(i, 0, 32, r, a), 0 !== I(t, 16, t, 32, n - 32, i)) return -1; for (E(e, 0, t, 0, n, r, a), s = 0; s < 32; s++)e[s] = 0; return 0 } function O(e, t) { var n; for (n = 0; n < 16; n++)e[n] = 0 | t[n] } function U(e) { var t, n, r = 1; for (t = 0; t < 16; t++)n = e[t] + r + 65535, r = Math.floor(n / 65536), e[t] = n - 65536 * r; e[0] += r - 1 + 37 * (r - 1) } function x(e, t, n) { for (var r, a = ~(n - 1), s = 0; s < 16; s++)r = a & (e[s] ^ t[s]), e[s] ^= r, t[s] ^= r } function R(e, n) { var r, a, s, i = t(), o = t(); for (r = 0; r < 16; r++)o[r] = n[r]; for (U(o), U(o), U(o), a = 0; a < 2; a++) { for (i[0] = o[0] - 65517, r = 1; r < 15; r++)i[r] = o[r] - 65535 - (i[r - 1] >> 16 & 1), i[r - 1] &= 65535; i[15] = o[15] - 32767 - (i[14] >> 16 & 1), s = i[15] >> 16 & 1, i[14] &= 65535, x(o, i, 1 - s) } for (r = 0; r < 16; r++)e[2 * r] = 255 & o[r], e[2 * r + 1] = o[r] >> 8 } function C(e, t) { var n = new Uint8Array(32), r = new Uint8Array(32); return R(n, e), R(r, t), b(n, 0, r, 0) } function M(e) { var t = new Uint8Array(32); return R(t, e), 1 & t[0] } function $(e, t) { var n; for (n = 0; n < 16; n++)e[n] = t[2 * n] + (t[2 * n + 1] << 8); e[15] &= 32767 } function D(e, t, n) { for (var r = 0; r < 16; r++)e[r] = t[r] + n[r] } function L(e, t, n) { for (var r = 0; r < 16; r++)e[r] = t[r] - n[r] } function J(e, t, n) { var r, a, s = 0, i = 0, o = 0, c = 0, d = 0, l = 0, u = 0, f = 0, h = 0, p = 0, _ = 0, m = 0, b = 0, y = 0, g = 0, v = 0, w = 0, j = 0, S = 0, E = 0, T = 0, A = 0, I = 0, P = 0, k = 0, O = 0, U = 0, x = 0, R = 0, C = 0, M = 0, $ = n[0], D = n[1], L = n[2], J = n[3], N = n[4], B = n[5], F = n[6], z = n[7], K = n[8], W = n[9], Y = n[10], q = n[11], G = n[12], H = n[13], V = n[14], X = n[15]; s += (r = t[0]) * $, i += r * D, o += r * L, c += r * J, d += r * N, l += r * B, u += r * F, f += r * z, h += r * K, p += r * W, _ += r * Y, m += r * q, b += r * G, y += r * H, g += r * V, v += r * X, i += (r = t[1]) * $, o += r * D, c += r * L, d += r * J, l += r * N, u += r * B, f += r * F, h += r * z, p += r * K, _ += r * W, m += r * Y, b += r * q, y += r * G, g += r * H, v += r * V, w += r * X, o += (r = t[2]) * $, c += r * D, d += r * L, l += r * J, u += r * N, f += r * B, h += r * F, p += r * z, _ += r * K, m += r * W, b += r * Y, y += r * q, g += r * G, v += r * H, w += r * V, j += r * X, c += (r = t[3]) * $, d += r * D, l += r * L, u += r * J, f += r * N, h += r * B, p += r * F, _ += r * z, m += r * K, b += r * W, y += r * Y, g += r * q, v += r * G, w += r * H, j += r * V, S += r * X, d += (r = t[4]) * $, l += r * D, u += r * L, f += r * J, h += r * N, p += r * B, _ += r * F, m += r * z, b += r * K, y += r * W, g += r * Y, v += r * q, w += r * G, j += r * H, S += r * V, E += r * X, l += (r = t[5]) * $, u += r * D, f += r * L, h += r * J, p += r * N, _ += r * B, m += r * F, b += r * z, y += r * K, g += r * W, v += r * Y, w += r * q, j += r * G, S += r * H, E += r * V, T += r * X, u += (r = t[6]) * $, f += r * D, h += r * L, p += r * J, _ += r * N, m += r * B, b += r * F, y += r * z, g += r * K, v += r * W, w += r * Y, j += r * q, S += r * G, E += r * H, T += r * V, A += r * X, f += (r = t[7]) * $, h += r * D, p += r * L, _ += r * J, m += r * N, b += r * B, y += r * F, g += r * z, v += r * K, w += r * W, j += r * Y, S += r * q, E += r * G, T += r * H, A += r * V, I += r * X, h += (r = t[8]) * $, p += r * D, _ += r * L, m += r * J, b += r * N, y += r * B, g += r * F, v += r * z, w += r * K, j += r * W, S += r * Y, E += r * q, T += r * G, A += r * H, I += r * V, P += r * X, p += (r = t[9]) * $, _ += r * D, m += r * L, b += r * J, y += r * N, g += r * B, v += r * F, w += r * z, j += r * K, S += r * W, E += r * Y, T += r * q, A += r * G, I += r * H, P += r * V, k += r * X, _ += (r = t[10]) * $, m += r * D, b += r * L, y += r * J, g += r * N, v += r * B, w += r * F, j += r * z, S += r * K, E += r * W, T += r * Y, A += r * q, I += r * G, P += r * H, k += r * V, O += r * X, m += (r = t[11]) * $, b += r * D, y += r * L, g += r * J, v += r * N, w += r * B, j += r * F, S += r * z, E += r * K, T += r * W, A += r * Y, I += r * q, P += r * G, k += r * H, O += r * V, U += r * X, b += (r = t[12]) * $, y += r * D, g += r * L, v += r * J, w += r * N, j += r * B, S += r * F, E += r * z, T += r * K, A += r * W, I += r * Y, P += r * q, k += r * G, O += r * H, U += r * V, x += r * X, y += (r = t[13]) * $, g += r * D, v += r * L, w += r * J, j += r * N, S += r * B, E += r * F, T += r * z, A += r * K, I += r * W, P += r * Y, k += r * q, O += r * G, U += r * H, x += r * V, R += r * X, g += (r = t[14]) * $, v += r * D, w += r * L, j += r * J, S += r * N, E += r * B, T += r * F, A += r * z, I += r * K, P += r * W, k += r * Y, O += r * q, U += r * G, x += r * H, R += r * V, C += r * X, v += (r = t[15]) * $, i += 38 * (j += r * L), o += 38 * (S += r * J), c += 38 * (E += r * N), d += 38 * (T += r * B), l += 38 * (A += r * F), u += 38 * (I += r * z), f += 38 * (P += r * K), h += 38 * (k += r * W), p += 38 * (O += r * Y), _ += 38 * (U += r * q), m += 38 * (x += r * G), b += 38 * (R += r * H), y += 38 * (C += r * V), g += 38 * (M += r * X), s = (r = (s += 38 * (w += r * D)) + (a = 1) + 65535) - 65536 * (a = Math.floor(r / 65536)), i = (r = i + a + 65535) - 65536 * (a = Math.floor(r / 65536)), o = (r = o + a + 65535) - 65536 * (a = Math.floor(r / 65536)), c = (r = c + a + 65535) - 65536 * (a = Math.floor(r / 65536)), d = (r = d + a + 65535) - 65536 * (a = Math.floor(r / 65536)), l = (r = l + a + 65535) - 65536 * (a = Math.floor(r / 65536)), u = (r = u + a + 65535) - 65536 * (a = Math.floor(r / 65536)), f = (r = f + a + 65535) - 65536 * (a = Math.floor(r / 65536)), h = (r = h + a + 65535) - 65536 * (a = Math.floor(r / 65536)), p = (r = p + a + 65535) - 65536 * (a = Math.floor(r / 65536)), _ = (r = _ + a + 65535) - 65536 * (a = Math.floor(r / 65536)), m = (r = m + a + 65535) - 65536 * (a = Math.floor(r / 65536)), b = (r = b + a + 65535) - 65536 * (a = Math.floor(r / 65536)), y = (r = y + a + 65535) - 65536 * (a = Math.floor(r / 65536)), g = (r = g + a + 65535) - 65536 * (a = Math.floor(r / 65536)), v = (r = v + a + 65535) - 65536 * (a = Math.floor(r / 65536)), s = (r = (s += a - 1 + 37 * (a - 1)) + (a = 1) + 65535) - 65536 * (a = Math.floor(r / 65536)), i = (r = i + a + 65535) - 65536 * (a = Math.floor(r / 65536)), o = (r = o + a + 65535) - 65536 * (a = Math.floor(r / 65536)), c = (r = c + a + 65535) - 65536 * (a = Math.floor(r / 65536)), d = (r = d + a + 65535) - 65536 * (a = Math.floor(r / 65536)), l = (r = l + a + 65535) - 65536 * (a = Math.floor(r / 65536)), u = (r = u + a + 65535) - 65536 * (a = Math.floor(r / 65536)), f = (r = f + a + 65535) - 65536 * (a = Math.floor(r / 65536)), h = (r = h + a + 65535) - 65536 * (a = Math.floor(r / 65536)), p = (r = p + a + 65535) - 65536 * (a = Math.floor(r / 65536)), _ = (r = _ + a + 65535) - 65536 * (a = Math.floor(r / 65536)), m = (r = m + a + 65535) - 65536 * (a = Math.floor(r / 65536)), b = (r = b + a + 65535) - 65536 * (a = Math.floor(r / 65536)), y = (r = y + a + 65535) - 65536 * (a = Math.floor(r / 65536)), g = (r = g + a + 65535) - 65536 * (a = Math.floor(r / 65536)), v = (r = v + a + 65535) - 65536 * (a = Math.floor(r / 65536)), s += a - 1 + 37 * (a - 1), e[0] = s, e[1] = i, e[2] = o, e[3] = c, e[4] = d, e[5] = l, e[6] = u, e[7] = f, e[8] = h, e[9] = p, e[10] = _, e[11] = m, e[12] = b, e[13] = y, e[14] = g, e[15] = v } function N(e, t) { J(e, t, t) } function B(e, n) { var r, a = t(); for (r = 0; r < 16; r++)a[r] = n[r]; for (r = 253; r >= 0; r--)N(a, a), 2 !== r && 4 !== r && J(a, a, n); for (r = 0; r < 16; r++)e[r] = a[r] } function F(e, n) { var r, a = t(); for (r = 0; r < 16; r++)a[r] = n[r]; for (r = 250; r >= 0; r--)N(a, a), 1 !== r && J(a, a, n); for (r = 0; r < 16; r++)e[r] = a[r] } function z(e, n, r) { var a, s, i = new Uint8Array(32), o = new Float64Array(80), d = t(), l = t(), u = t(), f = t(), h = t(), p = t(); for (s = 0; s < 31; s++)i[s] = n[s]; for (i[31] = 127 & n[31] | 64, i[0] &= 248, $(o, r), s = 0; s < 16; s++)l[s] = o[s], f[s] = d[s] = u[s] = 0; for (d[0] = f[0] = 1, s = 254; s >= 0; --s)x(d, l, a = i[s >>> 3] >>> (7 & s) & 1), x(u, f, a), D(h, d, u), L(d, d, u), D(u, l, f), L(l, l, f), N(f, h), N(p, d), J(d, u, d), J(u, l, h), D(h, d, u), L(d, d, u), N(l, d), L(u, f, p), J(d, u, c), D(d, d, f), J(u, u, d), J(d, f, p), J(f, l, o), N(l, h), x(d, l, a), x(u, f, a); for (s = 0; s < 16; s++)o[s + 16] = d[s], o[s + 32] = u[s], o[s + 48] = l[s], o[s + 64] = f[s]; var _ = o.subarray(32), m = o.subarray(16); return B(_, _), J(m, m, _), R(e, m), 0 } function K(e, t) { return z(e, t, s) } function W(e, t) { return r(t, 32), K(e, t) } function Y(e, t, n) { var r = new Uint8Array(32); return z(r, n, t), g(e, a, r, v) } T.prototype.blocks = function (e, t, n) { for (var r, a, s, i, o, c, d, l, u, f, h, p, _, m, b, y, g, v, w, j = this.fin ? 0 : 2048, S = this.h[0], E = this.h[1], T = this.h[2], A = this.h[3], I = this.h[4], P = this.h[5], k = this.h[6], O = this.h[7], U = this.h[8], x = this.h[9], R = this.r[0], C = this.r[1], M = this.r[2], $ = this.r[3], D = this.r[4], L = this.r[5], J = this.r[6], N = this.r[7], B = this.r[8], F = this.r[9]; n >= 16;)f = u = 0, f += (S += 8191 & (r = 255 & e[t + 0] | (255 & e[t + 1]) << 8)) * R, f += (E += 8191 & (r >>> 13 | (a = 255 & e[t + 2] | (255 & e[t + 3]) << 8) << 3)) * (5 * F), f += (T += 8191 & (a >>> 10 | (s = 255 & e[t + 4] | (255 & e[t + 5]) << 8) << 6)) * (5 * B), f += (A += 8191 & (s >>> 7 | (i = 255 & e[t + 6] | (255 & e[t + 7]) << 8) << 9)) * (5 * N), u = (f += (I += 8191 & (i >>> 4 | (o = 255 & e[t + 8] | (255 & e[t + 9]) << 8) << 12)) * (5 * J)) >>> 13, f &= 8191, f += (P += o >>> 1 & 8191) * (5 * L), f += (k += 8191 & (o >>> 14 | (c = 255 & e[t + 10] | (255 & e[t + 11]) << 8) << 2)) * (5 * D), f += (O += 8191 & (c >>> 11 | (d = 255 & e[t + 12] | (255 & e[t + 13]) << 8) << 5)) * (5 * $), f += (U += 8191 & (d >>> 8 | (l = 255 & e[t + 14] | (255 & e[t + 15]) << 8) << 8)) * (5 * M), h = u += (f += (x += l >>> 5 | j) * (5 * C)) >>> 13, h += S * C, h += E * R, h += T * (5 * F), h += A * (5 * B), u = (h += I * (5 * N)) >>> 13, h &= 8191, h += P * (5 * J), h += k * (5 * L), h += O * (5 * D), h += U * (5 * $), u += (h += x * (5 * M)) >>> 13, h &= 8191, p = u, p += S * M, p += E * C, p += T * R, p += A * (5 * F), u = (p += I * (5 * B)) >>> 13, p &= 8191, p += P * (5 * N), p += k * (5 * J), p += O * (5 * L), p += U * (5 * D), _ = u += (p += x * (5 * $)) >>> 13, _ += S * $, _ += E * M, _ += T * C, _ += A * R, u = (_ += I * (5 * F)) >>> 13, _ &= 8191, _ += P * (5 * B), _ += k * (5 * N), _ += O * (5 * J), _ += U * (5 * L), m = u += (_ += x * (5 * D)) >>> 13, m += S * D, m += E * $, m += T * M, m += A * C, u = (m += I * R) >>> 13, m &= 8191, m += P * (5 * F), m += k * (5 * B), m += O * (5 * N), m += U * (5 * J), b = u += (m += x * (5 * L)) >>> 13, b += S * L, b += E * D, b += T * $, b += A * M, u = (b += I * C) >>> 13, b &= 8191, b += P * R, b += k * (5 * F), b += O * (5 * B), b += U * (5 * N), y = u += (b += x * (5 * J)) >>> 13, y += S * J, y += E * L, y += T * D, y += A * $, u = (y += I * M) >>> 13, y &= 8191, y += P * C, y += k * R, y += O * (5 * F), y += U * (5 * B), g = u += (y += x * (5 * N)) >>> 13, g += S * N, g += E * J, g += T * L, g += A * D, u = (g += I * $) >>> 13, g &= 8191, g += P * M, g += k * C, g += O * R, g += U * (5 * F), v = u += (g += x * (5 * B)) >>> 13, v += S * B, v += E * N, v += T * J, v += A * L, u = (v += I * D) >>> 13, v &= 8191, v += P * $, v += k * M, v += O * C, v += U * R, w = u += (v += x * (5 * F)) >>> 13, w += S * F, w += E * B, w += T * N, w += A * J, u = (w += I * L) >>> 13, w &= 8191, w += P * D, w += k * $, w += O * M, w += U * C, S = f = 8191 & (u = (u = ((u += (w += x * R) >>> 13) << 2) + u | 0) + (f &= 8191) | 0), E = h += u >>>= 13, T = p &= 8191, A = _ &= 8191, I = m &= 8191, P = b &= 8191, k = y &= 8191, O = g &= 8191, U = v &= 8191, x = w &= 8191, t += 16, n -= 16; this.h[0] = S, this.h[1] = E, this.h[2] = T, this.h[3] = A, this.h[4] = I, this.h[5] = P, this.h[6] = k, this.h[7] = O, this.h[8] = U, this.h[9] = x }, T.prototype.finish = function (e, t) { var n, r, a, s, i = new Uint16Array(10); if (this.leftover) { for (s = this.leftover, this.buffer[s++] = 1; s < 16; s++)this.buffer[s] = 0; this.fin = 1, this.blocks(this.buffer, 0, 16) } for (n = this.h[1] >>> 13, this.h[1] &= 8191, s = 2; s < 10; s++)this.h[s] += n, n = this.h[s] >>> 13, this.h[s] &= 8191; for (this.h[0] += 5 * n, n = this.h[0] >>> 13, this.h[0] &= 8191, this.h[1] += n, n = this.h[1] >>> 13, this.h[1] &= 8191, this.h[2] += n, i[0] = this.h[0] + 5, n = i[0] >>> 13, i[0] &= 8191, s = 1; s < 10; s++)i[s] = this.h[s] + n, n = i[s] >>> 13, i[s] &= 8191; for (i[9] -= 8192, r = (1 ^ n) - 1, s = 0; s < 10; s++)i[s] &= r; for (r = ~r, s = 0; s < 10; s++)this.h[s] = this.h[s] & r | i[s]; for (this.h[0] = 65535 & (this.h[0] | this.h[1] << 13), this.h[1] = 65535 & (this.h[1] >>> 3 | this.h[2] << 10), this.h[2] = 65535 & (this.h[2] >>> 6 | this.h[3] << 7), this.h[3] = 65535 & (this.h[3] >>> 9 | this.h[4] << 4), this.h[4] = 65535 & (this.h[4] >>> 12 | this.h[5] << 1 | this.h[6] << 14), this.h[5] = 65535 & (this.h[6] >>> 2 | this.h[7] << 11), this.h[6] = 65535 & (this.h[7] >>> 5 | this.h[8] << 8), this.h[7] = 65535 & (this.h[8] >>> 8 | this.h[9] << 5), a = this.h[0] + this.pad[0], this.h[0] = 65535 & a, s = 1; s < 8; s++)a = (this.h[s] + this.pad[s] | 0) + (a >>> 16) | 0, this.h[s] = 65535 & a; e[t + 0] = this.h[0] >>> 0 & 255, e[t + 1] = this.h[0] >>> 8 & 255, e[t + 2] = this.h[1] >>> 0 & 255, e[t + 3] = this.h[1] >>> 8 & 255, e[t + 4] = this.h[2] >>> 0 & 255, e[t + 5] = this.h[2] >>> 8 & 255, e[t + 6] = this.h[3] >>> 0 & 255, e[t + 7] = this.h[3] >>> 8 & 255, e[t + 8] = this.h[4] >>> 0 & 255, e[t + 9] = this.h[4] >>> 8 & 255, e[t + 10] = this.h[5] >>> 0 & 255, e[t + 11] = this.h[5] >>> 8 & 255, e[t + 12] = this.h[6] >>> 0 & 255, e[t + 13] = this.h[6] >>> 8 & 255, e[t + 14] = this.h[7] >>> 0 & 255, e[t + 15] = this.h[7] >>> 8 & 255 }, T.prototype.update = function (e, t, n) { var r, a; if (this.leftover) { for ((a = 16 - this.leftover) > n && (a = n), r = 0; r < a; r++)this.buffer[this.leftover + r] = e[t + r]; if (n -= a, t += a, this.leftover += a, this.leftover < 16) return; this.blocks(this.buffer, 0, 16), this.leftover = 0 } if (n >= 16 && (a = n - n % 16, this.blocks(e, t, a), t += a, n -= a), n) { for (r = 0; r < n; r++)this.buffer[this.leftover + r] = e[t + r]; this.leftover += n } }; var q = P, G = k; var H = [1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399, 3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265, 2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394, 310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994, 1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317, 3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139, 264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901, 1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837, 2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879, 3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901, 113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964, 773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823, 1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142, 2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273, 3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344, 3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720, 430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593, 883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403, 1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012, 2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044, 2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573, 3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711, 3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554, 174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315, 685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100, 1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866, 1607167915, 987167468, 1816402316, 1246189591]; function V(e, t, n, r) { for (var a, s, i, o, c, d, l, u, f, h, p, _, m, b, y, g, v, w, j, S, E, T, A, I, P, k, O = new Int32Array(16), U = new Int32Array(16), x = e[0], R = e[1], C = e[2], M = e[3], $ = e[4], D = e[5], L = e[6], J = e[7], N = t[0], B = t[1], F = t[2], z = t[3], K = t[4], W = t[5], Y = t[6], q = t[7], G = 0; r >= 128;) { for (j = 0; j < 16; j++)S = 8 * j + G, O[j] = n[S + 0] << 24 | n[S + 1] << 16 | n[S + 2] << 8 | n[S + 3], U[j] = n[S + 4] << 24 | n[S + 5] << 16 | n[S + 6] << 8 | n[S + 7]; for (j = 0; j < 80; j++)if (a = x, s = R, i = C, o = M, c = $, d = D, l = L, J, f = N, h = B, p = F, _ = z, m = K, b = W, y = Y, q, A = 65535 & (T = q), I = T >>> 16, P = 65535 & (E = J), k = E >>> 16, A += 65535 & (T = (K >>> 14 | $ << 18) ^ (K >>> 18 | $ << 14) ^ ($ >>> 9 | K << 23)), I += T >>> 16, P += 65535 & (E = ($ >>> 14 | K << 18) ^ ($ >>> 18 | K << 14) ^ (K >>> 9 | $ << 23)), k += E >>> 16, A += 65535 & (T = K & W ^ ~K & Y), I += T >>> 16, P += 65535 & (E = $ & D ^ ~$ & L), k += E >>> 16, A += 65535 & (T = H[2 * j + 1]), I += T >>> 16, P += 65535 & (E = H[2 * j]), k += E >>> 16, E = O[j % 16], I += (T = U[j % 16]) >>> 16, P += 65535 & E, k += E >>> 16, P += (I += (A += 65535 & T) >>> 16) >>> 16, A = 65535 & (T = w = 65535 & A | I << 16), I = T >>> 16, P = 65535 & (E = v = 65535 & P | (k += P >>> 16) << 16), k = E >>> 16, A += 65535 & (T = (N >>> 28 | x << 4) ^ (x >>> 2 | N << 30) ^ (x >>> 7 | N << 25)), I += T >>> 16, P += 65535 & (E = (x >>> 28 | N << 4) ^ (N >>> 2 | x << 30) ^ (N >>> 7 | x << 25)), k += E >>> 16, I += (T = N & B ^ N & F ^ B & F) >>> 16, P += 65535 & (E = x & R ^ x & C ^ R & C), k += E >>> 16, u = 65535 & (P += (I += (A += 65535 & T) >>> 16) >>> 16) | (k += P >>> 16) << 16, g = 65535 & A | I << 16, A = 65535 & (T = _), I = T >>> 16, P = 65535 & (E = o), k = E >>> 16, I += (T = w) >>> 16, P += 65535 & (E = v), k += E >>> 16, R = a, C = s, M = i, $ = o = 65535 & (P += (I += (A += 65535 & T) >>> 16) >>> 16) | (k += P >>> 16) << 16, D = c, L = d, J = l, x = u, B = f, F = h, z = p, K = _ = 65535 & A | I << 16, W = m, Y = b, q = y, N = g, j % 16 == 15) for (S = 0; S < 16; S++)E = O[S], A = 65535 & (T = U[S]), I = T >>> 16, P = 65535 & E, k = E >>> 16, E = O[(S + 9) % 16], A += 65535 & (T = U[(S + 9) % 16]), I += T >>> 16, P += 65535 & E, k += E >>> 16, v = O[(S + 1) % 16], A += 65535 & (T = ((w = U[(S + 1) % 16]) >>> 1 | v << 31) ^ (w >>> 8 | v << 24) ^ (w >>> 7 | v << 25)), I += T >>> 16, P += 65535 & (E = (v >>> 1 | w << 31) ^ (v >>> 8 | w << 24) ^ v >>> 7), k += E >>> 16, v = O[(S + 14) % 16], I += (T = ((w = U[(S + 14) % 16]) >>> 19 | v << 13) ^ (v >>> 29 | w << 3) ^ (w >>> 6 | v << 26)) >>> 16, P += 65535 & (E = (v >>> 19 | w << 13) ^ (w >>> 29 | v << 3) ^ v >>> 6), k += E >>> 16, k += (P += (I += (A += 65535 & T) >>> 16) >>> 16) >>> 16, O[S] = 65535 & P | k << 16, U[S] = 65535 & A | I << 16; A = 65535 & (T = N), I = T >>> 16, P = 65535 & (E = x), k = E >>> 16, E = e[0], I += (T = t[0]) >>> 16, P += 65535 & E, k += E >>> 16, k += (P += (I += (A += 65535 & T) >>> 16) >>> 16) >>> 16, e[0] = x = 65535 & P | k << 16, t[0] = N = 65535 & A | I << 16, A = 65535 & (T = B), I = T >>> 16, P = 65535 & (E = R), k = E >>> 16, E = e[1], I += (T = t[1]) >>> 16, P += 65535 & E, k += E >>> 16, k += (P += (I += (A += 65535 & T) >>> 16) >>> 16) >>> 16, e[1] = R = 65535 & P | k << 16, t[1] = B = 65535 & A | I << 16, A = 65535 & (T = F), I = T >>> 16, P = 65535 & (E = C), k = E >>> 16, E = e[2], I += (T = t[2]) >>> 16, P += 65535 & E, k += E >>> 16, k += (P += (I += (A += 65535 & T) >>> 16) >>> 16) >>> 16, e[2] = C = 65535 & P | k << 16, t[2] = F = 65535 & A | I << 16, A = 65535 & (T = z), I = T >>> 16, P = 65535 & (E = M), k = E >>> 16, E = e[3], I += (T = t[3]) >>> 16, P += 65535 & E, k += E >>> 16, k += (P += (I += (A += 65535 & T) >>> 16) >>> 16) >>> 16, e[3] = M = 65535 & P | k << 16, t[3] = z = 65535 & A | I << 16, A = 65535 & (T = K), I = T >>> 16, P = 65535 & (E = $), k = E >>> 16, E = e[4], I += (T = t[4]) >>> 16, P += 65535 & E, k += E >>> 16, k += (P += (I += (A += 65535 & T) >>> 16) >>> 16) >>> 16, e[4] = $ = 65535 & P | k << 16, t[4] = K = 65535 & A | I << 16, A = 65535 & (T = W), I = T >>> 16, P = 65535 & (E = D), k = E >>> 16, E = e[5], I += (T = t[5]) >>> 16, P += 65535 & E, k += E >>> 16, k += (P += (I += (A += 65535 & T) >>> 16) >>> 16) >>> 16, e[5] = D = 65535 & P | k << 16, t[5] = W = 65535 & A | I << 16, A = 65535 & (T = Y), I = T >>> 16, P = 65535 & (E = L), k = E >>> 16, E = e[6], I += (T = t[6]) >>> 16, P += 65535 & E, k += E >>> 16, k += (P += (I += (A += 65535 & T) >>> 16) >>> 16) >>> 16, e[6] = L = 65535 & P | k << 16, t[6] = Y = 65535 & A | I << 16, A = 65535 & (T = q), I = T >>> 16, P = 65535 & (E = J), k = E >>> 16, E = e[7], I += (T = t[7]) >>> 16, P += 65535 & E, k += E >>> 16, k += (P += (I += (A += 65535 & T) >>> 16) >>> 16) >>> 16, e[7] = J = 65535 & P | k << 16, t[7] = q = 65535 & A | I << 16, G += 128, r -= 128 } return r } function X(e, t, n) { var r, a = new Int32Array(8), s = new Int32Array(8), i = new Uint8Array(256), o = n; for (a[0] = 1779033703, a[1] = 3144134277, a[2] = 1013904242, a[3] = 2773480762, a[4] = 1359893119, a[5] = 2600822924, a[6] = 528734635, a[7] = 1541459225, s[0] = 4089235720, s[1] = 2227873595, s[2] = 4271175723, s[3] = 1595750129, s[4] = 2917565137, s[5] = 725511199, s[6] = 4215389547, s[7] = 327033209, V(a, s, t, n), n %= 128, r = 0; r < n; r++)i[r] = t[o - n + r]; for (i[n] = 128, i[(n = 256 - 128 * (n < 112 ? 1 : 0)) - 9] = 0, p(i, n - 8, o / 536870912 | 0, o << 3), V(a, s, i, n), r = 0; r < 8; r++)p(e, 8 * r, a[r], s[r]); return 0 } function Z(e, n) { var r = t(), a = t(), s = t(), i = t(), o = t(), c = t(), d = t(), u = t(), f = t(); L(r, e[1], e[0]), L(f, n[1], n[0]), J(r, r, f), D(a, e[0], e[1]), D(f, n[0], n[1]), J(a, a, f), J(s, e[3], n[3]), J(s, s, l), J(i, e[2], n[2]), D(i, i, i), L(o, a, r), L(c, i, s), D(d, i, s), D(u, a, r), J(e[0], o, c), J(e[1], u, d), J(e[2], d, c), J(e[3], o, u) } function Q(e, t, n) { var r; for (r = 0; r < 4; r++)x(e[r], t[r], n) } function ee(e, n) { var r = t(), a = t(), s = t(); B(s, n[2]), J(r, n[0], s), J(a, n[1], s), R(e, a), e[31] ^= M(r) << 7 } function te(e, t, n) { var r, a; for (O(e[0], i), O(e[1], o), O(e[2], o), O(e[3], i), a = 255; a >= 0; --a)Q(e, t, r = n[a / 8 | 0] >> (7 & a) & 1), Z(t, e), Z(e, e), Q(e, t, r) } function ne(e, n) { var r = [t(), t(), t(), t()]; O(r[0], u), O(r[1], f), O(r[2], o), J(r[3], u, f), te(e, r, n) } function re(e, n, a) { var s, i = new Uint8Array(64), o = [t(), t(), t(), t()]; for (a || r(n, 32), X(i, n, 32), i[0] &= 248, i[31] &= 127, i[31] |= 64, ne(o, i), ee(e, o), s = 0; s < 32; s++)n[s + 32] = e[s]; return 0 } var ae = new Float64Array([237, 211, 245, 92, 26, 99, 18, 88, 214, 156, 247, 162, 222, 249, 222, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 16]); function se(e, t) { var n, r, a, s; for (r = 63; r >= 32; --r) { for (n = 0, a = r - 32, s = r - 12; a < s; ++a)t[a] += n - 16 * t[r] * ae[a - (r - 32)], n = Math.floor((t[a] + 128) / 256), t[a] -= 256 * n; t[a] += n, t[r] = 0 } for (n = 0, a = 0; a < 32; a++)t[a] += n - (t[31] >> 4) * ae[a], n = t[a] >> 8, t[a] &= 255; for (a = 0; a < 32; a++)t[a] -= n * ae[a]; for (r = 0; r < 32; r++)t[r + 1] += t[r] >> 8, e[r] = 255 & t[r] } function ie(e) { var t, n = new Float64Array(64); for (t = 0; t < 64; t++)n[t] = e[t]; for (t = 0; t < 64; t++)e[t] = 0; se(e, n) } function oe(e, n, r, a) { var s, i, o = new Uint8Array(64), c = new Uint8Array(64), d = new Uint8Array(64), l = new Float64Array(64), u = [t(), t(), t(), t()]; X(o, a, 32), o[0] &= 248, o[31] &= 127, o[31] |= 64; var f = r + 64; for (s = 0; s < r; s++)e[64 + s] = n[s]; for (s = 0; s < 32; s++)e[32 + s] = o[32 + s]; for (X(d, e.subarray(32), r + 32), ie(d), ne(u, d), ee(e, u), s = 32; s < 64; s++)e[s] = a[s]; for (X(c, e, r + 64), ie(c), s = 0; s < 64; s++)l[s] = 0; for (s = 0; s < 32; s++)l[s] = d[s]; for (s = 0; s < 32; s++)for (i = 0; i < 32; i++)l[s + i] += c[s] * o[i]; return se(e.subarray(32), l), f } function ce(e, n, r, a) { var s, c = new Uint8Array(32), l = new Uint8Array(64), u = [t(), t(), t(), t()], f = [t(), t(), t(), t()]; if (r < 64) return -1; if (function (e, n) { var r = t(), a = t(), s = t(), c = t(), l = t(), u = t(), f = t(); return O(e[2], o), $(e[1], n), N(s, e[1]), J(c, s, d), L(s, s, e[2]), D(c, e[2], c), N(l, c), N(u, l), J(f, u, l), J(r, f, s), J(r, r, c), F(r, r), J(r, r, s), J(r, r, c), J(r, r, c), J(e[0], r, c), N(a, e[0]), J(a, a, c), C(a, s) && J(e[0], e[0], h), N(a, e[0]), J(a, a, c), C(a, s) ? -1 : (M(e[0]) === n[31] >> 7 && L(e[0], i, e[0]), J(e[3], e[0], e[1]), 0) }(f, a)) return -1; for (s = 0; s < r; s++)e[s] = n[s]; for (s = 0; s < 32; s++)e[s + 32] = a[s]; if (X(l, e, r), ie(l), te(u, f, l), ne(f, n.subarray(32)), Z(u, f), ee(c, u), r -= 64, b(n, 0, c, 0)) { for (s = 0; s < r; s++)e[s] = 0; return -1 } for (s = 0; s < r; s++)e[s] = n[s + 64]; return r } var de = 16, le = 64, ue = 32, fe = 64; function he(e, t) { if (32 !== e.length) throw new Error("bad key size"); if (24 !== t.length) throw new Error("bad nonce size") } function pe() { for (var e = 0; e < arguments.length; e++)if (!(arguments[e] instanceof Uint8Array)) throw new TypeError("unexpected type, use Uint8Array") } function _e(e) { for (var t = 0; t < e.length; t++)e[t] = 0 } e.lowlevel = { crypto_core_hsalsa20: g, crypto_stream_xor: E, crypto_stream: S, crypto_stream_salsa20_xor: w, crypto_stream_salsa20: j, crypto_onetimeauth: A, crypto_onetimeauth_verify: I, crypto_verify_16: m, crypto_verify_32: b, crypto_secretbox: P, crypto_secretbox_open: k, crypto_scalarmult: z, crypto_scalarmult_base: K, crypto_box_beforenm: Y, crypto_box_afternm: q, crypto_box: function (e, t, n, r, a, s) { var i = new Uint8Array(32); return Y(i, a, s), q(e, t, n, r, i) }, crypto_box_open: function (e, t, n, r, a, s) { var i = new Uint8Array(32); return Y(i, a, s), G(e, t, n, r, i) }, crypto_box_keypair: W, crypto_hash: X, crypto_sign: oe, crypto_sign_keypair: re, crypto_sign_open: ce, crypto_secretbox_KEYBYTES: 32, crypto_secretbox_NONCEBYTES: 24, crypto_secretbox_ZEROBYTES: 32, crypto_secretbox_BOXZEROBYTES: de, crypto_scalarmult_BYTES: 32, crypto_scalarmult_SCALARBYTES: 32, crypto_box_PUBLICKEYBYTES: 32, crypto_box_SECRETKEYBYTES: 32, crypto_box_BEFORENMBYTES: 32, crypto_box_NONCEBYTES: 24, crypto_box_ZEROBYTES: 32, crypto_box_BOXZEROBYTES: 16, crypto_sign_BYTES: le, crypto_sign_PUBLICKEYBYTES: ue, crypto_sign_SECRETKEYBYTES: fe, crypto_sign_SEEDBYTES: 32, crypto_hash_BYTES: 64, gf: t, D: d, L: ae, pack25519: R, unpack25519: $, M: J, A: D, S: N, Z: L, pow2523: F, add: Z, set25519: O, modL: se, scalarmult: te, scalarbase: ne }, e.randomBytes = function (e) { var t = new Uint8Array(e); return r(t, e), t }, e.secretbox = function (e, t, n) { pe(e, t, n), he(n, t); for (var r = new Uint8Array(32 + e.length), a = new Uint8Array(r.length), s = 0; s < e.length; s++)r[s + 32] = e[s]; return P(a, r, r.length, t, n), a.subarray(de) }, e.secretbox.open = function (e, t, n) { pe(e, t, n), he(n, t); for (var r = new Uint8Array(de + e.length), a = new Uint8Array(r.length), s = 0; s < e.length; s++)r[s + de] = e[s]; return r.length < 32 || 0 !== k(a, r, r.length, t, n) ? null : a.subarray(32) }, e.secretbox.keyLength = 32, e.secretbox.nonceLength = 24, e.secretbox.overheadLength = de, e.scalarMult = function (e, t) { if (pe(e, t), 32 !== e.length) throw new Error("bad n size"); if (32 !== t.length) throw new Error("bad p size"); var n = new Uint8Array(32); return z(n, e, t), n }, e.scalarMult.base = function (e) { if (pe(e), 32 !== e.length) throw new Error("bad n size"); var t = new Uint8Array(32); return K(t, e), t }, e.scalarMult.scalarLength = 32, e.scalarMult.groupElementLength = 32, e.box = function (t, n, r, a) { var s = e.box.before(r, a); return e.secretbox(t, n, s) }, e.box.before = function (e, t) { pe(e, t), function (e, t) { if (32 !== e.length) throw new Error("bad public key size"); if (32 !== t.length) throw new Error("bad secret key size") }(e, t); var n = new Uint8Array(32); return Y(n, e, t), n }, e.box.after = e.secretbox, e.box.open = function (t, n, r, a) { var s = e.box.before(r, a); return e.secretbox.open(t, n, s) }, e.box.open.after = e.secretbox.open, e.box.keyPair = function () { var e = new Uint8Array(32), t = new Uint8Array(32); return W(e, t), { publicKey: e, secretKey: t } }, e.box.keyPair.fromSecretKey = function (e) { if (pe(e), 32 !== e.length) throw new Error("bad secret key size"); var t = new Uint8Array(32); return K(t, e), { publicKey: t, secretKey: new Uint8Array(e) } }, e.box.publicKeyLength = 32, e.box.secretKeyLength = 32, e.box.sharedKeyLength = 32, e.box.nonceLength = 24, e.box.overheadLength = e.secretbox.overheadLength, e.sign = function (e, t) { if (pe(e, t), t.length !== fe) throw new Error("bad secret key size"); var n = new Uint8Array(le + e.length); return oe(n, e, e.length, t), n }, e.sign.open = function (e, t) { if (pe(e, t), t.length !== ue) throw new Error("bad public key size"); var n = new Uint8Array(e.length), r = ce(n, e, e.length, t); if (r < 0) return null; for (var a = new Uint8Array(r), s = 0; s < a.length; s++)a[s] = n[s]; return a }, e.sign.detached = function (t, n) { for (var r = e.sign(t, n), a = new Uint8Array(le), s = 0; s < a.length; s++)a[s] = r[s]; return a }, e.sign.detached.verify = function (e, t, n) { if (pe(e, t, n), t.length !== le) throw new Error("bad signature size"); if (n.length !== ue) throw new Error("bad public key size"); var r, a = new Uint8Array(le + e.length), s = new Uint8Array(le + e.length); for (r = 0; r < le; r++)a[r] = t[r]; for (r = 0; r < e.length; r++)a[r + le] = e[r]; return ce(s, a, a.length, n) >= 0 }, e.sign.keyPair = function () { var e = new Uint8Array(ue), t = new Uint8Array(fe); return re(e, t), { publicKey: e, secretKey: t } }, e.sign.keyPair.fromSecretKey = function (e) { if (pe(e), e.length !== fe) throw new Error("bad secret key size"); for (var t = new Uint8Array(ue), n = 0; n < t.length; n++)t[n] = e[32 + n]; return { publicKey: t, secretKey: new Uint8Array(e) } }, e.sign.keyPair.fromSeed = function (e) { if (pe(e), 32 !== e.length) throw new Error("bad seed size"); for (var t = new Uint8Array(ue), n = new Uint8Array(fe), r = 0; r < 32; r++)n[r] = e[r]; return re(t, n, !0), { publicKey: t, secretKey: n } }, e.sign.publicKeyLength = ue, e.sign.secretKeyLength = fe, e.sign.seedLength = 32, e.sign.signatureLength = le, e.hash = function (e) { pe(e); var t = new Uint8Array(64); return X(t, e, e.length), t }, e.hash.hashLength = 64, e.verify = function (e, t) { return pe(e, t), 0 !== e.length && 0 !== t.length && (e.length === t.length && 0 === _(e, 0, t, 0, e.length)) }, e.setPRNG = function (e) { r = e }, function () { var t = "undefined" != typeof self ? self.crypto || self.msCrypto : null; if (t && t.getRandomValues) { e.setPRNG((function (e, n) { var r, a = new Uint8Array(n); for (r = 0; r < n; r += 65536)t.getRandomValues(a.subarray(r, r + Math.min(n - r, 65536))); for (r = 0; r < n; r++)e[r] = a[r]; _e(a) })) } else (t = n(2329)) && t.randomBytes && e.setPRNG((function (e, n) { var r, a = t.randomBytes(n); for (r = 0; r < n; r++)e[r] = a[r]; _e(a) })) }() }(e.exports ? e.exports : self.nacl = self.nacl || {}) }, 1504: e => { function t(e, t, n, r, a, s, i) { try { var o = e[s](i), c = o.value } catch (e) { return void n(e) } o.done ? t(c) : Promise.resolve(c).then(r, a) } e.exports = function (e) { return function () { var n = this, r = arguments; return new Promise((function (a, s) { var i = e.apply(n, r); function o(e) { t(i, a, s, o, c, "next", e) } function c(e) { t(i, a, s, o, c, "throw", e) } o(void 0) })) } } }, 5526: e => { e.exports = function (e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } }, 7914: e => { e.exports = function (e) { return e && e.__esModule ? e : { default: e } } }, 3982: (e, t, n) => { var r = n(5526); function a(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } e.exports = function (e) { for (var t = 1; t < arguments.length; t++) { var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? a(Object(n), !0).forEach((function (t) { r(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : a(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } }, 4302: e => { "use strict"; var t = Object.prototype.hasOwnProperty, n = "function" == typeof WeakMap ? new WeakMap : new Map; function r(e) { var t = n.get(e); if (void 0 !== t) return t; var r = new Map; return Object.getOwnPropertyNames(e).forEach((function (t) { r.set(e[t], t) })), n.set(e, r), r } var a = Object.freeze(Object.defineProperties(Object.create(null), { isValid: { value: function (e) { return r(this).has(e) } }, cast: { value: function (e) { return this.isValid(e) ? e : void 0 } }, members: { value: function () { return r(this).keys() } }, getName: { value: function (e) { return r(this).get(e) } } })); function s(e) { var n = Object.create(a); for (var r in e) t.call(e, r) && Object.defineProperty(n, r, { value: e[r] }); return Object.freeze(n) } var i = Object.freeze(Object.defineProperties(Object.create(null), { isValid: { value: function (e) { return "string" == typeof e && t.call(this, e) } }, cast: { value: a.cast }, members: { value: function () { return Object.getOwnPropertyNames(this) } }, getName: { value: function (e) { return e } } })); s.Mirrored = function (e) { for (var t = Object.create(i), n = 0, r = e.length; n < r; ++n)Object.defineProperty(t, e[n], { value: e[n] }); return Object.freeze(t) }, Object.freeze(s.Mirrored), e.exports = Object.freeze(s) }, 8926: e => { function t(e, t, n, r, a, s, i) { try { var o = e[s](i), c = o.value } catch (e) { return void n(e) } o.done ? t(c) : Promise.resolve(c).then(r, a) } e.exports = function (e) { return function () { var n = this, r = arguments; return new Promise((function (a, s) { var i = e.apply(n, r); function o(e) { t(i, a, s, o, c, "next", e) } function c(e) { t(i, a, s, o, c, "throw", e) } o(void 0) })) } }, e.exports.default = e.exports, e.exports.__esModule = !0 }, 9713: e => { e.exports = function (e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e }, e.exports.default = e.exports, e.exports.__esModule = !0 }, 5318: e => { e.exports = function (e) { return e && e.__esModule ? e : { default: e } }, e.exports.default = e.exports, e.exports.__esModule = !0 }, 1109: (e, t, n) => { var r = n(9713); function a(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } e.exports = function (e) { for (var t = 1; t < arguments.length; t++) { var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? a(Object(n), !0).forEach((function (t) { r(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : a(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e }, e.exports.default = e.exports, e.exports.__esModule = !0 }, 4493: (e, t) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.SINGLE_BYTE_TOKEN = t.DICT_VERSION = t.DICTIONARY_3_TOKEN = t.DICTIONARY_2_TOKEN = t.DICTIONARY_1_TOKEN = t.DICTIONARY_0_TOKEN = t.DICTIONARIES = void 0; t.DICT_VERSION = 2; t.SINGLE_BYTE_TOKEN = ["xmlstreamstart", "xmlstreamend", "s.whatsapp.net", "type", "participant", "from", "receipt", "id", "broadcast", "status", "message", "notification", "notify", "to", "jid", "user", "class", "offline", "g.us", "result", "mediatype", "enc", "skmsg", "off_cnt", "xmlns", "presence", "participants", "ack", "t", "iq", "device_hash", "read", "value", "media", "picture", "chatstate", "unavailable", "text", "urn:xmpp:whatsapp:push", "devices", "verified_name", "contact", "composing", "edge_routing", "routing_info", "item", "image", "verified_level", "get", "fallback_hostname", "2", "media_conn", "1", "v", "handshake", "fallback_class", "count", "config", "offline_preview", "download_buckets", "w:profile:picture", "set", "creation", "location", "fallback_ip4", "msg", "urn:xmpp:ping", "fallback_ip6", "call-creator", "relaylatency", "success", "subscribe", "video", "business_hours_config", "platform", "hostname", "version", "unknown", "0", "ping", "hash", "edit", "subject", "max_buckets", "download", "delivery", "props", "sticker", "name", "last", "contacts", "business", "primary", "preview", "w:p", "pkmsg", "call-id", "retry", "prop", "call", "auth_ttl", "available", "relay_id", "last_id", "day_of_week", "w", "host", "seen", "bits", "list", "atn", "upload", "is_new", "w:stats", "key", "paused", "specific_hours", "multicast", "stream:error", "mmg.whatsapp.net", "code", "deny", "played", "profile", "fna", "device-list", "close_time", "latency", "gcm", "pop", "audio", "26", "w:web", "open_time", "error", "auth", "ip4", "update", "profile_options", "config_value", "category", "catalog_not_created", "00", "config_code", "mode", "catalog_status", "ip6", "blocklist", "registration", "7", "web", "fail", "w:m", "cart_enabled", "ttl", "gif", "300", "device_orientation", "identity", "query", "401", "media-gig2-1.cdn.whatsapp.net", "in", "3", "te2", "add", "fallback", "categories", "ptt", "encrypt", "notice", "thumbnail-document", "item-not-found", "12", "thumbnail-image", "stage", "thumbnail-link", "usync", "out", "thumbnail-video", "8", "01", "context", "sidelist", "thumbnail-gif", "terminate", "not-authorized", "orientation", "dhash", "capability", "side_list", "md-app-state", "description", "serial", "readreceipts", "te", "business_hours", "md-msg-hist", "tag", "attribute_padding", "document", "open_24h", "delete", "expiration", "active", "prev_v_id", "true", "passive", "index", "4", "conflict", "remove", "w:gp2", "config_expo_key", "screen_height", "replaced", "02", "screen_width", "uploadfieldstat", "2:47DEQpj8", "media-bog1-1.cdn.whatsapp.net", "encopt", "url", "catalog_exists", "keygen", "rate", "offer", "opus", "media-mia3-1.cdn.whatsapp.net", "privacy", "media-mia3-2.cdn.whatsapp.net", "signature", "preaccept", "token_id", "media-eze1-1.cdn.whatsapp.net"]; const n = ["media-for1-1.cdn.whatsapp.net", "relay", "media-gru2-2.cdn.whatsapp.net", "uncompressed", "medium", "voip_settings", "device", "reason", "media-lim1-1.cdn.whatsapp.net", "media-qro1-2.cdn.whatsapp.net", "media-gru1-2.cdn.whatsapp.net", "action", "features", "media-gru2-1.cdn.whatsapp.net", "media-gru1-1.cdn.whatsapp.net", "media-otp1-1.cdn.whatsapp.net", "kyc-id", "priority", "phash", "mute", "token", "100", "media-qro1-1.cdn.whatsapp.net", "none", "media-mrs2-2.cdn.whatsapp.net", "sign_credential", "03", "media-mrs2-1.cdn.whatsapp.net", "protocol", "timezone", "transport", "eph_setting", "1080", "original_dimensions", "media-frx5-1.cdn.whatsapp.net", "background", "disable", "original_image_url", "5", "transaction-id", "direct_path", "103", "appointment_only", "request_image_url", "peer_pid", "address", "105", "104", "102", "media-cdt1-1.cdn.whatsapp.net", "101", "109", "110", "106", "background_location", "v_id", "sync", "status-old", "111", "107", "ppic", "media-scl2-1.cdn.whatsapp.net", "business_profile", "108", "invite", "04", "audio_duration", "media-mct1-1.cdn.whatsapp.net", "media-cdg2-1.cdn.whatsapp.net", "media-los2-1.cdn.whatsapp.net", "invis", "net", "voip_payload_type", "status-revoke-delay", "404", "state", "use_correct_order_for_hmac_sha1", "ver", "media-mad1-1.cdn.whatsapp.net", "order", "540", "skey", "blinded_credential", "android", "contact_remove", "enable_downlink_relay_latency_only", "duration", "enable_vid_one_way_codec_nego", "6", "media-sof1-1.cdn.whatsapp.net", "accept", "all", "signed_credential", "media-atl3-1.cdn.whatsapp.net", "media-lhr8-1.cdn.whatsapp.net", "website", "05", "latitude", "media-dfw5-1.cdn.whatsapp.net", "forbidden", "enable_audio_piggyback_network_mtu_fix", "media-dfw5-2.cdn.whatsapp.net", "note.m4r", "media-atl3-2.cdn.whatsapp.net", "jb_nack_discard_count_fix", "longitude", "Opening.m4r", "media-arn2-1.cdn.whatsapp.net", "email", "timestamp", "admin", "media-pmo1-1.cdn.whatsapp.net", "America/Sao_Paulo", "contact_add", "media-sin6-1.cdn.whatsapp.net", "interactive", "8000", "acs_public_key", "sigquit_anr_detector_release_rollover_percent", "media.fmed1-2.fna.whatsapp.net", "groupadd", "enabled_for_video_upgrade", "latency_update_threshold", "media-frt3-2.cdn.whatsapp.net", "calls_row_constraint_layout", "media.fgbb2-1.fna.whatsapp.net", "mms4_media_retry_notification_encryption_enabled", "timeout", "media-sin6-3.cdn.whatsapp.net", "audio_nack_jitter_multiplier", "jb_discard_count_adjust_pct_rc", "audio_reserve_bps", "delta", "account_sync", "default", "media.fjed4-6.fna.whatsapp.net", "06", "lock_video_orientation", "media-frt3-1.cdn.whatsapp.net", "w:g2", "media-sin6-2.cdn.whatsapp.net", "audio_nack_algo_mask", "media.fgbb2-2.fna.whatsapp.net", "media.fmed1-1.fna.whatsapp.net", "cond_range_target_bitrate", "mms4_server_error_receipt_encryption_enabled", "vid_rc_dyn", "fri", "cart_v1_1_order_message_changes_enabled", "reg_push", "jb_hist_deposit_value", "privatestats", "media.fist7-2.fna.whatsapp.net", "thu", "jb_discard_count_adjust_pct", "mon", "group_call_video_maximization_enabled", "mms_cat_v1_forward_hot_override_enabled", "audio_nack_new_rtt", "media.fsub2-3.fna.whatsapp.net", "media_upload_aggressive_retry_exponential_backoff_enabled", "tue", "wed", "media.fruh4-2.fna.whatsapp.net", "audio_nack_max_seq_req", "max_rtp_audio_packet_resends", "jb_hist_max_cdf_value", "07", "audio_nack_max_jb_delay", "mms_forward_partially_downloaded_video", "media-lcy1-1.cdn.whatsapp.net", "resume", "jb_inband_fec_aware", "new_commerce_entry_point_enabled", "480", "payments_upi_generate_qr_amount_limit", "sigquit_anr_detector_rollover_percent", "media.fsdu2-1.fna.whatsapp.net", "fbns", "aud_pkt_reorder_pct", "dec", "stop_probing_before_accept_send", "media_upload_max_aggressive_retries", "edit_business_profile_new_mode_enabled", "media.fhex4-1.fna.whatsapp.net", "media.fjed4-3.fna.whatsapp.net", "sigquit_anr_detector_64bit_rollover_percent", "cond_range_ema_jb_last_delay", "watls_enable_early_data_http_get", "media.fsdu2-2.fna.whatsapp.net", "message_qr_disambiguation_enabled", "media-mxp1-1.cdn.whatsapp.net", "sat", "vertical", "media.fruh4-5.fna.whatsapp.net", "200", "media-sof1-2.cdn.whatsapp.net", "-1", "height", "product_catalog_hide_show_items_enabled", "deep_copy_frm_last", "tsoffline", "vp8/h.264", "media.fgye5-3.fna.whatsapp.net", "media.ftuc1-2.fna.whatsapp.net", "smb_upsell_chat_banner_enabled", "canonical", "08", "9", ".", "media.fgyd4-4.fna.whatsapp.net", "media.fsti4-1.fna.whatsapp.net", "mms_vcache_aggregation_enabled", "mms_hot_content_timespan_in_seconds", "nse_ver", "rte", "third_party_sticker_web_sync", "cond_range_target_total_bitrate", "media_upload_aggressive_retry_enabled", "instrument_spam_report_enabled", "disable_reconnect_tone", "move_media_folder_from_sister_app", "one_tap_calling_in_group_chat_size", "10", "storage_mgmt_banner_threshold_mb", "enable_backup_passive_mode", "sharechat_inline_player_enabled", "media.fcnq2-1.fna.whatsapp.net", "media.fhex4-2.fna.whatsapp.net", "media.fist6-3.fna.whatsapp.net", "ephemeral_drop_column_stage", "reconnecting_after_network_change_threshold_ms", "media-lhr8-2.cdn.whatsapp.net", "cond_jb_last_delay_ema_alpha", "entry_point_block_logging_enabled", "critical_event_upload_log_config", "respect_initial_bitrate_estimate", "smaller_image_thumbs_status_enabled", "media.fbtz1-4.fna.whatsapp.net", "media.fjed4-1.fna.whatsapp.net", "width", "720", "enable_frame_dropper", "enable_one_side_mode", "urn:xmpp:whatsapp:dirty", "new_sticker_animation_behavior_v2", "media.flim3-2.fna.whatsapp.net", "media.fuio6-2.fna.whatsapp.net", "skip_forced_signaling", "dleq_proof", "status_video_max_bitrate", "lazy_send_probing_req", "enhanced_storage_management", "android_privatestats_endpoint_dit_enabled", "media.fscl13-2.fna.whatsapp.net", "video_duration"]; t.DICTIONARY_0_TOKEN = n; const r = ["group_call_discoverability_enabled", "media.faep9-2.fna.whatsapp.net", "msgr", "bloks_loggedin_access_app_id", "db_status_migration_step", "watls_prefer_ip6", "jabber:iq:privacy", "68", "media.fsaw1-11.fna.whatsapp.net", "mms4_media_conn_persist_enabled", "animated_stickers_thread_clean_up", "media.fcgk3-2.fna.whatsapp.net", "media.fcgk4-6.fna.whatsapp.net", "media.fgye5-2.fna.whatsapp.net", "media.flpb1-1.fna.whatsapp.net", "media.fsub2-1.fna.whatsapp.net", "media.fuio6-3.fna.whatsapp.net", "not-allowed", "partial_pjpeg_bw_threshold", "cap_estimated_bitrate", "mms_chatd_resume_check_over_thrift", "smb_upsell_business_profile_enabled", "product_catalog_webclient", "groups", "sigquit_anr_detector_release_updated_rollout", "syncd_key_rotation_enabled", "media.fdmm2-1.fna.whatsapp.net", "media-hou1-1.cdn.whatsapp.net", "remove_old_chat_notifications", "smb_biztools_deeplink_enabled", "use_downloadable_filters_int", "group_qr_codes_enabled", "max_receipt_processing_time", "optimistic_image_processing_enabled", "smaller_video_thumbs_status_enabled", "watls_early_data", "reconnecting_before_relay_failover_threshold_ms", "cond_range_packet_loss_pct", "groups_privacy_blacklist", "status-revoke-drop", "stickers_animated_thumbnail_download", "dedupe_transcode_shared_images", "dedupe_transcode_shared_videos", "media.fcnq2-2.fna.whatsapp.net", "media.fgyd4-1.fna.whatsapp.net", "media.fist7-1.fna.whatsapp.net", "media.flim3-3.fna.whatsapp.net", "add_contact_by_qr_enabled", "https://faq.whatsapp.com/payments", "multicast_limit_global", "sticker_notification_preview", "smb_better_catalog_list_adapters_enabled", "bloks_use_minscript_android", "pen_smoothing_enabled", "media.fcgk4-5.fna.whatsapp.net", "media.fevn1-3.fna.whatsapp.net", "media.fpoj7-1.fna.whatsapp.net", "media-arn2-2.cdn.whatsapp.net", "reconnecting_before_network_change_threshold_ms", "android_media_use_fresco_for_gifs", "cond_in_congestion", "status_image_max_edge", "sticker_search_enabled", "starred_stickers_web_sync", "db_blank_me_jid_migration_step", "media.fist6-2.fna.whatsapp.net", "media.ftuc1-1.fna.whatsapp.net", "09", "anr_fast_logs_upload_rollout", "camera_core_integration_enabled", "11", "third_party_sticker_caching", "thread_dump_contact_support", "wam_privatestats_enabled", "vcard_as_document_size_kb", "maxfpp", "fbip", "ephemeral_allow_group_members", "media-bom1-2.cdn.whatsapp.net", "media-xsp1-1.cdn.whatsapp.net", "disable_prewarm", "frequently_forwarded_max", "media.fbtz1-5.fna.whatsapp.net", "media.fevn7-1.fna.whatsapp.net", "media.fgyd4-2.fna.whatsapp.net", "sticker_tray_animation_fully_visible_items", "green_alert_banner_duration", "reconnecting_after_p2p_failover_threshold_ms", "connected", "share_biz_vcard_enabled", "stickers_animation", "0a", "1200", "WhatsApp", "group_description_length", "p_v_id", "payments_upi_intent_transaction_limit", "frequently_forwarded_messages", "media-xsp1-2.cdn.whatsapp.net", "media.faep8-1.fna.whatsapp.net", "media.faep8-2.fna.whatsapp.net", "media.faep9-1.fna.whatsapp.net", "media.fdmm2-2.fna.whatsapp.net", "media.fgzt3-1.fna.whatsapp.net", "media.flim4-2.fna.whatsapp.net", "media.frao1-1.fna.whatsapp.net", "media.fscl9-2.fna.whatsapp.net", "media.fsub2-2.fna.whatsapp.net", "superadmin", "media.fbog10-1.fna.whatsapp.net", "media.fcgh28-1.fna.whatsapp.net", "media.fjdo10-1.fna.whatsapp.net", "third_party_animated_sticker_import", "delay_fec", "attachment_picker_refresh", "android_linked_devices_re_auth_enabled", "rc_dyn", "green_alert_block_jitter", "add_contact_logging_enabled", "biz_message_logging_enabled", "conversation_media_preview_v2", "media-jnb1-1.cdn.whatsapp.net", "ab_key", "media.fcgk4-2.fna.whatsapp.net", "media.fevn1-1.fna.whatsapp.net", "media.fist6-1.fna.whatsapp.net", "media.fruh4-4.fna.whatsapp.net", "media.fsti4-2.fna.whatsapp.net", "mms_vcard_autodownload_size_kb", "watls_enabled", "notif_ch_override_off", "media.fsaw1-14.fna.whatsapp.net", "media.fscl13-1.fna.whatsapp.net", "db_group_participant_migration_step", "1020", "cond_range_sterm_rtt", "invites_logging_enabled", "triggered_block_enabled", "group_call_max_participants", "media-iad3-1.cdn.whatsapp.net", "product_catalog_open_deeplink", "shops_required_tos_version", "image_max_kbytes", "cond_low_quality_vid_mode", "db_receipt_migration_step", "jb_early_prob_hist_shrink", "media.fdmm2-3.fna.whatsapp.net", "media.fdmm2-4.fna.whatsapp.net", "media.fruh4-1.fna.whatsapp.net", "media.fsaw2-2.fna.whatsapp.net", "remove_geolocation_videos", "new_animation_behavior", "fieldstats_beacon_chance", "403", "authkey_reset_on_ban", "continuous_ptt_playback", "reconnecting_after_relay_failover_threshold_ms", "false", "group", "sun", "conversation_swipe_to_reply", "ephemeral_messages_setting", "smaller_video_thumbs_enabled", "md_device_sync_enabled", "bloks_shops_pdp_url_regex", "lasso_integration_enabled", "media-bom1-1.cdn.whatsapp.net", "new_backup_format_enabled", "256", "media.faep6-1.fna.whatsapp.net", "media.fasr1-1.fna.whatsapp.net", "media.fbtz1-7.fna.whatsapp.net", "media.fesb4-1.fna.whatsapp.net", "media.fjdo1-2.fna.whatsapp.net", "media.frba2-1.fna.whatsapp.net", "watls_no_dns", "600", "db_broadcast_me_jid_migration_step", "new_wam_runtime_enabled", "group_update", "enhanced_block_enabled", "sync_wifi_threshold_kb", "mms_download_nc_cat", "bloks_minification_enabled", "ephemeral_messages_enabled", "reject", "voip_outgoing_xml_signaling", "creator", "dl_bw", "payments_request_messages", "target_bitrate", "bloks_rendercore_enabled", "media-hbe1-1.cdn.whatsapp.net", "media-hel3-1.cdn.whatsapp.net", "media-kut2-2.cdn.whatsapp.net", "media-lax3-1.cdn.whatsapp.net", "media-lax3-2.cdn.whatsapp.net", "sticker_pack_deeplink_enabled", "hq_image_bw_threshold", "status_info", "voip", "dedupe_transcode_videos", "grp_uii_cleanup", "linked_device_max_count", "media.flim1-1.fna.whatsapp.net", "media.fsaw2-1.fna.whatsapp.net", "reconnecting_after_call_active_threshold_ms", "1140", "catalog_pdp_new_design", "media.fbtz1-10.fna.whatsapp.net", "media.fsaw1-15.fna.whatsapp.net", "0b", "consumer_rc_provider", "mms_async_fast_forward_ttl", "jb_eff_size_fix", "voip_incoming_xml_signaling", "media_provider_share_by_uuid", "suspicious_links", "dedupe_transcode_images", "green_alert_modal_start", "media-cgk1-1.cdn.whatsapp.net", "media-lga3-1.cdn.whatsapp.net", "template_doc_mime_types", "important_messages", "user_add", "vcard_max_size_kb", "media.fada2-1.fna.whatsapp.net", "media.fbog2-5.fna.whatsapp.net", "media.fbtz1-3.fna.whatsapp.net", "media.fcgk3-1.fna.whatsapp.net", "media.fcgk7-1.fna.whatsapp.net", "media.flim1-3.fna.whatsapp.net", "media.fscl9-1.fna.whatsapp.net", "ctwa_context_enterprise_enabled", "media.fsaw1-13.fna.whatsapp.net", "media.fuio11-2.fna.whatsapp.net", "status_collapse_muted", "db_migration_level_force", "recent_stickers_web_sync", "bloks_session_state", "bloks_shops_enabled", "green_alert_setting_deep_links_enabled", "restrict_groups", "battery", "green_alert_block_start", "refresh", "ctwa_context_enabled", "md_messaging_enabled", "status_image_quality", "md_blocklist_v2_server", "media-del1-1.cdn.whatsapp.net", "13", "userrate", "a_v_id", "cond_rtt_ema_alpha", "invalid"]; t.DICTIONARY_1_TOKEN = r; const a = ["media.fada1-1.fna.whatsapp.net", "media.fadb3-2.fna.whatsapp.net", "media.fbhz2-1.fna.whatsapp.net", "media.fcor2-1.fna.whatsapp.net", "media.fjed4-2.fna.whatsapp.net", "media.flhe4-1.fna.whatsapp.net", "media.frak1-2.fna.whatsapp.net", "media.fsub6-3.fna.whatsapp.net", "media.fsub6-7.fna.whatsapp.net", "media.fvvi1-1.fna.whatsapp.net", "search_v5_eligible", "wam_real_time_enabled", "report_disk_event", "max_tx_rott_based_bitrate", "product", "media.fjdo10-2.fna.whatsapp.net", "video_frame_crc_sample_interval", "media_max_autodownload", "15", "h.264", "wam_privatestats_buffer_count", "md_phash_v2_enabled", "account_transfer_enabled", "business_product_catalog", "enable_non_dyn_codec_param_fix", "is_user_under_epd_jurisdiction", "media.fbog2-4.fna.whatsapp.net", "media.fbtz1-2.fna.whatsapp.net", "media.fcfc1-1.fna.whatsapp.net", "media.fjed4-5.fna.whatsapp.net", "media.flhe4-2.fna.whatsapp.net", "media.flim1-2.fna.whatsapp.net", "media.flos5-1.fna.whatsapp.net", "android_key_store_auth_ver", "010", "anr_process_monitor", "delete_old_auth_key", "media.fcor10-3.fna.whatsapp.net", "storage_usage_enabled", "android_camera2_support_level", "dirty", "consumer_content_provider", "status_video_max_duration", "0c", "bloks_cache_enabled", "media.fadb2-2.fna.whatsapp.net", "media.fbko1-1.fna.whatsapp.net", "media.fbtz1-9.fna.whatsapp.net", "media.fcgk4-4.fna.whatsapp.net", "media.fesb4-2.fna.whatsapp.net", "media.fevn1-2.fna.whatsapp.net", "media.fist2-4.fna.whatsapp.net", "media.fjdo1-1.fna.whatsapp.net", "media.fruh4-6.fna.whatsapp.net", "media.fsrg5-1.fna.whatsapp.net", "media.fsub6-6.fna.whatsapp.net", "minfpp", "5000", "locales", "video_max_bitrate", "use_new_auth_key", "bloks_http_enabled", "heartbeat_interval", "media.fbog11-1.fna.whatsapp.net", "ephemeral_group_query_ts", "fec_nack", "search_in_storage_usage", "c", "media-amt2-1.cdn.whatsapp.net", "linked_devices_ui_enabled", "14", "async_data_load_on_startup", "voip_incoming_xml_ack", "16", "db_migration_step", "init_bwe", "max_participants", "wam_buffer_count", "media.fada2-2.fna.whatsapp.net", "media.fadb3-1.fna.whatsapp.net", "media.fcor2-2.fna.whatsapp.net", "media.fdiy1-2.fna.whatsapp.net", "media.frba3-2.fna.whatsapp.net", "media.fsaw2-3.fna.whatsapp.net", "1280", "status_grid_enabled", "w:biz", "product_catalog_deeplink", "media.fgye10-2.fna.whatsapp.net", "media.fuio11-1.fna.whatsapp.net", "optimistic_upload", "work_manager_init", "lc", "catalog_message", "cond_net_medium", "enable_periodical_aud_rr_processing", "cond_range_ema_rtt", "media-tir2-1.cdn.whatsapp.net", "frame_ms", "group_invite_sending", "payments_web_enabled", "wallpapers_v2", "0d", "browser", "hq_image_max_edge", "image_edit_zoom", "linked_devices_re_auth_enabled", "media.faly3-2.fna.whatsapp.net", "media.fdoh5-3.fna.whatsapp.net", "media.fesb3-1.fna.whatsapp.net", "media.fknu1-1.fna.whatsapp.net", "media.fmex3-1.fna.whatsapp.net", "media.fruh4-3.fna.whatsapp.net", "255", "web_upgrade_to_md_modal", "audio_piggyback_timeout_msec", "enable_audio_oob_fec_feature", "from_ip", "image_max_edge", "message_qr_enabled", "powersave", "receipt_pre_acking", "video_max_edge", "full", "011", "012", "enable_audio_oob_fec_for_sender", "md_voip_enabled", "enable_privatestats", "max_fec_ratio", "payments_cs_faq_url", "media-xsp1-3.cdn.whatsapp.net", "hq_image_quality", "media.fasr1-2.fna.whatsapp.net", "media.fbog3-1.fna.whatsapp.net", "media.ffjr1-6.fna.whatsapp.net", "media.fist2-3.fna.whatsapp.net", "media.flim4-3.fna.whatsapp.net", "media.fpbc2-4.fna.whatsapp.net", "media.fpku1-1.fna.whatsapp.net", "media.frba1-1.fna.whatsapp.net", "media.fudi1-1.fna.whatsapp.net", "media.fvvi1-2.fna.whatsapp.net", "gcm_fg_service", "enable_dec_ltr_size_check", "clear", "lg", "media.fgru11-1.fna.whatsapp.net", "18", "media-lga3-2.cdn.whatsapp.net", "pkey", "0e", "max_subject", "cond_range_lterm_rtt", "announcement_groups", "biz_profile_options", "s_t", "media.fabv2-1.fna.whatsapp.net", "media.fcai3-1.fna.whatsapp.net", "media.fcgh1-1.fna.whatsapp.net", "media.fctg1-4.fna.whatsapp.net", "media.fdiy1-1.fna.whatsapp.net", "media.fisb4-1.fna.whatsapp.net", "media.fpku1-2.fna.whatsapp.net", "media.fros9-1.fna.whatsapp.net", "status_v3_text", "usync_sidelist", "17", "announcement", "...", "md_group_notification", "0f", "animated_pack_in_store", "013", "America/Mexico_City", "1260", "media-ams4-1.cdn.whatsapp.net", "media-cgk1-2.cdn.whatsapp.net", "media-cpt1-1.cdn.whatsapp.net", "media-maa2-1.cdn.whatsapp.net", "media.fgye10-1.fna.whatsapp.net", "e", "catalog_cart", "hfm_string_changes", "init_bitrate", "packless_hsm", "group_info", "America/Belem", "50", "960", "cond_range_bwe", "decode", "encode", "media.fada1-8.fna.whatsapp.net", "media.fadb1-2.fna.whatsapp.net", "media.fasu6-1.fna.whatsapp.net", "media.fbog4-1.fna.whatsapp.net", "media.fcgk9-2.fna.whatsapp.net", "media.fdoh5-2.fna.whatsapp.net", "media.ffjr1-2.fna.whatsapp.net", "media.fgua1-1.fna.whatsapp.net", "media.fgye1-1.fna.whatsapp.net", "media.fist1-4.fna.whatsapp.net", "media.fpbc2-2.fna.whatsapp.net", "media.fres2-1.fna.whatsapp.net", "media.fsdq1-2.fna.whatsapp.net", "media.fsub6-5.fna.whatsapp.net", "profilo_enabled", "template_hsm", "use_disorder_prefetching_timer", "video_codec_priority", "vpx_max_qp", "ptt_reduce_recording_delay", "25", "iphone", "Windows", "s_o", "Africa/Lagos", "abt", "media-kut2-1.cdn.whatsapp.net", "media-mba1-1.cdn.whatsapp.net", "media-mxp1-2.cdn.whatsapp.net", "md_blocklist_v2", "url_text", "enable_short_offset", "group_join_permissions", "enable_audio_piggyback_feature", "image_quality", "media.fcgk7-2.fna.whatsapp.net", "media.fcgk8-2.fna.whatsapp.net", "media.fclo7-1.fna.whatsapp.net", "media.fcmn1-1.fna.whatsapp.net", "media.feoh1-1.fna.whatsapp.net", "media.fgyd4-3.fna.whatsapp.net", "media.fjed4-4.fna.whatsapp.net", "media.flim1-4.fna.whatsapp.net", "media.flim2-4.fna.whatsapp.net", "media.fplu6-1.fna.whatsapp.net", "media.frak1-1.fna.whatsapp.net", "media.fsdq1-1.fna.whatsapp.net", "to_ip", "015", "vp8", "19", "21", "1320", "auth_key_ver", "message_processing_dedup", "server-error", "wap4_enabled", "420", "014", "cond_range_rtt", "ptt_fast_lock_enabled", "media-ort2-1.cdn.whatsapp.net", "fwd_ui_start_ts"]; t.DICTIONARY_2_TOKEN = a; const s = ["contact_blacklist", "Asia/Jakarta", "media.fepa10-1.fna.whatsapp.net", "media.fmex10-3.fna.whatsapp.net", "disorder_prefetching_start_when_empty", "America/Bogota", "use_local_probing_rx_bitrate", "America/Argentina/Buenos_Aires", "cross_post", "media.fabb1-1.fna.whatsapp.net", "media.fbog4-2.fna.whatsapp.net", "media.fcgk9-1.fna.whatsapp.net", "media.fcmn2-1.fna.whatsapp.net", "media.fdel3-1.fna.whatsapp.net", "media.ffjr1-1.fna.whatsapp.net", "media.fgdl5-1.fna.whatsapp.net", "media.flpb1-2.fna.whatsapp.net", "media.fmex2-1.fna.whatsapp.net", "media.frba2-2.fna.whatsapp.net", "media.fros2-2.fna.whatsapp.net", "media.fruh2-1.fna.whatsapp.net", "media.fybz2-2.fna.whatsapp.net", "options", "20", "a", "017", "018", "mute_always", "user_notice", "Asia/Kolkata", "gif_provider", "locked", "media-gua1-1.cdn.whatsapp.net", "piggyback_exclude_force_flush", "24", "media.frec39-1.fna.whatsapp.net", "user_remove", "file_max_size", "cond_packet_loss_pct_ema_alpha", "media.facc1-1.fna.whatsapp.net", "media.fadb2-1.fna.whatsapp.net", "media.faly3-1.fna.whatsapp.net", "media.fbdo6-2.fna.whatsapp.net", "media.fcmn2-2.fna.whatsapp.net", "media.fctg1-3.fna.whatsapp.net", "media.ffez1-2.fna.whatsapp.net", "media.fist1-3.fna.whatsapp.net", "media.fist2-2.fna.whatsapp.net", "media.flim2-2.fna.whatsapp.net", "media.fmct2-3.fna.whatsapp.net", "media.fpei3-1.fna.whatsapp.net", "media.frba3-1.fna.whatsapp.net", "media.fsdu8-2.fna.whatsapp.net", "media.fstu2-1.fna.whatsapp.net", "media_type", "receipt_agg", "016", "enable_pli_for_crc_mismatch", "live", "enc_rekey", "frskmsg", "d", "media.fdel11-2.fna.whatsapp.net", "proto", "2250", "audio_piggyback_enable_cache", "skip_nack_if_ltrp_sent", "mark_dtx_jb_frames", "web_service_delay", "7282", "catalog_send_all", "outgoing", "360", "30", "LIMITED", "019", "audio_picker", "bpv2_phase", "media.fada1-7.fna.whatsapp.net", "media.faep7-1.fna.whatsapp.net", "media.fbko1-2.fna.whatsapp.net", "media.fbni1-2.fna.whatsapp.net", "media.fbtz1-1.fna.whatsapp.net", "media.fbtz1-8.fna.whatsapp.net", "media.fcjs3-1.fna.whatsapp.net", "media.fesb3-2.fna.whatsapp.net", "media.fgdl5-4.fna.whatsapp.net", "media.fist2-1.fna.whatsapp.net", "media.flhe2-2.fna.whatsapp.net", "media.flim2-1.fna.whatsapp.net", "media.fmex1-1.fna.whatsapp.net", "media.fpat3-2.fna.whatsapp.net", "media.fpat3-3.fna.whatsapp.net", "media.fros2-1.fna.whatsapp.net", "media.fsdu8-1.fna.whatsapp.net", "media.fsub3-2.fna.whatsapp.net", "payments_chat_plugin", "cond_congestion_no_rtcp_thr", "green_alert", "not-a-biz", "..", "shops_pdp_urls_config", "source", "media-dus1-1.cdn.whatsapp.net", "mute_video", "01b", "currency", "max_keys", "resume_check", "contact_array", "qr_scanning", "23", "b", "media.fbfh15-1.fna.whatsapp.net", "media.flim22-1.fna.whatsapp.net", "media.fsdu11-1.fna.whatsapp.net", "media.fsdu15-1.fna.whatsapp.net", "Chrome", "fts_version", "60", "media.fada1-6.fna.whatsapp.net", "media.faep4-2.fna.whatsapp.net", "media.fbaq5-1.fna.whatsapp.net", "media.fbni1-1.fna.whatsapp.net", "media.fcai3-2.fna.whatsapp.net", "media.fdel3-2.fna.whatsapp.net", "media.fdmm3-2.fna.whatsapp.net", "media.fhex3-1.fna.whatsapp.net", "media.fisb4-2.fna.whatsapp.net", "media.fkhi5-2.fna.whatsapp.net", "media.flos2-1.fna.whatsapp.net", "media.fmct2-1.fna.whatsapp.net", "media.fntr7-1.fna.whatsapp.net", "media.frak3-1.fna.whatsapp.net", "media.fruh5-2.fna.whatsapp.net", "media.fsub6-1.fna.whatsapp.net", "media.fuab1-2.fna.whatsapp.net", "media.fuio1-1.fna.whatsapp.net", "media.fver1-1.fna.whatsapp.net", "media.fymy1-1.fna.whatsapp.net", "product_catalog", "1380", "audio_oob_fec_max_pkts", "22", "254", "media-ort2-2.cdn.whatsapp.net", "media-sjc3-1.cdn.whatsapp.net", "1600", "01a", "01c", "405", "key_frame_interval", "body", "media.fcgh20-1.fna.whatsapp.net", "media.fesb10-2.fna.whatsapp.net", "125", "2000", "media.fbsb1-1.fna.whatsapp.net", "media.fcmn3-2.fna.whatsapp.net", "media.fcpq1-1.fna.whatsapp.net", "media.fdel1-2.fna.whatsapp.net", "media.ffor2-1.fna.whatsapp.net", "media.fgdl1-4.fna.whatsapp.net", "media.fhex2-1.fna.whatsapp.net", "media.fist1-2.fna.whatsapp.net", "media.fjed5-2.fna.whatsapp.net", "media.flim6-4.fna.whatsapp.net", "media.flos2-2.fna.whatsapp.net", "media.fntr6-2.fna.whatsapp.net", "media.fpku3-2.fna.whatsapp.net", "media.fros8-1.fna.whatsapp.net", "media.fymy1-2.fna.whatsapp.net", "ul_bw", "ltrp_qp_offset", "request", "nack", "dtx_delay_state_reset", "timeoffline", "28", "01f", "32", "enable_ltr_pool", "wa_msys_crypto", "01d", "58", "dtx_freeze_hg_update", "nack_if_rpsi_throttled", "253", "840", "media.famd15-1.fna.whatsapp.net", "media.fbog17-2.fna.whatsapp.net", "media.fcai19-2.fna.whatsapp.net", "media.fcai21-4.fna.whatsapp.net", "media.fesb10-4.fna.whatsapp.net", "media.fesb10-5.fna.whatsapp.net", "media.fmaa12-1.fna.whatsapp.net", "media.fmex11-3.fna.whatsapp.net", "media.fpoa33-1.fna.whatsapp.net", "1050", "021", "clean", "cond_range_ema_packet_loss_pct", "media.fadb6-5.fna.whatsapp.net", "media.faqp4-1.fna.whatsapp.net", "media.fbaq3-1.fna.whatsapp.net", "media.fbel2-1.fna.whatsapp.net", "media.fblr4-2.fna.whatsapp.net", "media.fclo8-1.fna.whatsapp.net", "media.fcoo1-2.fna.whatsapp.net", "media.ffjr1-4.fna.whatsapp.net", "media.ffor9-1.fna.whatsapp.net", "media.fisb3-1.fna.whatsapp.net", "media.fkhi2-2.fna.whatsapp.net", "media.fkhi4-1.fna.whatsapp.net", "media.fpbc1-2.fna.whatsapp.net", "media.fruh2-2.fna.whatsapp.net", "media.fruh5-1.fna.whatsapp.net", "media.fsub3-1.fna.whatsapp.net", "payments_transaction_limit", "252", "27", "29", "tintagel", "01e", "237", "780", "callee_updated_payload", "020", "257", "price", "025", "239", "payments_cs_phone_number", "mediaretry", "w:auth:backup:token", "Glass.caf", "max_bitrate", "240", "251", "660", "media.fbog16-1.fna.whatsapp.net", "media.fcgh21-1.fna.whatsapp.net", "media.fkul19-2.fna.whatsapp.net", "media.flim21-2.fna.whatsapp.net", "media.fmex10-4.fna.whatsapp.net", "64", "33", "34", "35", "interruption", "media.fabv3-1.fna.whatsapp.net", "media.fadb6-1.fna.whatsapp.net", "media.fagr1-1.fna.whatsapp.net", "media.famd1-1.fna.whatsapp.net", "media.famm6-1.fna.whatsapp.net", "media.faqp2-3.fna.whatsapp.net"]; t.DICTIONARY_3_TOKEN = s; const i = [n, r, a, s]; t.DICTIONARIES = i }, 1330: (e, t, n) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.decimalStringToLongInt = function (e) { if (!/^-?\d+$/.test(e)) throw __LOG__(2)`"${e}" is not a valid decimal string`, new Error("decimalStringToLongInt is given an invalid decimal string"); const t = "-" === e[0], n = e.replace(/^-?0*/, ""), a = n.length; if (a < 16 || 16 === a && n <= "9007199254740991") return t ? -Number(n) : Number(n); if (a > 20 || 20 === a && n > "18446744073709551615" || t && (a > 19 || 19 === a && n > "9223372036854775807")) throw __LOG__(2)`"${e}" is over 64 bits`, new Error("decimalStringToHexLong is given value over 64 bits"); let s = 0, i = 0; for (let e = 0; e < a; e++)s = 10 * s + Number(n[e]), i = 10 * i + Math.floor(s / 4294967296), s %= 4294967296; return (0, r.createHexLongFrom32Bits)(i, s, t) }, t.isBiggerLongInt = function (e, t) { if ("number" == typeof e && "number" == typeof t) return e > t; const n = "number" == typeof e ? (0, r.hexLongFromNumber)(e) : e, a = "number" == typeof t ? (0, r.hexLongFromNumber)(t) : t; return (0, r.isBiggerHexLong)(n, a) }, t.longIntToDecimalString = function (e) { if ("number" == typeof e) return e.toString(10); const t = (0, r.hexLongToHex)(e), n = [0]; let a = 0; for (let e = 0; e < t.length; e++) { a = (0, r.hexAt)(t, e); for (let e = 0; e < n.length; e++)n[e] = 16 * n[e] + a, a = n[e] / 10 | 0, n[e] %= 10; for (; a > 0;)n.push(a % 10), a = a / 10 | 0 } const s = n.reverse().join(""); return (0, r.hexLongIsNegative)(e) ? "-" + s : s }, t.maybeNumberOrThrowIfTooLarge = void 0, t.numberOrThrowIfTooLarge = a; var r = n(5982); function a(e) { if ("number" != typeof e) throw __LOG__(2)`${e} is not a safe integer`, new Error("numberOrThrowIfTooLarge is given a non-safe integer"); return e } t.maybeNumberOrThrowIfTooLarge = e => null == e ? e : a(e) }, 6595: (e, t, n) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.Spec = void 0, t.compileSpec = function (e) { if (e.internalCompiledSpec) return e.internalCompiledSpec; const t = e.internalSpec; if (!t) throw new Error(`Message Class ${String(e)} does not have internalSpec`); const n = e.internalDefaults || {}, i = Object.keys(t).filter((e => e !== r.KEYS.ONEOF)), o = new Array(i.length), c = [], d = [], l = new Array(i.length), u = t[r.KEYS.ONEOF] || {}; i.sort(((e, n) => { const r = s(t, e), a = s(t, n); return r[0] - a[0] })); for (let e = 0; e < i.length; e++) { const a = i[e], u = s(t, a); l[e] = n[a]; const f = u[1], h = u[0]; if (c.push(h), d.push(f), (f & r.TYPE_MASK) === r.TYPES.MESSAGE) o[e] = u[2]; else if ((f & r.TYPE_MASK) === r.TYPES.ENUM) { const t = u[2]; if ("function" == typeof t.cast) o[e] = t; else { let n, r = !0, a = 0; for (const e in t) r && e !== a++ && (r = !1); if (r) { n = []; for (let e = 0; e < a; e++)n.push(!0) } else { n = {}; for (const e in t) n[t[e]] = !0 } o[e] = n } } else o[e] = null } const f = {}; for (const e in u) u[e].forEach((t => { f[t] || (f[t] = []), f[t].push(e) })); const h = t[r.KEYS.RESERVED] && t[r.KEYS.RESERVED][r.KEYS.RESERVED_TAGS], p = t[r.KEYS.RESERVED] && t[r.KEYS.RESERVED][r.KEYS.RESERVED_FIELDS], _ = new a(i, c, d, l, o, u, f, h, p); return e.internalCompiledSpec = _, _ }; var r = n(6154); class a { constructor(e, t, n, r, a, s, i, o, c) { this.names = e, this.fields = t, this.types = n, this.defaults = r, this.meta = a, this.oneofToFields = s, this.fieldToOneof = i, this.reservedTags = o ? o.reduce(((e, t) => (e[t] = !0, e)), {}) : {}, this.reservedFields = c ? c.reduce(((e, t) => (e[t] = !0, e)), {}) : {} } } function s(e, t) { const n = e[t]; if (null == n) throw new Error(`fieldData of ${t} is missing`); return n } t.Spec = a }, 6154: (e, t) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.TYPE_MASK = t.TYPES = t.KEYS = t.FLAGS = t.ENC = void 0; t.FLAGS = { REPEATED: 64, PACKED: 128, REQUIRED: 256 }; t.TYPE_MASK = 31; t.TYPES = { INT32: 1, INT64: 2, UINT32: 3, UINT64: 4, SINT32: 5, SINT64: 6, BOOL: 7, ENUM: 8, FIXED64: 9, SFIXED64: 10, DOUBLE: 11, STRING: 12, BYTES: 13, MESSAGE: 14, FIXED32: 15, SFIXED32: 16, FLOAT: 17 }; t.ENC = { VARINT: 0, BIT64: 1, BINARY: 2, BIT32: 5 }; t.KEYS = { ONEOF: "__oneofs__", RESERVED: "__reserved__", RESERVED_TAGS: "tags", RESERVED_FIELDS: "fields" } }, 5036: (e, t, n) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.typeToEncType = function (e) { if (e & s.PACKED) return c.BINARY; const t = e & o; return t <= i.ENUM ? c.VARINT : t <= i.DOUBLE ? c.BIT64 : t <= i.MESSAGE ? c.BINARY : c.BIT32 }; var r = function (e, t) { if (!t && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var n = a(t); if (n && n.has(e)) return n.get(e); var r = {}, s = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var i in e) if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) { var o = s ? Object.getOwnPropertyDescriptor(e, i) : null; o && (o.get || o.set) ? Object.defineProperty(r, i, o) : r[i] = e[i] } r.default = e, n && n.set(e, r); return r }(n(6154)); function a(e) { if ("function" != typeof WeakMap) return null; var t = new WeakMap, n = new WeakMap; return (a = function (e) { return e ? n : t })(e) } const { FLAGS: s, TYPES: i, TYPE_MASK: o, ENC: c } = r }, 2525: (e, t, n) => { "use strict"; var r = n(7914); Object.defineProperty(t, "__esModule", { value: !0 }), t.checkRequirements = c, t.checkValid = function (e, t) { c(e, t); const n = _(t, e); if (n) throw n.path.reverse(), new TypeError(`Invalid value at ${n.path.join(".")}: ${n.error}`) }; var a = r(n(9028)), s = n(6595), i = n(6154); const o = Number.MAX_SAFE_INTEGER; function c(e, t) { const n = d(e, t); if (n) throw n.reverse(), new TypeError(`Message missing required value ${n.join(".")}`) } function d(e, t) { const { names: n, types: r, meta: o } = (0, s.compileSpec)(e); let c; for (let e = 0; e < r.length && !c; e++) { const s = r[e], l = n[e], u = (0, a.default)(t, l) ? t[l] : void 0; if (s & i.FLAGS.REQUIRED && null == u) c = [l]; else if ((s & i.TYPE_MASK) === i.TYPES.MESSAGE && s & i.FLAGS.REPEATED && null != u) { const t = o[e]; let n; for (n = 0; n < u.length && !c; n++)c = d(t, u[n]); c && c.push(`${l}[${n}]`) } else (s & i.TYPE_MASK) === i.TYPES.MESSAGE && null != u && (c = d(o[e], u), c && c.push(l)) } return c } function l(e, t, n) { return "string" == typeof e ? !/^-?0x[0-9a-f]{16}$/i.test(e) && (__LOG__(2)`"${h(e)}" is not a valid long`, { path: [], error: "value must be a hex string of the form '0x123...' or '-0x123...' where the tail is always 16 characters long" }) : u(e, t, n) } function u(e, t, n) { return "number" != typeof e || e != e || Math.floor(e) !== e ? (__LOG__(2)`"${h(e)}" is not a valid int`, { path: [], error: "value must be an int" }) : (e < t || e >= n) && (__LOG__(2)`"${h(e)}" is out of range`, { path: [], error: "value is out of range" }) } function f(e, t, n) { return e ? void 0 : (__LOG__(2)`"${h(n)}" is not ${t}`, { path: [], error: "value is invalid" }) } function h(e) { return "string" == typeof e ? `"${e}"` : Array.isArray(e) ? `[${e.join(", ")}]` : `${e}` } const p = [void 0, e => u(e, -2147483648, 2147483648), e => l(e, -o, o + 1), e => u(e, 0, 4294967296), e => l(e, 0, o + 1), e => u(e, -2147483648, 2147483648), e => l(e, -o, o + 1), e => f("boolean" == typeof e, "boolean", e), (e, t) => f("number" == typeof e && (t[e] || void 0 !== t.cast(e)), "in enum", e), e => l(e, 0, o + 1), e => l(e, -o, o + 1), e => f("number" == typeof e, "number", e), e => f("string" == typeof e, "string", e), e => f(e instanceof ArrayBuffer || e instanceof Uint8Array, "ArrayBuffer or Uint8Array", e), _, e => u(e, 0, 4294967296), e => u(e, -2147483648, 2147483648), e => f("number" == typeof e, "number", e)]; function _(e, t) { const { names: n, fields: r, types: a, meta: o, oneofToFields: c, fieldToOneof: d, reservedTags: l, reservedFields: u } = (0, s.compileSpec)(t); let f; for (let t = 0; t < n.length && !f; t++) { const s = n[t], _ = a[t], m = e[s], b = _ & i.TYPE_MASK, y = p[b]; if (void 0 === y) throw new Error(`Can not find the validator for type ${b}`); if (_ & (i.FLAGS.PACKED | i.FLAGS.REPEATED) && null != m) if (Array.isArray(m)) { const e = o[t]; for (let t = 0; t < m.length && !f; t++)f = y(m[t], e), f && f.path.push(`${s}[${t}]`) } else __LOG__(2)`"${h(m)}" is not an array`, f = { path: [s], error: "repeated field must be array" }; else if (null != m) { f = y(m, o[t]), f && f.path.push(s); const n = d[s]; n && n.forEach((t => { c[t].filter((e => e !== s)).forEach((n => { void 0 !== e[n] && (f = { path: [t], error: `oneof has fields '${s}' and '${n}' set` }) })) })), l[r[t]] && (f = { path: [s], error: `tag ${r[t]} is reserved` }), u[s] && (f = { path: [s], error: "field name is reserved" }) } } return f } }, 3955: (e, t, n) => { "use strict"; var r = n(7914); Object.defineProperty(t, "__esModule", { value: !0 }), t.decodeProtobuf = function (e, t) { const n = new s.Binary(t), r = y(e, n, void 0, !1); return (0, u.checkRequirements)(e, r), r }, t.decodeProtobufWithUnknowns = function (e, t) { const n = new s.Binary(t), r = y(e, n, void 0, !0); return (0, u.checkRequirements)(e, r), r }, t.getUnknownFields = function (e) { return (0, i.default)(e, "$$unsafeUnknownFields") ? e.$$unsafeUnknownFields : null }; var a = r(n(3982)), s = n(9323), i = r(n(9028)), o = n(5982), c = n(6595), d = n(6154), l = n(5036), u = n(2525); function f(e, t, n) { if (e !== (0, l.typeToEncType)(t)) throw new Error(`FormatError: ${n} encoded with wire type ${e}`) } function h(e, t, n) { switch (t) { case d.TYPES.INT32: return p(n, -2147483648, 2147483648, e, s.parseInt64OrThrow); case d.TYPES.INT64: return n.readVarInt(_); case d.TYPES.UINT32: return p(n, 0, 4294967296, e, s.parseUint64OrThrow); case d.TYPES.UINT64: return n.readVarInt(m); case d.TYPES.SINT32: { const t = p(n, 0, 4294967296, e, s.parseInt64OrThrow); return 1 & t ? ~(t >>> 1) : t >>> 1 } case d.TYPES.SINT64: return n.readVarInt(b); case d.TYPES.BOOL: return !!p(n, 0, 2, e, s.parseUint64OrThrow); case d.TYPES.ENUM: return n.readVarInt(s.parseInt64OrThrow); case d.TYPES.FIXED64: return n.readLong(m, !0); case d.TYPES.SFIXED64: return n.readLong(_, !0); case d.TYPES.DOUBLE: return n.readFloat64(!0); case d.TYPES.STRING: return n.readString(n.readVarInt(s.parseUint64OrThrow)); case d.TYPES.BYTES: return n.readBuffer(n.readVarInt(s.parseUint64OrThrow)); case d.TYPES.FIXED32: return n.readUint32(!0); case d.TYPES.SFIXED32: return n.readInt32(!0); case d.TYPES.FLOAT: return n.readFloat32(!0) } } function p(e, t, n, r, a) { const s = e.readVarInt(a); if (s < t || s >= n) throw new Error(`FormatError: ${r} encoded with out-of-range value ${s}`); return s } function _(e, t) { if ((0, s.longFitsInDouble)(!0, e, t)) { return 4294967296 * e + g(t) } { const n = e < 0; let r; r = n ? 0 === t ? -e : ~e : e; const a = n ? -t : t; return (0, o.createHexLongFrom32Bits)(r, a, n) } } function m(e, t) { if ((0, s.longFitsInDouble)(!1, e, t)) { return 4294967296 * g(e) + g(t) } return (0, o.createHexLongFrom32Bits)(e, t) } function b(e, t) { let n = e >>> 1, r = e << 31 | t >>> 1; return 1 & t && (n = ~n, r = ~r), _(n, r) } function y(e, t, n, r) { var i; const { names: o, fields: l, types: u, meta: _, oneofToFields: m, fieldToOneof: b, reservedTags: g, reservedFields: v } = (0, c.compileSpec)(e), { internalDefaults: w } = e, j = n || (0, a.default)({}, w) || {}; j.$$unknownFieldCount = null !== (i = null == n ? void 0 : n.$$unknownFieldCount) && void 0 !== i ? i : 0; for (let e = 0; e < o.length; e++)u[e] & d.FLAGS.REPEATED && (j[o[e]] = []); let S = 0; const E = l.length > 0; let T = l[0]; for (; t.size();) { const e = p(t, 0, 4294967296, "field and enc type", s.parseInt64OrThrow), n = 7 & e, a = e >>> 3; if (E && a !== T) { const e = S; do { ++S === l.length && (S = 0), T = l[S] } while (a !== T && S !== e) } if (E && a === T) { const e = o[S], i = u[S]; f(n, i, e); const c = i & d.TYPE_MASK, l = _[S]; if (i & d.FLAGS.PACKED) { const n = t.readVarInt(s.parseUint64OrThrow), r = t.readBinary(n); for (; r.size();) { var A; const t = h(e, c, r); (c !== d.TYPES.ENUM || l[t] || void 0 !== (null === (A = l.cast) || void 0 === A ? void 0 : A.call(l, t))) && j[e].push(t) } } else if (c === d.TYPES.MESSAGE) { const n = t.readVarInt(s.parseUint64OrThrow), a = t.readBinary(n); if (i & d.FLAGS.REPEATED) j[e].push(y(l, a, void 0, r)); else { const t = j[e]; j[e] = y(l, a, t, r) } } else { var I; const n = h(e, c, t); (c !== d.TYPES.ENUM || l[n] || void 0 !== (null === (I = l.cast) || void 0 === I ? void 0 : I.call(l, n))) && (i & d.FLAGS.REPEATED ? j[e].push(n) : j[e] = n) } const p = b[e]; p && void 0 !== j[e] && p.forEach((t => { m[t].filter((t => t !== e)).forEach((e => { delete j[e] })) })), (g[a] || v[e]) && delete j[e] } else if (j.$$unknownFieldCount++, r) { let e; switch (j.$$unsafeUnknownFields || (j.$$unsafeUnknownFields = {}), n) { case d.ENC.VARINT: e = t.readVarInt(s.parseInt64OrThrow); break; case d.ENC.BIT64: e = t.readBinary(8); break; case d.ENC.BINARY: e = t.readBinary(t.readVarInt(s.parseUint64OrThrow)); break; case d.ENC.BIT32: e = t.readBinary(4) }j.$$unsafeUnknownFields[a] = e } else n === d.ENC.VARINT ? t.readVarInt(s.parseInt64OrThrow) : n === d.ENC.BIT64 ? t.advance(8) : n === d.ENC.BINARY ? t.advance(t.readVarInt(s.parseUint64OrThrow)) : n === d.ENC.BIT32 && t.advance(4) } return j } function g(e) { return e >= 0 ? e : 4294967296 + e } }, 4753: (e, t, n) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.encodeErrorInfo = function () { return void 0 !== d ? `Last encoded value for ${d}` : "No information known" }, t.encodeProtobuf = function (e, t) { let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : new r.Binary; return (0, c.checkValid)(e, t), _(n, t, e), d = void 0, n }; var r = n(9323), a = n(5982), s = n(6595), i = n(6154), o = n(5036), c = n(2525); let d; function l(e, t) { e.writeVarInt(t) } function u(e, t) { if ("number" == typeof t && t < 4503599627370496 && t >= -4503599627370496) e.writeVarInt(t >= 0 ? 2 * t : 2 * -t - 1); else { const n = new r.Binary; let s; "number" == typeof t ? (s = t < 0, n.writeVarInt(s ? -t : t)) : (s = (0, a.hexLongIsNegative)(t), n.writeVarIntFromHexLong(s ? (0, a.negateHexLong)(t) : t)); const i = n.peek((() => n.readByteArray())), o = i.byteLength; if (s) { let e, t = 0; do { e = i[t], i[t] = 128 & e | (127 & e) - 1 & 127, t++ } while (255 === i[t - 1]) } let c = s ? 1 : 0; for (let e = 0; e < o; e++) { const t = i[e], n = 128 & t | (63 & t) << 1 | c; c = (64 & t) >> 6, i[e] = n } 1 === c && (i[o - 1] |= 128, n.writeInt8(1)), e.writeBinary(n) } } function f(e, t) { "number" == typeof t ? e.writeVarInt(t) : e.writeVarIntFromHexLong(t) } const h = [void 0, l, f, l, f, u, u, (e, t) => { e.writeVarInt(t ? 1 : 0) }, l, (e, t) => { "number" == typeof t ? e.writeUint64(t, !0) : e.writeHexLong(t, !0) }, (e, t) => { "number" == typeof t ? e.writeInt64(t, !0) : e.writeHexLong(t, !0) }, (e, t) => { e.writeFloat64(t, !0) }, function (e, t) { e.writeVarInt((0, r.numUtf8Bytes)(t)), e.writeString(t) }, function (e, t) { e.writeVarInt(t.byteLength), e.writeBuffer(t) }, function (e, t, n) { e.writeWithVarIntLength(((e, t) => _(e, t, n)), t) }, (e, t) => { e.writeUint32(t, !0) }, (e, t) => { e.writeInt32(t, !0) }, (e, t) => { e.writeFloat32(t, !0) }], p = h.map((e => { if (null != e) return (e, n) => { e.writeWithVarIntLength(t, n) }; function t(t, n) { for (let r = 0; r < n.length; r++)e(t, n[r]) } })); function _(e, t, n) { const { names: r, fields: a, types: c, meta: l } = (0, s.compileSpec)(n), { internalDefaults: u } = n; for (let n = 0; n < r.length; n++) { const s = r[n]; let f = t[s]; if (null == f && u && (f = u[s]), null != f) { d = s; const t = a[n], r = c[n], u = r & i.TYPE_MASK, _ = l[n], m = 8 * t | (0, o.typeToEncType)(r); if (r & i.FLAGS.PACKED) { if (f.length > 0) { e.writeVarInt(m); (0, p[u])(e, f, _) } } else if (r & i.FLAGS.REPEATED) for (let t = 0; t < f.length; t++) { e.writeVarInt(m); (0, h[u])(e, f[t], _) } else { e.writeVarInt(m); (0, h[u])(e, f, _) } } } } }, 6514: (e, t, n) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.SignedPreKeyRecordStructureSpec = t.SessionStructureSpec = t.SenderSigningKeySpec = t.SenderMessageKeySpec = t.SenderKeyStateStructureSpec = t.SenderKeyRecordStructureSpec = t.SenderChainKeySpec = t.RecordStructureSpec = t.PreKeyRecordStructureSpec = t.PendingPreKeySpec = t.PendingKeyExchangeSpec = t.MessageKeySpec = t.IdentityKeyPairStructureSpec = t.ChainSpec = t.ChainKeySpec = void 0; var r = n(6154); const a = {}; t.SessionStructureSpec = a; const s = {}; t.PendingPreKeySpec = s; const i = {}; t.PendingKeyExchangeSpec = i; const o = {}; t.ChainSpec = o; const c = {}; t.MessageKeySpec = c; const d = {}; t.ChainKeySpec = d; const l = {}; t.RecordStructureSpec = l; const u = {}; t.PreKeyRecordStructureSpec = u; const f = {}; t.SignedPreKeyRecordStructureSpec = f; const h = {}; t.IdentityKeyPairStructureSpec = h; const p = {}; t.SenderKeyStateStructureSpec = p; const _ = {}; t.SenderSigningKeySpec = _; const m = {}; t.SenderMessageKeySpec = m; const b = {}; t.SenderChainKeySpec = b; const y = {}; t.SenderKeyRecordStructureSpec = y, a.internalSpec = { sessionVersion: [1, r.TYPES.UINT32], localIdentityPublic: [2, r.TYPES.BYTES], remoteIdentityPublic: [3, r.TYPES.BYTES], rootKey: [4, r.TYPES.BYTES], previousCounter: [5, r.TYPES.UINT32], senderChain: [6, r.TYPES.MESSAGE, o], receiverChains: [7, r.FLAGS.REPEATED | r.TYPES.MESSAGE, o], pendingKeyExchange: [8, r.TYPES.MESSAGE, i], pendingPreKey: [9, r.TYPES.MESSAGE, s], remoteRegistrationId: [10, r.TYPES.UINT32], localRegistrationId: [11, r.TYPES.UINT32], needsRefresh: [12, r.TYPES.BOOL], aliceBaseKey: [13, r.TYPES.BYTES] }, s.internalSpec = { preKeyId: [1, r.TYPES.UINT32], signedPreKeyId: [3, r.TYPES.INT32], baseKey: [2, r.TYPES.BYTES] }, i.internalSpec = { sequence: [1, r.TYPES.UINT32], localBaseKey: [2, r.TYPES.BYTES], localBaseKeyPrivate: [3, r.TYPES.BYTES], localRatchetKey: [4, r.TYPES.BYTES], localRatchetKeyPrivate: [5, r.TYPES.BYTES], localIdentityKey: [7, r.TYPES.BYTES], localIdentityKeyPrivate: [8, r.TYPES.BYTES] }, o.internalSpec = { senderRatchetKey: [1, r.TYPES.BYTES], senderRatchetKeyPrivate: [2, r.TYPES.BYTES], chainKey: [3, r.TYPES.MESSAGE, d], messageKeys: [4, r.FLAGS.REPEATED | r.TYPES.MESSAGE, c] }, c.internalSpec = { index: [1, r.TYPES.UINT32], cipherKey: [2, r.TYPES.BYTES], macKey: [3, r.TYPES.BYTES], iv: [4, r.TYPES.BYTES] }, d.internalSpec = { index: [1, r.TYPES.UINT32], key: [2, r.TYPES.BYTES] }, l.internalSpec = { currentSession: [1, r.TYPES.MESSAGE, a], previousSessions: [2, r.FLAGS.REPEATED | r.TYPES.MESSAGE, a] }, u.internalSpec = { id: [1, r.TYPES.UINT32], publicKey: [2, r.TYPES.BYTES], privateKey: [3, r.TYPES.BYTES] }, f.internalSpec = { id: [1, r.TYPES.UINT32], publicKey: [2, r.TYPES.BYTES], privateKey: [3, r.TYPES.BYTES], signature: [4, r.TYPES.BYTES], timestamp: [5, r.TYPES.FIXED64] }, h.internalSpec = { publicKey: [1, r.TYPES.BYTES], privateKey: [2, r.TYPES.BYTES] }, p.internalSpec = { senderKeyId: [1, r.TYPES.UINT32], senderChainKey: [2, r.TYPES.MESSAGE, b], senderSigningKey: [3, r.TYPES.MESSAGE, _], senderMessageKeys: [4, r.FLAGS.REPEATED | r.TYPES.MESSAGE, m] }, _.internalSpec = { public: [1, r.TYPES.BYTES], private: [2, r.TYPES.BYTES] }, m.internalSpec = { iteration: [1, r.TYPES.UINT32], seed: [2, r.TYPES.BYTES] }, b.internalSpec = { iteration: [1, r.TYPES.UINT32], seed: [2, r.TYPES.BYTES] }, y.internalSpec = { senderKeyStates: [1, r.FLAGS.REPEATED | r.TYPES.MESSAGE, p] } }, 1084: (e, t, n) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.parseClientResponseServerResponse = function (e, t) { const n = (0, o.assertTag)(e, "iq"); if (!n.success) return n; const c = (0, s.attrJidEnum)(e, "from", a.DOMAINJID_USERJID); if (!c.success) return c; const d = (0, o.literal)(o.attrString, e, "type", "result"); if (!d.success) return d; const l = (0, i.attrStringFromReference)(t, ["id"]); if (!l.success) return l; const u = (0, o.literal)(o.attrString, e, "id", l.value); if (!u.success) return u; const f = (0, o.attrInt)(e, "t"); if (!f.success) return f; return (0, r.makeResult)({ from: c.value, type: d.value, t: f.value }) }; var r = n(2207), a = n(3716), s = n(5273), i = n(2375), o = n(3263) }, 3716: (e, t, n) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.DOMAINJID_USERJID = void 0; var r = n(4037); const a = { validators: [r.validateDomainJid, r.validateUserJid], typeName: "DomainJid|UserJid" }; t.DOMAINJID_USERJID = a }, 8525: (e, t, n) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.makeClientRequest = function () { return (0, a.mergeClientWellFormedToMixin)((0, r.smax)("iq", { id: (0, s.generateId)(), type: "get", xmlns: "w:p" })) }; var r = n(1399), a = n(4068), s = n(780) }, 4068: (e, t, n) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.mergeClientWellFormedToMixin = function (e) { const t = (0, r.smax)("iq", { to: s.S_WHATSAPP_NET }); return (0, a.mergeStanzas)(e, t) }; var r = n(1399), a = n(5640), s = n(780) }, 5273: (e, t, n) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.attrBroadcastJid = function (e, t) { return (0, s.attrValidate)(e, t, r.validateBroadcastJid, "BroadcastJid") }, t.attrCallJid = function (e, t) { return (0, s.attrValidate)(e, t, r.validateCallJid, "CallJid") }, t.attrDeviceJid = function (e, t) { return (0, s.attrValidate)(e, t, r.validateDeviceJid, "DeviceJid") }, t.attrDomainJid = function (e, t) { return (0, s.attrValidate)(e, t, r.validateDomainJid, "DomainJid") }, t.attrGroupJid = function (e, t) { return (0, s.attrValidate)(e, t, r.validateGroupJid, "GroupJid") }, t.attrJidEnum = function (e, t, n) { const r = (0, s.attrString)(e, t); if (!r.success) return r; const { validators: i, typeName: o } = n; for (let e = 0; e < i.length; e++) { const t = i[e](r.value); if (null != t) return (0, a.makeResult)(t) } return (0, s.errorMessage)(e, `to have "${t}"={${o}}, but instead has "${r.value}"`) }, t.attrNewsletterJid = function (e, t) { return (0, s.attrValidate)(e, t, r.validateNewsletterJid, "NewsletterJid") }, t.attrStatusJid = function (e, t) { return (0, s.attrValidate)(e, t, r.validateStatusJid, "StatusJid") }, t.attrUserJid = function (e, t) { return (0, s.attrValidate)(e, t, r.validateUserJid, "UserJid") }, t.literalJid = function (e, t, n, r) { const a = e(t, n); if (!a.success) return a; if (a.value === r) return a; return (0, s.errorMessage)(t, `to have "${n}"={${r}}, but instead has "${a.value}"`) }, t.optionalLiteralJid = function (e, t, n, r) { const a = (0, s.optional)(e, t, n); if (!a.success) return a; if (null == a.value || a.value === r) return a; return (0, s.errorMessage)(t, `to have "${n}"={${r}}, but instead has "${a.value}"`) }; var r = n(4037), a = n(2207), s = n(3263) }, 2375: (e, t, n) => { "use strict"; var r = n(7914); Object.defineProperty(t, "__esModule", { value: !0 }), t.attrFromReference = o, t.attrStringFromReference = c, t.contentStringFromReference = function (e, t) { const n = d(e, t); if (!n.success) return u(n); const r = (0, i.contentString)(n.value); if (!r.success) return u(r); return r }, t.optionalAttrFromReference = function (e, t, n, r, a) { return l(t, n) ? o(e, t, n, r, a) : i.voidSuccess }, t.optionalAttrStringFromReference = function (e, t) { return l(e, t) ? c(e, t) : i.voidSuccess }; var a = r(n(9028)), s = n(2207), i = n(3263); function o(e, t, n, r, a) { const s = d(t, n); if (!s.success) return u(s); const i = e(s.value, n[n.length - 1], r, a); return i.success ? i : u(i) } function c(e, t) { return o(i.attrString, e, t) } function d(e, t) { const n = t.length; let r = e; for (let e = 0; e < n - 1; e++) { const n = t[e], a = (0, i.flattenedChildWithTag)(r, n); if (!a.success) return a; r = a.value } return (0, s.makeResult)(r) } function l(e, t) { const n = d(e, t); return n.success && (0, a.default)(n.value.attrs, t[t.length - 1]) } function u(e) { return (0, s.makeError)(`in the reference, ${e.error}`) } }, 3263: (e, t, n) => { "use strict"; var r = n(7914); Object.defineProperty(t, "__esModule", { value: !0 }), t.assertAttr = function (e, t, n) { const r = h(e, t); if (!r.success) return r; if (r.value !== n) return T(e, `to have "${t}"="${n}", but instead has "${r.value}"`); return f }, t.assertTag = function (e, t) { if (e.tag !== t) return T(e, `to be <${t}>`); return f }, t.attrInt = m, t.attrIntRange = function (e, t, n, r) { const a = m(e, t); if (!a.success) return a; const s = a.value; if (void 0 !== n && s < n) return T(e, `to have "${t}"={at least ${n}} but has value ${s}`); if (void 0 !== r && s > r) return T(e, `to have "${t}"={at most ${r}} but has value ${s}`); return (0, d.makeResult)(s) }, t.attrStanzaId = function (e, t) { return p(e, t, l.toStanzaId, "stanzaID") }, t.attrString = h, t.attrStringEnum = function (e, t, n) { const r = h(e, t); if (!r.success) return r; const a = n[r.value]; if (null != a) return (0, d.makeResult)(a); const s = Object.values(n).join("|"); return T(e, `to have "${t}"={${s}}, but instead has "${r.value}"`) }, t.attrValidate = p, t.childWithTag = function (e, t, n) { const r = g(e, t, n); if (!r.success) return r; const a = r.value; if (null == a) return T(e, `to have 1 child <${t}>, but found 0`); return (0, d.makeResult)(a) }, t.contentBytes = E, t.contentBytesRange = function (e, t, n) { const r = E(e); if (!r.success) return r; const a = r.value.length; if (void 0 !== t && a < t) return T(e, `to have binary content at least ${t} bytes but has ${a} bytes`); if (void 0 !== n && a > n) return T(e, `to have binary content at most ${n} bytes but has ${a} bytes`); return (0, d.makeResult)(r.value) }, t.contentInt = function (e) { return _(e, I, "integer") }, t.contentLiteralBytes = function (e, t) { const n = E(e); if (!n.success) return n; if ((0, i.uint8ArraysEqual)(n.value, t)) return (0, d.makeResult)(t); return T(e, `to have content ":binary:${(0, a.encodeB64)(t)}", but instead has ":binary:${(0, a.encodeB64)(n.value)}"`) }, t.contentString = S, t.contentStringEnum = function (e, t) { const n = S(e); if (!n.success) return n; const r = t[n.value]; if (null != r) return (0, d.makeResult)(r); const a = Object.values(t).join("|"); return T(e, `to have content "${a}", but instead has "${n.value}"`) }, t.contentValidate = _, t.countChildrenWithTag = function (e, t, n, r, a) { const s = P(e, t, n, r); if (!s.success) return s; const i = s.value.length; for (let e = 0; e < i; e++) { const t = a(s.value[e]); if (!t.success) return t } return (0, d.makeResult)(i) }, t.countHomogeneousChildrenWithTag = function (e, t, n) { const r = w(e, t, n); if (!r.success) return r; return (0, d.makeResult)(r.value.length) }, t.emptyObject = void 0, t.errorMessage = T, t.errorMixinDisjunction = function (e, t, n) { const r = t.map(((e, t) => `${e}: ${n[t].error}`)); return T(e, [`to match any of following mixins: ${t.join(", ")}, but all mixins failed.`, ...r].join(" ")) }, t.flattenedChildWithTag = function (e, t) { const n = y(e, t); if (!n.success) return n; if (null == n.value) return T(e, `to have 1 child <${t}>, but found 0`); return (0, d.makeResult)(n.value) }, t.identity = function (e) { return e }, t.literal = function (e, t, n, r) { const a = e(t, n); if (!a.success) return a; if (a.value === r) return (0, d.makeResult)(r); return T(t, `to have "${n}"={${r}}, but instead has "${a.value}"`) }, t.literalContent = function (e, t, n) { const r = e(t); if (!r.success) return r; if (r.value === n) return (0, d.makeResult)(n); return T(t, `to have content "${n}", but instead has "${r.value}"`) }, t.mapChildrenWithTag = v, t.mapHomogeneousChildrenWithTag = w, t.maybeChildren = b, t.optional = j, t.optionalChild = y, t.optionalChildWithTag = g, t.optionalLiteral = function (e, t, n, r) { if (null == r) return f; const a = j(e, t, n); if (!a.success) return a; if (a.value === r) return (0, d.makeResult)(r); if (null == a.value) return f; return T(t, `to have "${n}"={${r}}, but instead has "${a.value}"`) }, t.voidSuccess = void 0; var a = n(2089), s = n(9323), i = n(9093), o = n(2924), c = r(n(9028)), d = n(2207), l = n(3417), u = n(3486); const f = (0, d.makeResult)(); function h(e, t) { return A(e, t) ? function (e, t) { if (t instanceof u.WapJid) return (0, d.makeResult)(t.toString()); if ("string" == typeof t) return (0, d.makeResult)(t); return T(e, `decodeAsString: attribute is ${typeof t} not a string: ${String(t)}`) }(e, e.attrs[t]) : T(e, `to have attribute "${t}"`) } function p(e, t, n, r) { const a = h(e, t); if (!a.success) return a; const s = n(a.value); return null != s ? (0, d.makeResult)(s) : T(e, `to have "${t}"={${r}}, but instead has "${a.value}"`) } function _(e, t, n) { const r = S(e); if (!r.success) return r; const a = t(r.value); return null != a ? (0, d.makeResult)(a) : T(e, `to have ${n} content, but instead has "${r.value}"`) } function m(e, t) { return p(e, t, I, "integer") } function b(e) { const t = e.content; return t instanceof Uint8Array ? T(e, "to have children") : (0, d.makeResult)(t) } function y(e, t) { const n = b(e); if (!n.success) return n; const r = n.value; if (null == r) return f; let a = null; for (let n = 0; n < r.length; n++) { const s = r[n]; if (s.tag === t) { if (null != a) return T(e, `to have 1 child <${t}>, but found more than 1`); a = s } } return (0, d.makeResult)(a) } function g(e, t, n) { const r = y(e, t); return r.success ? null == r.value ? f : n(r.value) : r } function v(e, t, n, r, a) { const s = P(e, t, n, r); if (!s.success) return s; const i = []; for (let e = 0; e < s.value.length; e++) { const t = a(s.value[e]); if (!t.success) return t; i.push(t.value) } return (0, d.makeResult)(i) } function w(e, t, n) { const r = v(e, t, 0, 1 / 0, n); if (!r.success) return r; for (let t = 0; t < r.value.length; t++)if (!(0, o.deepEqual)(r.value[0], r.value[t])) return T(e, "to have homogeneous children, but found two children that are not equal"); return r } function j(e, t, n, r, a) { return A(t, n) ? e(t, n, r, a) : f } function S(e) { const t = E(e); if (!t.success) return t; try { const e = new s.Binary(t.value), n = e.readString(e.size()); return (0, d.makeResult)(n) } catch (t) { return T(e, `to have string content, but run into decoding error: ${t.message}`) } } function E(e) { const { content: t } = e; return null == t ? T(e, "to have content") : Array.isArray(t) ? T(e, "to have content, but has children instead") : (0, d.makeResult)(t) } function T(e, t) { return (0, d.makeError)(`expected <${e.tag}>: ${t}`) } function A(e, t) { return (0, c.default)(e.attrs, t) } function I(e) { const t = parseInt(e, 10); return Number.isNaN(t) ? null : t } function P(e, t, n, r) { const a = b(e); if (!a.success) return a; const s = a.value; if (null == s) return 0 !== n ? T(e, `to have at least ${n} <${t}> children, but found 0`) : (0, d.makeResult)([]); const i = []; for (let e = 0; e < s.length; e++) { const n = s[e]; n.tag === t && i.push(n) } const o = i.length; return o < n ? T(e, `to have at least ${n} <${t}> children, but found ${o}`) : o > r ? T(e, `to have at most ${r} <${t}> children, but found ${o}`) : (0, d.makeResult)(i) } t.voidSuccess = f; t.emptyObject = {} }, 1399: (e, t, n) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.smax = void 0; const r = n(780).wap; t.smax = r }, 5640: (e, t, n) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.mergeStanzas = i, t.optionalMerge = function (e, t, n, r) { if (null != n) return e(t, n, r); return t }; var r = n(4080), a = n(3486); const s = "smax$any"; function i(e, t) { return function (e, t) { const n = e.tag, r = t.tag; if (r === s) return; if (n !== r) throw new Error(`tag mismatch: ${n} != ${r}`) }(e, t), function (e, t) { const n = e.attrs, r = t.attrs; Object.keys(r).forEach((e => { const t = r[e], s = n[e]; if (null != t && null != s) { if (function (e, t) { if ("string" == typeof e && "string" == typeof t) return e === t; if (e instanceof a.WapJid && t instanceof a.WapJid) return e.toString() === t.toString(); return !1 }(t, s)) return; throw new Error(`conflict for key: ${e}`) } n[e] = t })) }(e, t), t.content instanceof Uint8Array ? function (e, t) { const n = e.content; if (n instanceof Uint8Array) { if (!(0, r.uint8ArraysEqualUNSAFE)(n, t)) throw new Error("elementValue mismatch: bytes dose not equal"); return } if (null != n) throw new Error("elementValue mismatch: destination has children"); e.content = t }(e, t.content) : null != t.content && function (e, t) { const n = e.content; if (n instanceof Uint8Array) throw new Error("children mismatch: destination has element value"); if (null == n || 0 === n.length) return void (e.content = t); if (!function (e, t) { const n = o(t), r = o(e), a = Object.keys(n); for (let e = 0; e < a.length; e++) { const t = a[e], s = n[t], i = r[t]; if (null != s && null != i && s !== i) return !1 } return !0 }(n, t)) throw new Error("children mismatch: child counts are not compatible"); const r = [], a = Array.from(n); t.forEach((e => { const t = a.findIndex((t => t.tag === e.tag)); if (-1 === t) r.push(e); else { const n = i(a.splice(t, 1)[0], e); r.push(n) } })), a.forEach((e => r.push(e))), e.content = r }(e, t.content), e } function o(e) { return e.reduce(((e, t) => { const n = t.tag, r = e[n]; return e[n] = null == r ? 1 : r + 1, e }), {}) } }, 3274: (e, t, n) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.Offline = t.Disconnected = t.BufferTooLargeError = void 0; var r = n(6911); const a = (0, r.customError)("BufferTooLarge", !1); t.BufferTooLargeError = a; const s = (0, r.customError)("Disconnected", !1); t.Disconnected = s; const i = (0, r.customError)("Offline", !1, s); t.Offline = i }, 4857: (e, t, n) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.AckParser = void 0, t.ackMatchesTemplate = function (e, t) { return e.id === t.id && (void 0 === t.class || e.class === t.class) && (void 0 === t.type || e.type === t.type) && (void 0 === t.from || s(e.from, t.from)) && (void 0 === t.participant || e.participant === t.participant) && (void 0 === t.ts || e.ts === t.ts) }, t.fromJidsAreEqual = s; var r = n(4037); const a = new (n(8748).WapParser)("ack", (e => (e.assertTag("ack"), { id: e.attrString("id"), ts: e.maybeAttrString("t"), class: e.attrString("class"), type: e.maybeAttrString("type"), from: e.attrJidWithType(), participant: e.hasAttr("participant") ? e.attrDeviceJid("participant") : null }))); function s(e, t) { if ((0, r.extractFromJid)(e) === t) return !0; if (null != e.userJid) return (0, r.defaultDeviceJidForUser)(e.userJid) === t; if (null != e.deviceJid) { const { deviceJid: n } = e; return 0 === (0, r.extractDeviceId)(n) && (0, r.extractUserJid)(n) === t } return !1 } t.AckParser = a }, 9026: (e, t, n) => { "use strict"; var r = n(7914); Object.defineProperty(t, "__esModule", { value: !0 }), t.cancelDeadSocketTimer = function () { w && w.deadSocketTimer.cancel() }, t.castSmaxStanza = k, t.closeSocket = function () { const e = U("closeSocket").socket; e && (__LOG__(2)`closeSocket called`, e.close()) }, t.closeSocketAndPreventRetry = function () { const e = U("closeSocketAndPreventRetry"); e.socketLoop.endWithValue(), e.socket && (__LOG__(2)`closeSocketAndPreventRetry called`, e.socket.close()) }, t.deprecatedCastStanza = function (e) { k(e) }, t.deprecatedSendIq = function (e, t) { return O(e, !1).then((e => (0, u.parseIqResponse)(e, t))) }, t.deprecatedSendIqErrorParser = function (e, t, n) { return O(e, !1).then((e => (0, u.parseIqResponse)(e, t, n))) }, t.deprecatedSendIqIfConnectedWithin = function (e, t, n) { return O(e, !1, n).then((e => (0, u.parseIqResponse)(e, t))) }, t.deprecatedSendIqWithoutRetry = function (e, t) { return O(e, !0).then((e => (0, u.parseIqResponse)(e, t))) }, t.deprecatedSendStanzaAndReturnAck = P, t.deprecatedSendStanzaAndWaitForAck = function (e, t) { return P(e, t).then((() => { })) }, t.forceResetSocketLoop = function () { U("forceResetSocketLoop").socketLoop.reset() }, t.getComms = function () { return w }, t.isActiveSocket = function (e) { return U("castStanza").socketId === e }, t.isSocketConnected = A, t.maybeResetSocketLoop = function () { A() || U("maybeResetSocketLoop").socketLoop.reset() }, t.onStreamErrorReceived = function () { U("onStreamErrorReceived").socketLoop.cancelReset() }, t.openSocketLoop = T, t.resetStateForTests = function () { w = null, j = new h.Resolvable, S = 1 }, t.sendPing = function () { return U("sendPing").sendPing() }, t.sendSmaxStanza = function (e, t) { var n, r; const a = null !== (n = null == t ? void 0 : t.withoutRetry) && void 0 !== n && n, s = null !== (r = null == t ? void 0 : t.timeoutSeconds) && void 0 !== r ? r : 0; return O(e, a, s, "smax") }, t.singletonOrThrowIfUninitialized = U, t.socketLoopIteration = I, t.startComms = function (e, t, n) { if (w) return; w = new E(e, t, n), setTimeout(T, 0) }, t.startHandlingRequests = function () { return U("startHandlingRequests").startHandlingRequests() }, t.stopComms = function () { const e = U("stopComms"); e.socketLoop.endWithValue(), e.socket && e.socket.close(); w = null }, t.waitForConnection = function () { U("waitForConnection").sendPing(), j || (j = new h.Resolvable); return j.promise }; var a = r(n(3982)), s = r(n(1504)), i = n(4857), o = n(3558), c = r(n(2065)), d = n(3274), l = n(5584), u = n(2827), f = n(2521), h = n(1630), p = n(2207), _ = n(8494), m = n(1084), b = n(8525), y = n(3263), g = n(9987), v = n(780); let w = null, j = null, S = 1; class E { constructor(e, t, n) { var r, a; this.nextSocketId = 1, this.pendingIqs = new Map, this.ackHandlers = [], this.pendingSmaxStanzas = new Map, this._recvBlocker = new h.Resolvable, this.activePing = null, this._pending = new Set, this.socketId = 0, this.socket = null, this.softCloseSocket = null, this.handleStanza = (e, t, n) => { const r = (0, y.attrString)(e, "id"); if (r.success) { const t = r.value, n = this.pendingSmaxStanzas.get(t); if (n) return this.pendingSmaxStanzas.delete(t), n.resolve(e), this.maybeScheduleHealthCheck(), "NO_ACK" } const a = x(e); if (null != a) { const t = this.pendingIqs.get(a); t ? (this.pendingIqs.delete(a), t.resolve(e), this.maybeScheduleHealthCheck()) : (__LOG__(3)`handleIq no handler for iq with id ${a}`, __LOG__(4, void 0, new Error)`handleIq no handler for iq`) } else { if ("ack" !== e.tag) return "failure" === e.tag && this.config.shouldBlockReceivingUntilSuccess ? this._handleStanza(e, t, n) : this._recvBlocker.promise.then((() => this._handleStanza(e, t, n))); this.handleAck(e) } return "NO_ACK" }, this.healthCheckTimer = new _.ShiftTimer((() => { this.socketId && this.sendPing() })), this.deadSocketTimer = new _.ShiftTimer((e => { __LOG__(2)`Comms: Socket ${e} expired`, e === this.socketId && this.softCloseSocket && this.softCloseSocket() })), this.sendPing = (0, s.default)((function* () { const e = U("sendPing"); if (!e.socketId) return __LOG__(2)`sendPing when socket dead`, Promise.resolve(); if (e.activePing && e.activePing.socketId === e.socketId) return __LOG__(2)`sendPing ping still pending`, Promise.resolve(); e.activePing && e.activePing.handler.resolve(); const t = (0, b.makeClientRequest)(), n = t.attrs.id; if ("string" != typeof n) return __LOG__(4, void 0, new Error)`No stanzaId in ping request stanza`, Promise.resolve(); const r = new h.Resolvable; e.activePing = { socketId: e.socketId, stanzaId: n, handler: r }, e.callStanza(t); const a = yield r.promise; if (a) { const n = (0, m.parseClientResponseServerResponse)(a, t); if (n.success) { var s, i; const t = (0, g.castToUnixTime)(n.value.t), r = Math.round(Date.now() / 1e3 - t); null === (s = (i = e.config.handlers).onClockSkewUpdate) || void 0 === s || s.call(i, r) } } })), this._handleStanza = e, this.onConnectionChange = (0, l.notifyConnectionChangeFactory)(null !== (r = t.handlers.onConnectionChange) && void 0 !== r ? r : () => { }, null !== (a = t.handlers.onOptimisticConnectionChange) && void 0 !== a ? a : () => { }), this.gzipInflate = n, this.config = t, this.socketLoop = new f.PromiseRetryLoop({ name: "MainSocketLoop", code: I, timer: { jitter: .1, max: t.maxSocketLoopWaitTime, algo: { type: "fibonacci", first: 1e4, second: 1e4 }, relativeDelay: !0 }, resetDelay: 3e4 }) } filterPending(e) { const t = []; function n(n) { e(n) && t.push(n) } return this.pendingIqs.forEach(n), this.ackHandlers.forEach(n), this.pendingSmaxStanzas.forEach(n), t } sendPendingStanza(e) { const { timeoutId: t } = e; null != t && (clearTimeout(t), e.timeoutId = void 0), this.callStanza(e.stanza) } maybeSendPendingStanza(e) { this.socket ? this.sendPendingStanza(e) : __LOG__(2)`Comms has no open socket, will resend stanza when socket opens` } callStanzaAsync(e) { var t = this; return (0, s.default)((function* () { return yield t.callStanza(e) }))() } callStanza(e) { const t = this.castStanza(e); return this.deadSocketTimer.onOrBefore(this.config.deadSocketTime, this.socketId), this.healthCheckTimer.cancel(), t } castStanzaAsync(e) { var t = this; return (0, s.default)((function* () { return yield t.castStanza(e) }))() } castStanza(e) { try { var t, n; const r = null === (t = (n = this.config.handlers).onBeforeCastStanzaForE2E) || void 0 === t ? void 0 : t.call(n, e); if (null != r) return this.handleStanza(r, this.socketId, 0), __LOG__(4, void 0, new Error)`Dropping stanza since onBeforeCastStanza matched. (This is not expected in a non-E2E build!)`, Promise.resolve() } catch (e) { } const r = this.socketOrThrow("castStanza"); try { return r.sendFrame((0, v.encodeStanza)(e)).then((() => { var t, n; null === (t = (n = this.config.handlers).onCastStanza) || void 0 === t || t.call(n, e) })).catch((e => { if (__LOG__(4, void 0, new Error)`castStanza async error ${e}`, e instanceof d.BufferTooLargeError) return Promise.reject(e) })) } catch (e) { __LOG__(4, void 0, new Error)`castStanza error ${e}` } return Promise.resolve() } socketOrThrow(e) { const t = this.socket; if (t) return t; throw (0, c.default)(`Comms.${e} called while no socket`) } startHandlingRequests() { return __LOG__(2)`Comms.startHandlingRequests`, this._recvBlocker.resolve(), this._recvBlocker.promise.then((() => { })) } parseAndHandleStanza(e, t) { e === this.socketId && (this.deadSocketTimer.cancel(), j && (j.resolve(), j = null)); const n = (0, v.decodeStanza)(t, this.gzipInflate).catch((e => { throw __LOG__(4, void 0, new Error)`Failure parsing stanza!`, e })).then((n => { var r, a; null === (r = (a = this.config.handlers).onHandleStanza) || void 0 === r || r.call(a, n, e, t.byteLength); const s = this.activePing; return s && s.socketId === e && s.stanzaId === x(n) ? (this.activePing = null, s.handler.resolve(n), this.maybeScheduleHealthCheck(), "NO_ACK") : this.handleStanza(n, e, t.byteLength) })).then((t => { if (e === this.socketId) { if ("CLOSE_SOCKET" === t) { __LOG__(2)`Comms: job response is CLOSE_SOCKET`; const e = this.socket; e && e.close() } else "NO_ACK" === t || this.castStanza(t); return "NO_ACK" } })); this._pending.add(n), n.finally((() => { this._pending.delete(n) })) } handleAck(e) { const t = this.ackHandlers; let n = -1, r = null; for (; !r && ++n < t.length;)r = t[n].parseAndTest(e); if (r) { var a, s; const i = t[n]; (0, o.removeIndexWithoutPreservingOrder)(t, n), null === (a = (s = this.config.handlers).onHandleAck) || void 0 === a || a.call(s, e), i.resolve(r), this.maybeScheduleHealthCheck() } else __LOG__(3)`handleAck: unrecognized ${e}` } removeHandler(e) { if ("iq" === e.type || "smax" === e.type) { const t = e.stanza.attrs.id; if (!t || "string" != typeof t) return; if ("iq" === e.type && !this.pendingIqs.delete(t) || "smax" === e.type && !this.pendingSmaxStanzas.delete(t)) return } else { e.type; const t = this.ackHandlers.indexOf(e); if (-1 === t) return; (0, o.removeIndexWithoutPreservingOrder)(this.ackHandlers, t) } e.resolve(Promise.reject(new d.Disconnected)) } maybeScheduleHealthCheck() { if (this.healthCheckTimer.isScheduled()) return; if (this.activePing || this.ackHandlers.length || this.pendingIqs.size || this.pendingSmaxStanzas.size) return; const e = this.config.healthCheckInterval, t = Math.ceil(1e3 * e * (1 + Math.random())); this.healthCheckTimer.onOrBefore(t) } } function T() { U("openSocketLoop").socketLoop.start() } function A() { var e; return !!(null === (e = w) || void 0 === e ? void 0 : e.socket) } function I() { var e, t; const n = U("socketLoopIteration"), r = n.nextSocketId++; return __LOG__(2)`Comms: Socket ${r} opening`, null === (e = (t = n.config.handlers).onSocketLoopIteration) || void 0 === e || e.call(t), n.config.openChatSocket((() => { n.onConnectionChange("in_handshake") })).then((0, p.onResult)((e => { var t, a, s, i; null === (t = (a = n.config.handlers).onSocketOpen) || void 0 === t || t.call(a); const o = new h.Resolvable; return __LOG__(2)`Comms: Socket ${r} opened`, n.socketId = r, n.socket = e, n.softCloseSocket = () => { n.softCloseSocket = null, n.socket && n.config.shouldCloseStaleSocket && (n.socket.close(), n.socket = null), o.resolve() }, n.socketLoop.resetTimeoutAfter(1e4), n.deadSocketTimer.cancel(), n.maybeScheduleHealthCheck(), e.setOnFrame((e => n.parseAndHandleStanza(r, e))), e.setOnClose((() => { var e, t; __LOG__(2)`Comms: Socket ${r} closed`, n.activePing && r === n.activePing.socketId && (n.activePing.handler.resolve(), n.activePing = null), n.filterPending((e => e.attachedToSocketId === r)).forEach((e => { n.removeHandler(e) })), r === n.socketId && (n.socketId = 0, n.socket = null, n.onConnectionChange("disconnected"), null === (e = (t = n.config.handlers).onDisconnect) || void 0 === e || e.call(t), o.resolve()) })), n.onConnectionChange("connected"), null === (s = (i = n.config.handlers).onConnect) || void 0 === s || s.call(i), n.filterPending((e => !e.attachedToSocketId)).sort(((e, t) => e.orderedId - t.orderedId)).forEach((e => { switch (e.type) { case "smax": case "iq": n.sendPendingStanza(e); break; case "ack": n.callStanza(e.stanza); break; default: e.type } })), o.promise }))).then((0, p.catchError)((e => { switch (e) { case "max-hunters": __LOG__(3)`socketLoopIteration socket closed while in noise handshake using treasureHunt strategy`; break; case "disconnected": __LOG__(3)`socketLoopIteration socket disconnected while in noise handshake` } }))).catch((e => { e instanceof d.Disconnected ? __LOG__(2)`socketLoopIteration socket closed while in noise handshake` : __LOG__(4, void 0, new Error)`socketLoopIteration failed ${e}` })) } function P(e, t) { return new Promise((n => { const r = U("deprecatedSendStanzaAndWaitForAck"), a = { type: "ack", parseAndTest: e => { const n = i.AckParser.parse(e); return !n.error && (0, i.ackMatchesTemplate)(n.success, t) ? e : null }, resolve: n, stanza: e, attachedToSocketId: 0, orderedId: S++ }; r.ackHandlers.push(a), r.socket ? r.callStanza(e).catch((e => { const t = r.ackHandlers.indexOf(a); -1 !== t && ((0, o.removeIndexWithoutPreservingOrder)(r.ackHandlers, t), a.resolve(Promise.reject(e))) })) : __LOG__(2)`Comms has no open socket, will send stanza when socket opens` })) } function k(e) { const t = U("castStanza"); t.socket ? t.castStanza(e) : __LOG__(2)`Comms has no open socket` } function O(e, t) { let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "iq"; return new Promise((s => { const i = U("sendIq"), o = e.attrs.id; if (!o || "string" != typeof o) throw (0, c.default)(`Comms:sendIq given iq without id: ${String(e)}`); const l = i.socketId; if (t && !l) return void s(Promise.reject(new d.Offline)); let u; n > 0 && (u = setTimeout((() => { const e = "iq" === r ? i.pendingIqs.get(o) : i.pendingSmaxStanzas.get(o); e ? i.removeHandler(e) : s(Promise.reject((0, c.default)(`Comms:_sendIq unexisting stanza to be cancelled: ${o}`))) }), 1e3 * n)); const f = { resolve: s, stanza: e, attachedToSocketId: t ? l : 0, orderedId: S++, timeoutId: u }; if ("iq" === r) { var h, p; const t = (0, a.default)({ type: r }, f); i.pendingIqs.set(o, t), null === (h = (p = i.config.handlers).onSendIq) || void 0 === h || h.call(p, e), i.maybeSendPendingStanza(t) } else { const e = (0, a.default)({ type: r }, f); i.pendingSmaxStanzas.set(o, e), i.maybeSendPendingStanza(e) } })) } function U(e) { if (w) return w; throw (0, c.default)(`Comms::${e} called before startComms`) } function x(e) { if ("iq" === e.tag) { const t = e.attrs.type; if ("result" === t || "error" === t) return (0, v.decodeAsString)(e.attrs.id) || null } return null } }, 5584: (e, t) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.notifyConnectionChangeFactory = function (e, t) { let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 15e3; const r = { timeoutID: null, connectionStatus: "disconnected", optimismLevel: "optimist" }, a = () => { const { optimismLevel: e, connectionStatus: a } = r; "optimist" === e ? r.timeoutID = setTimeout((() => { r.optimismLevel = "realist", t(a) }), n) : t(a) }; return n => { r.connectionStatus = n, "disconnected" === n || "in_handshake" === n ? a() : (null != r.timeoutID && (clearTimeout(r.timeoutID), r.timeoutID = null), t(n)), e(n) } } }, 6581: (e, t, n) => { "use strict"; var r = n(7914); Object.defineProperty(t, "__esModule", { value: !0 }), t.XmppParsingFailure = t.ParsableWapNode = void 0; var a = n(9323), s = r(n(2065)), i = n(4037), o = n(1330), c = n(8481), d = n(717), l = n(9987), u = n(780), f = n(3486); class h extends Error { constructor(e, t) { super(`XmppParsingFailure: ${e}: ${t}`), this.name = "XmppParsingFailure", this.parser = e, this.reason = t } toString() { return `XmppParsingFailure: ${this.parser}: ${this.reason}` } } t.XmppParsingFailure = h; class p extends c.ParsableXmlNode { constructor(e, t) { super(e, t) } assertFromServer() { const e = this.attrString("from"); e !== i.WA_SERVER_JID_SUFFIX && this.throw(`to have "from"="s.whatsapp.net", but instead has "${e}"`) } attrUserJid(e) { const t = this.attrString(e), n = (0, i.interpretAndValidateJid)(t); return null == n.userJid ? this.throw(`to have "${e}"={UserJid}, but instead has "${t}"`) : n.userJid } attrPhoneUserJid(e) { const t = this.attrString(e), n = (0, i.interpretAndValidateJid)(t); return "phoneUser" === n.jidType ? n.userJid : this.throw(`to have "${e}"={PhoneUserJid}, but instead has "${t}"`) } attrLidUserJid(e) { const t = this.attrString(e), n = (0, i.interpretAndValidateJid)(t); return "lidUser" === n.jidType ? n.userJid : this.throw(`to have "${e}"={LidUserJid}, but instead has "${t}"`) } maybeAttrUserJid(e) { return this.hasAttr(e) ? this.attrUserJid(e) : null } maybeAttrPhoneUserJid(e) { return this.hasAttr(e) ? this.attrPhoneUserJid(e) : null } maybeAttrLidUserJid(e) { return this.hasAttr(e) ? this.attrLidUserJid(e) : null } attrGroupJid(e) { const t = this.attrString(e), n = (0, i.interpretAndValidateJid)(t); return null == n.groupJid ? this.throw(`to have "${e}"={GroupJid}, but instead has "${t}"`) : n.groupJid } maybeAttrGroupJid(e) { return this.hasAttr(e) ? this.attrGroupJid(e) : null } attrChatJid(e) { const t = this.attrString(e), n = (0, i.interpretAndValidateJid)(t); return null != n.userJid ? n.userJid : null != n.groupJid ? n.groupJid : this.throw(`to have "${e}"={ChatJid}, but instead has "${t}"`) } attrPhoneChatJid(e) { const t = this.attrString(e), n = (0, i.interpretAndValidateJid)(t); return "phoneUser" === n.jidType ? n.userJid : "group" === n.jidType ? n.groupJid : this.throw(`to have "${e}"={ChatJid}, but instead has "${t}"`) } attrDeviceJid(e) { const t = this.attrString(e), n = (0, i.interpretAndValidateJid)(t); return null != n.deviceJid ? n.deviceJid : null != n.userJid ? (0, i.defaultDeviceJidForUser)(n.userJid) : this.throw(`to have "${e}"={DeviceJid}, but instead has "${t}"`) } attrPhoneDeviceJid(e) { const t = this.attrString(e), n = (0, i.interpretAndValidateJid)(t); return "phoneDevice" === n.jidType ? n.deviceJid : "phoneUser" === n.jidType ? (0, i.defaultPhoneDeviceJidForUser)(n.userJid) : this.throw(`to have "${e}"={DeviceJid}, but instead has "${t}"`) } attrDeviceId(e) { const t = this.attrInt(e); return (0, i.interpretAsDeviceId)(t) } attrFromJidChat() { const e = this.attrJidWithType(); switch (e.jidType) { case "msgrUser": { const t = e.userJid, n = (0, i.defaultDeviceJidForUser)(t); return { type: "device", chat: t, deviceJid: n, author: n } } case "phoneUser": { const t = e.userJid, n = (0, i.defaultDeviceJidForUser)(t); return { type: "device", chat: t, deviceJid: n, author: n } } case "lidUser": { const t = e.userJid, n = (0, i.defaultLidDeviceJidForLidUserJid)(t); return { type: "device", chat: t, deviceJid: n, author: n } } case "phoneDevice": { const t = e.deviceJid; return { type: "device", chat: (0, i.extractUserJid)(t), deviceJid: t, author: t } } case "msgrDevice": { const t = e.deviceJid; return { type: "device", chat: (0, i.extractUserJid)(t), deviceJid: t, author: t } } case "lidDevice": { const t = e.deviceJid; return { type: "device", chat: (0, i.extractUserJid)(t), deviceJid: t, author: t } } case "group": { const t = this.hasAttr("participant") ? this.attrDeviceJid("participant") : null; return null == t ? this.throw("expected to have participant JID for group") : { type: "group", chat: e.groupJid, groupJid: e.groupJid, author: t } } case "broadcast": { const t = this.hasAttr("participant") ? this.attrDeviceJid("participant") : null; return null == t ? this.throw("expected to have participant JID for group") : { type: "broadcast", broadcastJid: e.broadcastJid, chat: (0, i.extractUserJid)(t), author: t } } case "call": throw __LOG__(4, void 0, new Error)`ParsableWapNode: attrFromJid() is called with ${e.callJid}`, (0, s.default)("ParsableWapNode: attrFromJid() does not support CallJid"); default: return e.jidType, this.throw(`attrFromJidChat should not be used with jid of type ${e.jidType}`) } } attrFromJidPhoneChat() { const e = this.attrJidWithType(); switch (e.jidType) { case "phoneUser": { const t = e.userJid, n = (0, i.defaultPhoneDeviceJidForUser)(t); return { type: "device", chat: t, deviceJid: n, author: n } } case "phoneDevice": { const t = e.deviceJid; return { type: "device", chat: (0, i.extractPhoneUserJid)(t), deviceJid: t, author: t } } case "group": { const t = this.hasAttr("participant") ? this.attrPhoneDeviceJid("participant") : null; return null == t ? this.throw("expected to have participant JID for group") : { type: "group", chat: e.groupJid, groupJid: e.groupJid, author: t } } case "broadcast": { const t = this.hasAttr("participant") ? this.attrPhoneDeviceJid("participant") : null; return null == t ? this.throw("expected to have participant JID for group") : { type: "broadcast", broadcastJid: e.broadcastJid, chat: (0, i.extractPhoneUserJid)(t), author: t } } case "call": throw __LOG__(4, void 0, new Error)`ParsableWapNode: attrFromJid() is called with ${e.callJid}`, (0, s.default)("ParsableWapNode: attrFromJid() does not support CallJid"); default: return e.jidType, this.throw(`attrFromJidChat should not be used with jid of type ${e.jidType}`) } } attrFromPhoneJid() { if ("status" === this.attrJidWithType().jidType) { const e = this.hasAttr("participant") ? this.attrPhoneDeviceJid("participant") : null; return null == e ? this.throw("to have participant for status msg") : { type: "status", author: e } } return this.attrFromJidPhoneChat() } attrFromJid() { const e = this.attrJidWithType(); if ("status" === e.jidType) { const e = this.hasAttr("participant") ? this.attrPhoneDeviceJid("participant") : null; return null == e ? this.throw("to have participant for status msg") : { type: "status", author: e } } return "newsletter" === e.jidType ? { type: "newsletter", newsletterJid: e.newsletterJid } : this.attrFromJidChat() } attrJidWithType() { let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "from"; const t = this.attrString(e), n = (0, i.interpretAndValidateJid)(t); return "unknown" === n.jidType ? this.throw(`to have "${e}"={Jid}, but instead has "${t}"`) : n } attrWapJid() { let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "from"; const t = this.attrString(e), n = (0, i.interpretAndValidateJid)(t); return "unknown" === n.jidType ? f.WapJid.create(null, t) : (0, u.JID)((0, i.extractFromJid)(n)) } attrLongInt(e) { const t = this.attrString(e); return (0, o.decimalStringToLongInt)(t) } attrTime(e) { return (0, l.castToUnixTime)(this.attrInt(e)) } attrFutureTime(e) { const t = this.attrInt(e); return (0, l.futureUnixTime)(t) } contentString() { if (this.hasChildren()) return this.throw("to have string content, but has children instead"); if (this.hasContent()) { const e = new a.Binary(this.contentBytes()); return e.readString(e.size()) } return this.throw("to have content") } decodeAsString(e) { return (0, u.decodeAsString)(e) } contentSerializedPubKey() { return this.hasContent() ? (0, d.serializeIdentity)(this.contentBytes()) : this.throw("to have content") } createParseError(e) { return new h(this.name(), `expected <${this.tag()}> ${e}`) } throw(e) { throw this.createParseError(e) } } t.ParsableWapNode = p }, 2827: (e, t, n) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.parseIqResponse = function (e, t, n) { const s = e.content; if (s && Array.isArray(s) && s[0]) { const t = s[0]; if ("error" === t.tag) { const s = t.attrs || {}; let i; n && (i = "function" == typeof n ? n(e) : n.parseOrThrow(t)); const o = i; return { success: !1, errorCode: parseInt(s.code, 10), errorText: (0, r.decodeAsString)(s.text) || "", errorType: (0, r.decodeAsString)(s.type) || "", errorBackoff: parseInt(s.backoff, 10), toString: a, customError: o } } } return "function" == typeof t ? { success: !0, result: t(e) } : { success: !0, result: t.parseOrThrow(e) } }; var r = n(780); function a() { return `IqError ${this.errorCode}: ${this.errorText}` } }, 780: (e, t, n) => { "use strict"; var r = n(7914); Object.defineProperty(t, "__esModule", { value: !0 }), t.BIG_ENDIAN_CONTENT = function (e) { let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 4, n = e; const r = new Uint8Array(t); for (let e = t - 1; e >= 0; e--)r[e] = 255 & n, n >>>= 8; return r }, t.BROADCAST_JID = function (e) { return H(e) }, t.CALL_JID = function (e) { return H(e) }, t.CUSTOM_STRING = function (e) { return e }, t.DEVICE_JID = function (e) { return H(e) }, t.DOMAIN_JID = V, t.DROP_ATTR = void 0, t.GROUP_JID = function (e) { return H(e) }, t.G_US = void 0, t.INT = function (e) { return e.toString() }, t.JID = H, t.LONG_INT = function (e) { return (0, c.longIntToDecimalString)(e) }, t.MAYBE_CUSTOM_STRING = function (e) { if (null == e) return S; return e }, t.NEWSLETTER = void 0, t.NEWSLETTER_JID = function (e) { return H(e) }, t.PARTICIPANT_JID = function (e) { return "status" === e.type || "group" === e.type || "broadcast" === e.type ? H(e.author) : S }, t.STANZA_ID = function (e) { return e }, t.S_WHATSAPP_NET = t.STATUS_BROADCAST = void 0, t.TO_JID = function (e) { return H(G(e)) }, t.TO_WAP_JID = function (e) { return "phoneDevice" === e.jidType || "msgrDevice" === e.jidType || "lidDevice" === e.jidType ? H(e.deviceJid) : "phoneUser" === e.jidType || "msgrUser" === e.jidType || "lidUser" === e.jidType ? H(e.userJid) : "group" === e.jidType ? H(e.groupJid) : "status" === e.jidType ? H(e.statusJid) : "call" === e.jidType ? H(e.callJid) : "newsletter" === e.jidType ? H(e.newsletterJid) : (e.jidType, H(e.broadcastJid)) }, t.USER_JID = function (e) { return H(e) }, t.WapNode = void 0, t.decodeAsString = function (e) { if (e instanceof l.WapJid) return e.toString(); return e }, t.decodeStanza = function (e, t) { const n = new s.Binary(e); if (2 & n.readUint8()) return __LOG__(2)`Decoding compressed stanza`, t(n.readByteArray()).then((e => K(new s.Binary(e)))); return Promise.resolve(K(n)) }, t.enableXMLFormat = function () { k = !0 }, t.encodeStanza = function (e) { const t = e instanceof O ? e : R(e), n = new s.Binary; C(t, n); const r = n.readByteArray(), a = new Uint8Array(1 + r.length); return a[0] = 0, a.set(r, 1), a }, t.extractParticipantJid = function (e) { switch (e.type) { case "group": case "status": case "broadcast": return e.author; default: return e.type, null } }, t.extractToJid = G, t.generateId = function () { if (!w) { const e = new Uint16Array(2); self.crypto.getRandomValues(e), w = `${String(e[0])}.${String(e[1])}-` } return `${w}${j++}` }, t.makeStanza = R, t.makeWapNode = U, t.wap = void 0; var a = r(n(7537)), s = n(9323), i = r(n(2065)), o = n(4037), c = n(1330), d = n(4493), l = n(3486), u = r(n(8132)), f = n(3260); const h = o.MSGR_USER_DOMAIN.replace("@", ""), p = o.WA_USER_DOMAIN.replace("@", ""), _ = o.LID_DOMAIN.replace("@", ""), m = [236, 237, 238, 239], b = 248, y = 249, g = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "-", ".", "", "", "", ""], v = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "A", "B", "C", "D", "E", "F"]; let w = "", j = 1; const S = { sentinel: "DROP_ATTR" }; t.DROP_ATTR = S; const E = l.WapJid.create(null, "g.us"); t.G_US = E; const T = l.WapJid.create(null, o.WA_SERVER_JID_SUFFIX); t.S_WHATSAPP_NET = T; const A = l.WapJid.create("status", "broadcast"); t.STATUS_BROADCAST = A; const I = l.WapJid.create(null, "newsletter"); t.NEWSLETTER = I; const P = {}; let k = !1; class O { constructor(e) { let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : P, n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null; this.tag = e, this.attrs = t, this.content = n } toString() { let e = "<" + this.tag; e += (0, f.attrsToString)(this.attrs); const t = this.content; return Array.isArray(t) ? e += `>${t.map(String).join("")}</${this.tag}>` : e += t ? `>${(0, f.uint8ArrayToDebugString)(t)}</${this.tag}>` : " />", k && (e = (0, u.default)(e)), e } } function U(e, t, n) { let r = null; if (t && null != t.children) throw (0, i.default)('Children should not be passed via props (see eslint check "react/no-children-props")'); if (Array.isArray(n)) r = n.filter(Boolean); else if ("string" == typeof n) r = s.Binary.build(n).readByteArray(); else if (n instanceof ArrayBuffer) r = new Uint8Array(n); else if (n instanceof Uint8Array) r = n; else { const e = []; for (let t = 2; t < arguments.length; t++) { const n = arguments[t]; n && e.push(n) } r = e } Array.isArray(r) && 0 === r.length && (r = null); const a = {}; if (t) { const n = t; Object.keys(n).forEach((t => { const r = n[t]; if (null == r) throw (0, i.default)(`Attr ${t} in <${e}> is null`); r !== S && (a[t] = r) })) } return new O(e, a, r) } t.WapNode = O; const x = U; function R(e) { let t = e.content; return Array.isArray(t) ? t = t.map(R) : "string" == typeof t && (t = s.Binary.build(t).readByteArray()), new O(e.tag, e.attrs || P, t) } function C(e, t) { if (null == e) t.writeUint8(0); else if (e instanceof O) M(e, t); else if (e instanceof l.WapJid) !function (e, t) { const n = e.getInnerJid(); if (n.type === l.WAP_JID_SUBTYPE.JID_U) { const { user: e, device: r, domainType: a } = n; t.writeUint8(247), t.writeUint8(a), t.writeUint8(r), C(e, t) } else if (n.type === l.WAP_JID_SUBTYPE.JID_FB) { const { user: e, device: r } = n; t.writeUint8(246), C(e, t), t.writeUint16(r), C(p, t) } else { const { user: e, server: r } = n; t.writeUint8(250), null != e ? C(e, t) : t.writeUint8(0), C(r, t) } }(e, t); else if ("string" == typeof e) J(e, t); else { if (!(e instanceof Uint8Array)) throw (0, i.default)("Invalid payload type " + typeof e); !function (e, t) { B(e.length, t), t.writeByteArray(e) }(e, t) } } function M(e, t) { if (void 0 === e.tag) return t.writeUint8(b), void t.writeUint8(0); let n = 1; e.attrs && (n += 2 * Object.keys(e.attrs).length), e.content && n++, n < 256 ? (t.writeUint8(b), t.writeUint8(n)) : n < 65536 && (t.writeUint8(y), t.writeUint16(n)), C(e.tag, t), e.attrs && Object.keys(e.attrs).forEach((n => { J(n, t), C(e.attrs[n], t) })); const r = e.content; if (Array.isArray(r)) { r.length < 256 ? (t.writeUint8(b), t.writeUint8(r.length)) : r.length < 65536 && (t.writeUint8(y), t.writeUint16(r.length)); for (let e = 0; e < r.length; e++)M(r[e], t) } else r && C(r, t) } let $, D; function L(e) { const t = new Map; for (let n = 0; n < e.length; n++)t.set(e[n], n); return t } function J(e, t) { if ("" === e) return t.writeUint8(252), void t.writeUint8(0); null == $ && ($ = L(d.SINGLE_BYTE_TOKEN)); const n = $.get(e); if (null != n) return void t.writeUint8(n + 1); if (null == D) { D = []; for (let e = 0; e < d.DICTIONARIES.length; ++e)D.push(L(d.DICTIONARIES[e])) } for (let n = 0; n < D.length; ++n) { const r = D[n].get(e); if (null != r) return t.writeUint8(m[n]), void t.writeUint8(r) } const r = (0, s.numUtf8Bytes)(e); if (r < 128) { if (!/[^0-9.-]+?/.exec(e)) return void N(e, 255, t); if (!/[^0-9A-F]+?/.exec(e)) return void N(e, 251, t) } B(r, t), t.writeString(e) } function N(e, t, n) { const r = e.length % 2 == 1; n.writeUint8(t); let a = Math.ceil(e.length / 2); r && (a |= 128), n.writeUint8(a); let s = 0; for (let r = 0; r < e.length; r++) { const a = e.charCodeAt(r); let o = null; if (48 <= a && a <= 57 ? o = a - 48 : 255 === t ? 45 === a ? o = 10 : 46 === a && (o = 11) : 251 === t && 65 <= a && a <= 70 && (o = a - 55), null == o) throw (0, i.default)(`Cannot nibble encode ${a}`); r % 2 == 0 ? (s = o << 4, r === e.length - 1 && (s |= 15, n.writeUint8(s))) : (s |= o, n.writeUint8(s)) } } function B(e, t) { if (e < 256) t.writeUint8(252), t.writeUint8(e); else if (e < 1048576) t.writeUint8(253), t.writeUint8(e >>> 16 & 255), t.writeUint8(e >>> 8 & 255), t.writeUint8(255 & e); else { if (!(e < 4294967296)) throw (0, i.default)(`Binary with length ${e} is too big for WAP protocol`); t.writeUint8(254), t.writeUint32(e) } } function F(e, t) { const n = e.readUint8(); if (0 === n) return null; if (n === b) return z(e, e.readUint8()); if (n === y) return z(e, e.readUint16()); if (252 === n) { const n = e.readUint8(); return Y(e, n, t) } if (253 === n) { const n = e.readUint8(), r = e.readUint8(), a = e.readUint8(); return Y(e, ((15 & n) << 16) + (r << 8) + a, t) } if (254 === n) { const n = e.readUint32(); return Y(e, n, t) } if (250 === n) return function (e) { const t = function (e) { const t = F(e, !0); if (null != t && "string" != typeof t) throw (0, i.default)("WAWap:decodeNullableString got invalid value, string expected"); return t }(e), n = W(e); return l.WapJid.create(t, n) }(e); if (246 === n) return function (e) { const t = W(e), n = e.readUint16(); return W(e), l.WapJid.createFbJid(t, n) }(e); if (247 === n) return function (e) { let t = null; const n = e.readUint8(); if (0 === n) t = l.DomainType.WHATSAPP; else { if (1 !== n) throw (0, i.default)(`decodeJidU - Invalid domain type encoding ${n}`); t = l.DomainType.LID } const r = e.readUint8(), a = W(e); return l.WapJid.createJidU(a, t, r) }(e); if (255 === n) { const t = e.readUint8(); return q(e, g, t >>> 7, 127 & t) } if (251 === n) { const t = e.readUint8(); return q(e, v, t >>> 7, 127 & t) } if (n <= 0 || n >= 240) throw (0, i.default)("Unable to decode WAP buffer"); if (n >= 236 && n <= 239) { const t = n - 236, r = d.DICTIONARIES[t]; if (void 0 === r) throw (0, i.default)(`Missing WAP dictionary ${t}`); const a = e.readUint8(), s = r[a]; if (void 0 === s) throw (0, i.default)(`Invalid value index ${a} in dict ${t}`); return s } const r = d.SINGLE_BYTE_TOKEN[n - 1]; if (void 0 === r) throw (0, i.default)(`Undefined token with index ${n}`); return r } function z(e, t) { const n = []; for (let r = 0; r < t; r++)n.push(K(e)); return n } function K(e) { const t = e.readUint8(); let n, r; if (t === b) n = e.readUint8(); else { if (t !== y) throw (0, i.default)(`Failed to decode node since type byte ${String(t)} is invalid`); n = e.readUint16() } let a = null; if (0 === n) throw (0, i.default)("Failed to decode node, list cannot be empty"); const s = W(e); for (n -= 1; n > 1;) { r || (r = {}); const t = W(e), a = F(e, !0); r[t] = a, n -= 2 } return 1 === n && (a = F(e, !1), a instanceof l.WapJid && (a = String(a))), new O(s, r, a) } function W(e) { const t = F(e, !0); if ("string" != typeof t) throw (0, i.default)("WAWap:decodeString got invalid value, string expected"); return t } function Y(e, t) { let n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]; return n ? e.readString(t) : e.readByteArray(t) } function q(e, t, n, r) { const a = new Array(2 * r - n); for (let n = 0; n < a.length - 1; n += 2) { const r = e.readUint8(); a[n] = t[r >>> 4], a[n + 1] = t[15 & r] } if (n) { const n = e.readUint8(); a[a.length - 1] = t[n >>> 4] } return a.join("") } function G(e) { switch (e.type) { case "group": return e.groupJid; case "status": return o.STATUS_JID; case "device": return e.deviceJid; case "newsletter": return e.newsletterJid; default: return e.type, e.broadcastJid } } function H(e) { const t = (0, o.validateDomainJid)(e); if (null != t) return V(t); const n = e.split("@"); let r = n[0]; const a = n[1]; let s = null, i = null; if (a !== p && a !== h && a !== _ || -1 !== r.indexOf(":") && ([r, s] = r.split(":"), i = parseInt(s, 10)), a === h) return l.WapJid.createFbJid(r, i); const c = a === _ ? l.DomainType.LID : l.DomainType.WHATSAPP; return null != i && 0 !== i ? l.WapJid.createJidU(r, c, i) : l.WapJid.create(r, a) } function V(e) { return "s.whatsapp.net" === e ? T : "g.us" === e ? E : "newsletter" === e ? I : (0, a.default)(e) } t.wap = x }, 3486: (e, t, n) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.WapJid = t.WAP_JID_SUBTYPE = t.DomainType = void 0; var r = n(4037); const a = { JID: 0, JID_U: 1, JID_AD: 1, JID_FB: 3 }; t.WAP_JID_SUBTYPE = a; const s = n(4302)({ WHATSAPP: 0, LID: 1 }); t.DomainType = s; class i { constructor(e) { this._jid = e } static createAD(e, t, n) { return new i({ type: a.JID_AD, user: e, device: null == n ? 0 : n, agent: null == t ? 0 : t, domainType: s.WHATSAPP }) } static createJidU(e, t, n) { return new i({ type: a.JID_U, user: e, device: null == n ? 0 : n, domainType: null == t ? s.WHATSAPP : t }) } static createFbJid(e, t) { return new i({ type: a.JID_FB, user: e, device: null == t ? 0 : t }) } static create(e, t) { return new i({ type: a.JID, user: e, server: t }) } toString() { if (this._jid.type === a.JID_AD || this._jid.type === a.JID_U) { const { user: e, device: t, domainType: n } = this._jid, a = n === s.WHATSAPP ? r.WA_USER_JID_SUFFIX : r.LID_SUFFIX; return 0 === t ? `${e}@${a}` : `${e}:${t}@${a}` } if (this._jid.type === a.JID_FB) { const { user: e, device: t } = this._jid; return `${e}:${t}@${r.MSGR_USER_JID_SUFFIX}` } { this._jid.type; const { user: e, server: t } = this._jid; return null != e ? `${e}@${t}` : t } } getInnerJid() { return this._jid } } t.WapJid = i }, 8748: (e, t, n) => { "use strict"; var r = n(7914); Object.defineProperty(t, "__esModule", { value: !0 }), t.WapParser = void 0; var a = r(n(2065)), s = n(6581); t.WapParser = class { constructor(e, t) { this._name = e, this._parser = t } parse(e) { const t = new s.ParsableWapNode(this._name, e); try { return { success: this._parser(t) } } catch (e) { if (e instanceof s.XmppParsingFailure) return { error: e }; throw e } } parseOrThrow(e) { const t = this.parse(e); if (t.error) throw (0, a.default)(String(t.error)); return t.success } } }, 3417: (e, t) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.toStanzaId = function (e) { return e } }, 8397: (e, t, n) => { "use strict"; var r = n(7914); Object.defineProperty(t, "__esModule", { value: !0 }), t.expand = c, t.extractAndExpand = function (e, t, n) { return (0, s.extractSha256)(null, e).then((e => c(new Uint8Array(e), t, n))) }, t.extractWithSaltAndExpand = function (e, t, n, r) { return (0, s.extractSha256)(t, e).then((e => c(new Uint8Array(e), n, r))) }; var a = n(9323), s = n(3155), i = r(n(2065)); const o = 255 * s.SHA256_BYTE_LENGTH; function c(e, t, n) { if (n < 0 || n > o) return Promise.reject((0, i.default)(`HKDF::expand given bad length ${n}`)); let r; const c = Math.ceil(n / s.SHA256_BYTE_LENGTH), d = a.Binary.build(t).readByteArray(), l = new a.Binary; let u = (0, s.encodeKeySha256)(e).then((e => (r = e, new Uint8Array(0)))); for (let e = 1; e <= c; e++)u = u.then((t => (0, s.sign)(r, a.Binary.build(t, d, e).readByteArray()))).then((e => { const t = new Uint8Array(e); return l.writeByteArray(t), t })); return u.then((() => l.readBuffer(n))) } }, 3155: (e, t, n) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.SHA256_BYTE_LENGTH = t.DEFAULT_SALT = void 0, t.encodeKeySha256 = function (e) { return c(s, e) }, t.extractSha256 = function (e, t) { return c(s, null != e ? e : a).then((e => d(e, t))) }, t.hmacSha1 = function (e, t, n) { return c(o, e).then((e => d(e, t, n))) }, t.hmacSha256 = function (e, t, n) { return c(s, e).then((e => d(e, t, n))) }, t.hmacSha512 = function (e, t, n) { return c(i, e).then((e => d(e, t, n))) }, t.sign = d; var r = n(29); t.SHA256_BYTE_LENGTH = 32; const a = new Uint8Array(32); t.DEFAULT_SALT = a; const s = { name: "HMAC", hash: "SHA-256" }, i = { name: "HMAC", hash: "SHA-512" }, o = { name: "HMAC", hash: "SHA-1" }; function c(e, t) { const n = (0, r.castTypedArrays)(Uint8Array, t); return self.crypto.subtle.importKey("raw", n, e, !1, ["sign"]).then((t => ({ key: t, algo: e }))) } function d(e, t, n) { let { key: r, algo: a } = e; return self.crypto.subtle.sign(a, r, t).then((e => null != n && 0 !== n ? e.slice(0, n) : e)) } }, 3596: (e, t, n) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), Object.defineProperty(t, "hash", { enumerable: !0, get: function () { return r.hash } }), t.lowlevel = t.keypairFromSecretKey = t.keyPair = void 0, Object.defineProperty(t, "scalarMult", { enumerable: !0, get: function () { return r.scalarMult } }), t.signDetachedVerify = void 0, Object.defineProperty(t, "verify", { enumerable: !0, get: function () { return r.verify } }); var r = n(4462); const a = { scalarbase: r.lowlevel.scalarbase, crypto_hash: r.lowlevel.crypto_hash, modL: r.lowlevel.modL, pack25519: r.lowlevel.pack25519, S: r.lowlevel.S, M: r.lowlevel.M, A: r.lowlevel.A, Z: r.lowlevel.Z, D: r.lowlevel.D, unpack25519: r.lowlevel.unpack25519, pow2523: r.lowlevel.pow2523, crypto_verify_32: r.lowlevel.crypto_verify_32, set25519: r.lowlevel.set25519, add: r.lowlevel.add, scalarmult: r.lowlevel.scalarmult }; t.lowlevel = a; const s = r.box.keyPair.fromSecretKey; t.keypairFromSecretKey = s; const i = r.box.keyPair; t.keyPair = i; const o = r.sign.detached.verify; t.signDetachedVerify = o }, 9093: (e, t, n) => { "use strict"; var r = n(7914); Object.defineProperty(t, "__esModule", { value: !0 }), t.arrayBuffersEqual = function (e, t) { return i(new Uint8Array(e), new Uint8Array(t)) }, t.randomNumberLessThan = function (e) { if (e !== (0 | e)) throw (0, s.default)("bound must be int32"); if (e <= 0) throw (0, s.default)("bound must not be positive"); const t = new Int32Array(1), n = e * Math.floor((-1 >>> 1) / e); let r = -1; for (; -1 === r;) { self.crypto.getRandomValues(t); const a = t[0] >>> 1; a < n && (r = a % e) } return r }, t.rawKeysEqual = function (e, t) { return 0 === e.length && 0 === t.length || (0, a.verify)(e, t) }, t.serializedPubKeysEqual = function (e, t) { return 0 === e.length && 0 === t.length || (0, a.verify)(e, t) }, t.uint8ArraysEqual = i; var a = n(3596), s = r(n(2065)); function i(e, t) { return 0 === e.length && 0 === t.length || (0, a.verify)(e, t) } }, 2560: (e, t, n) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.AbortError = t.ABORT_ERROR = void 0, t.catchAbort = function (e) { return t => { if (t.name === s) return e(t); throw t } }; var r = n(6911); class a extends ((0, r.customError)("AbortError")) { } t.AbortError = a; const s = "AbortError"; t.ABORT_ERROR = s }, 9959: (e, t, n) => { "use strict"; var r = n(7914); Object.defineProperty(t, "__esModule", { value: !0 }), t.createPromiseTimer = function (e) { const t = s(e); return function (e) { return new Promise((n => { const r = t(); r > 0 ? setTimeout(n, r, e) : n(e) })) } }, t.createTimer = s, t.getDelay = function (e, t) { if (0 === e) return 0; const n = o(t.algo); for (let t = 1; t < e; t++)n(); return i(t, n()) }; var a = r(n(2065)); function s(e) { const { relativeDelay: t = !1 } = e; let n = null; const r = o(e.algo); return function () { const a = n; if (null == a) return n = t ? Date.now() : 0, 0; let s = i(e, r()); if (t) { const e = Date.now(), t = e - a; t > 0 && (s = Math.max(0, s - t)), n = e } return s } } function i(e, t) { let { max: n, min: r, jitter: a = .1 } = e, s = t; return null != n && s > n && (s = n), null != r && s < r && (s = r), 0 !== a && (s = Math.ceil(s * (1 + a * Math.random()))), s } function o(e) { switch (e.type) { case "fibonacci": return function (e) { let t = e.second - e.first, n = e.first - t; return function () { const e = t + n; return n = t, t = e, e } }(e); case "exponential": return function (e) { const { base: t = 2 } = e; let n = e.first; return function () { const e = n; return n *= t, e } }(e); case "constant": return function (e) { const t = e.delay; return function () { return t } }(e); case "adjust": return function (e) { const { toMs: t, backoff: n } = e, r = o(n); return function () { return t(r()) } }(e); default: throw (0, a.default)(`makeTimeFunc unrecognized backoff ${e.type}`) } } }, 5068: (e, t, n) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.delayMs = function (e, t) { return new Promise(((n, a) => { if (null == t ? void 0 : t.aborted) throw new r.AbortError; const s = setTimeout((function () { null == t || t.removeEventListener("abort", i), n() }), e); function i() { null == t || t.removeEventListener("abort", i), clearTimeout(s), a(new r.AbortError) } null == t || t.addEventListener("abort", i) })) }, t.withTimeout = function (e, t, n) { return new Promise(((r, a) => { const s = setTimeout((() => { try { r(n()) } catch (e) { a(e) } }), t); e.then((e => { clearTimeout(s), r(e) }), (e => { clearTimeout(s), a(e) })) })) }; var r = n(2560) }, 2521: (e, t, n) => { "use strict"; var r = n(7914); Object.defineProperty(t, "__esModule", { value: !0 }), t.PromiseRetryLoop = void 0; var a = r(n(2065)), s = n(9959), i = n(5068), o = n(1630); t.PromiseRetryLoop = class { constructor(e) { this._resolvable = new o.Resolvable, this._promise = null, this._resetTime = null, this._currentLoopIdentificator = 0, this.endWithValue = e => { this._currentLoopIdentificator++, this._resolvable.resolve(e) }, this._options = e } resetTimeoutAfter(e) { this._resetTime = Date.now() + e } cancelReset() { this._resetTime = null } reset() { this._resolvable.resolveWasCalled() || (__LOG__(2)`PromiseRetryLoop: resetting ${this._options.name}`, this._currentLoopIdentificator++, this._runLoop()) } start() { this._resolvable.resolveWasCalled() || (__LOG__(2)`PromiseRetryLoop: starting ${this._options.name}`, 0 !== this._currentLoopIdentificator && __LOG__(4, void 0, new Error)`PromiseRetryLoop was called several times. You may have race conditions`, this._currentLoopIdentificator++, this._runLoop()) } _runLoop() { const e = this._options, t = this._currentLoopIdentificator; let n = (0, s.createTimer)(this._options.timer); n(); const r = () => { if (this._resolvable.resolveWasCalled()) return; if (t !== this._currentLoopIdentificator) return; const a = Date.now(); return this._promise = (0, e.code)(this.endWithValue).then((() => { if (this._resolvable.resolveWasCalled()) return; const { resetDelay: t } = e; (void 0 !== t && Date.now() >= a + t || null != this._resetTime && this._resetTime <= Date.now()) && (__LOG__(2)`PromiseRetryLoop: resetting ${e.name}`, n = (0, s.createTimer)(this._options.timer)), this._resetTime = null; const o = n(); return __LOG__(2)`PromiseRetryLoop: retrying ${e.name} in ${o}ms`, (0, i.delayMs)(o).then(r) })), this._promise }; this._promise = Promise.resolve().then(r) } promise() { return this._resolvable.resolveWasCalled() ? this._resolvable.promise : this._promise ? Promise.race([this._resolvable.promise, this._promise.then((() => this._resolvable.promise))]) : Promise.reject((0, a.default)(`PromiseRetryLoop ${this._options.name} had promise() called before start()`)) } } }, 1630: (e, t) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.Resolvable = void 0; t.Resolvable = class { constructor() { this._resolve = () => { }, this._isResolved = !1, this.promise = new Promise((e => { this._resolve = e })) } resolve(e) { this._isResolved = !0, this._resolve(e) } reject(e) { this.resolve(Promise.reject(e)) } resolveWasCalled() { return this._isResolved } } }, 717: (e, t, n) => { "use strict"; var r = n(7914); Object.defineProperty(t, "__esModule", { value: !0 }), t.KEY_TYPE = void 0, t.castToPreKeyId = _, t.castToSerializedPubKey = m, t.castToSignedPreKeyId = function (e) { return (0, o.ensureIntInRange)(e, 0, d) }, t.deserializePreKey = function (e) { try { const { id: t, publicKey: n, privateKey: r } = (0, c.decodeProtobuf)(i.PreKeyRecordStructureSpec, e); return null == t || null == n || null == r ? null : { id: _(t), keyPair: f((0, o.toBytes)(r, 32), m(new Uint8Array(n))) } } catch (e) { return null } }, t.ecdh = function (e, t) { return (0, a.scalarMult)(e, t.subarray(1)).buffer }, t.makeKeyPair = u, t.makeKeyPairFrom = function (e) { const { publicKey: t, secretKey: n } = (0, a.keypairFromSecretKey)(e); return l((0, o.ensureSize)(t, 32), (0, o.ensureSize)(n, 32)) }, t.makeKeyPairFromArrayBuffers = function (e, t) { return { publicKey: (0, o.toBytes)(e, 32), privateKey: (0, o.toBytes)(t, 32) } }, t.makeKeyPairFromSerialized = f, t.makePreKeys = function (e, t) { let n = (e - 1) % d; n <= 0 && (n += d); const r = []; for (let e = 0; e < t; e++) { const e = n === d ? 1 : n + 1, t = u(), a = (0, o.encodeSignalProto)(i.PreKeyRecordStructureSpec, { id: e, publicKey: p(t), privateKey: t.privateKey }); r.push({ plainObject: { id: e, keyPair: t }, record: a }), n = e } return r }, t.makeRawSenderKey = function () { const e = (0, o.makeBytes)(32); return self.crypto.getRandomValues(e), e }, t.makeSerializedKeyPair = function () { const e = u(); return h(e.privateKey, p(e)) }, t.makeSerializedKeyPairFrom = h, t.serializeIdentity = function (e) { const t = (0, o.makeBytes)(33); return t[0] = 5, t.set((0, o.ensureSize)(e, 32), 1), t }, t.serializePubKey = p, t.toSerializedKeyPair = function (e) { return h(e.privateKey, p(e)) }; var a = n(3596), s = r(n(2065)), i = n(6514), o = n(1879), c = n(3955); t.KEY_TYPE = 5; const d = 16777215; function l(e, t) { return { publicKey: e, privateKey: t } } function u() { const { publicKey: e, secretKey: t } = (0, a.keyPair)(); return t[0] &= 248, t[31] = 64 | 63 & t[31], l((0, o.ensureSize)(e, 32), (0, o.ensureSize)(t, 32)) } function f(e, t) { return l((0, o.sliceBytes)(t, 1, 32), e) } function h(e, t) { return { serializedPubKey: t, privateKey: e } } function p(e) { const t = (0, o.makeBytes)(33); return t[0] = 5, t.set(e.publicKey, 1), t } function _(e) { return (0, o.ensureIntInRange)(e, 1, d) } function m(e) { if (0 === e.length || 5 !== e[0]) throw (0, s.default)("Unrecognized public key type"); return (0, o.ensureSize)(e, 33) } }, 1879: (e, t, n) => { "use strict"; var r = n(7914); Object.defineProperty(t, "__esModule", { value: !0 }), t.HMAC_SHA256 = t.AES_CBC = void 0, t.areSessionHashesEqual = function (e, t) { return (0, s.arrayBuffersEqual)(e, t) }, t.castRegistrationId = function (e) { return f(e) }, t.castSenderKeyId = function (e) { return f(e) }, t.castToByteEncoded = function (e) { return e }, t.castToSessionHash = function (e) { return e }, t.decodeSignalProto = function (e, t, n) { return n((0, o.decodeProtobuf)(e, t)) }, t.encodeSignalProto = function (e, t) { return (0, c.encodeProtobuf)(e, t).readByteArray() }, t.ensureIntInRange = f, t.ensureSize = u, t.hkdf = function (e, t, n, r) { return (0, a.extractWithSaltAndExpand)(e, t, n, r).then((e => new Uint8Array(e))) }, t.makeBytes = function (e) { return new Uint8Array(e) }, t.makeCryptoKey = function (e, t) { let n, r; "hmac-sha256" === t ? (n = l, r = ["sign"]) : (n = d, r = ["encrypt", "decrypt"]); return self.crypto.subtle.importKey("raw", e, n, !1, r) }, t.makeRegistrationId = function (e) { const t = "extendedRange" === e ? 2147483646 : 16380; return (0, s.randomNumberLessThan)(t) + 1 }, t.makeSenderKeyId = function () { return (0, s.randomNumberLessThan)(-1 >>> 1) + 1 }, t.readBytes = function (e, t) { return e.readByteArray(t) }, t.sliceBytes = function (e, t, n) { if (e.length - t < n) throw (0, i.default)(`Can not split off ${n} bytes from index ${t} of ${e.length} bytes`); return e.slice(t, t + n) }, t.toBuffer = function (e) { const t = e.buffer, n = e.byteOffset, r = e.length; return 0 === n && r === t.byteLength ? t : t.slice(n, n + r) }, t.toBytes = function (e, t) { return u(new Uint8Array(e), t) }; var a = n(8397), s = n(9093), i = r(n(2065)), o = n(3955), c = n(4753); const d = { name: "AES-CBC" }; t.AES_CBC = d; const l = { name: "HMAC", hash: "SHA-256" }; function u(e, t) { if (e.length !== t) throw (0, i.default)(`Signal expected ${t} bytes, given ${e.length}`); return e } function f(e) { let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 4294967296; if ("number" == typeof e && t <= e && e < n && Math.floor(e) === e) return e; throw (0, i.default)(`Expected integer in range [${t}, ${n}), given ${String(e)}`) } t.HMAC_SHA256 = l }, 4080: (e, t, n) => { "use strict"; var r = n(7914); Object.defineProperty(t, "__esModule", { value: !0 }), t.arrayBufferMod = function (e, t) { const n = new Uint8Array(e); if (t > 8388607) throw (0, a.default)("Divisor is too big"); let r = 0; for (let e = 0; e < n.length; ++e)r = ((r << 8) + n[e]) % t; return r }, t.arrayBufferToString = function (e) { return String.fromCharCode.apply(null, new Uint8Array(e)) }, t.arrayBuffersEqualUNSAFE = function (e, t) { const n = new Uint8Array(e), r = new Uint8Array(t); return s(n, r) }, t.concatBuffers = function (e) { const t = e.map((e => new Uint8Array(e))), n = t.reduce(((e, t) => e + t.byteLength), 0), r = new Uint8Array(n); return t.reduce(((e, t) => (r.set(t, e), e + t.byteLength)), 0), r.buffer.slice(r.byteOffset, r.byteOffset + r.byteLength) }, t.largeStringToArrayBuffer = function (e) { let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 5e5; return new Promise((n => { const r = e.length, a = new ArrayBuffer(r), s = new Uint8Array(a); let i = 0; requestAnimationFrame((function o() { const c = Math.min(i + t, r); for (; i < c;)s[i] = e.charCodeAt(i), i++; if (i === r) return void n(a); requestAnimationFrame(o) })) })) }, t.stringToArrayBuffer = function (e) { const t = new ArrayBuffer(e.length), n = new Uint8Array(t); let r, a; for (r = 0, a = e.length; r < a; r++)n[r] = e.charCodeAt(r); return n.buffer }, t.uint8ArraysEqualUNSAFE = s; var a = r(n(2065)); function s(e, t) { if (e.byteLength !== t.byteLength) return !1; for (let n = 0; n !== e.byteLength; n++)if (e[n] !== t[n]) return !1; return !0 } }, 3558: (e, t) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.removeIndexWithoutPreservingOrder = function (e, t) { const n = e.pop(); t < e.length && (e[t] = n) } }, 7537: (e, t, n) => { "use strict"; var r = n(7914); Object.defineProperty(t, "__esModule", { value: !0 }), t.default = function (e) { throw (0, a.default)(`Impossible value, the default statement should never be reached for value: ${e}`) }; var a = r(n(2065)) }, 2089: (e, t, n) => { "use strict"; var r = n(7914); Object.defineProperty(t, "__esModule", { value: !0 }), t.BASE64_DATA_URL_SCHEME = void 0, t.decodeB64 = function (e) { const t = c(e, 43, 47, 61); if (t) return t.buffer; throw (0, a.default)("Base64.decode given invalid string") }, t.decodeB64ToJsArray = function (e) { const t = e instanceof ArrayBuffer ? new Uint8Array(e) : c(e, 43, 47, 61); return t && Array.from(t) }, t.decodeB64UrlSafe = function (e) { let t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]; const n = c(e, 45, 95, t ? 61 : -1); if (n) return n.buffer; throw (0, a.default)("Base64.decode given invalid string") }, t.encodeB64 = function (e) { return i(e, 43, 47, !0) }, t.encodeB64UrlSafe = function (e) { let t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]; return i(e, 45, 95, t) }, t.isBase64 = void 0, t.sizeWhenB64Decoded = function (e) { return Math.floor(3 * e.length / 4) }; var a = r(n(2065)); const s = 3e3; t.BASE64_DATA_URL_SCHEME = "data:image/jpeg;base64,"; function i(e, t, n, r) { const a = Array.isArray(e) || e instanceof ArrayBuffer ? new Uint8Array(e) : e; if (a.length <= s) return o(a, t, n, r); { const e = []; for (let i = 0; i < a.length; i += s)e.push(o(a.subarray(i, i + s), t, n, r)); return e.join("") } } function o(e, t, n, r) { const a = Math.ceil(4 * e.length / 3), s = 4 * Math.ceil(e.length / 3), i = new Array(s); for (let t = 0, n = 0; t < s; t += 4, n += 3) { const r = e[n] << 16 | e[n + 1] << 8 | e[n + 2]; i[t] = r >> 18, i[t + 1] = r >> 12 & 63, i[t + 2] = r >> 6 & 63, i[t + 3] = 63 & r } for (let e = 0; e < a; e++) { const r = i[e]; i[e] = r < 26 ? 65 + r : r < 52 ? 71 + r : r < 62 ? r - 4 : 62 === r ? t : n } for (let e = a; e < s; e++)i[e] = 61; const o = String.fromCharCode.apply(String, i); return r ? o : o.substring(0, a) } function c(e, t, n, r) { let a = e.length; const s = new Int32Array(a + a % 4); for (let i = 0; i < a; i++) { const o = e.charCodeAt(i); if (65 <= o && o <= 90) s[i] = o - 65; else if (97 <= o && o <= 122) s[i] = o - 71; else if (48 <= o && o <= 57) s[i] = o + 4; else if (o === t) s[i] = 62; else { if (o !== n) { if (o === r) { a = i; break } return null != self.ERROR && __LOG__(4, void 0, new Error)`Found unexpected character code while decoding B64 at index ${i}, length ${a}: ${o}`, null } s[i] = 63 } } const i = s.length / 4; for (let e = 0, t = 0; e < i; e++, t += 4)s[e] = s[t] << 18 | s[t + 1] << 12 | s[t + 2] << 6 | s[t + 3]; const o = Math.floor(3 * a / 4), c = new Uint8Array(o); let d = 0, l = 0; for (; l + 3 <= o; d++, l += 3) { const e = s[d]; c[l] = e >> 16, c[l + 1] = e >> 8 & 255, c[l + 2] = 255 & e } switch (o - l) { case 2: c[l] = s[d] >> 16, c[l + 1] = s[d] >> 8 & 255; break; case 1: c[l] = s[d] >> 16 }return c } t.isBase64 = e => "string" == typeof e && /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e) }, 9323: (e, t, n) => { "use strict"; var r = n(7914); Object.defineProperty(t, "__esModule", { value: !0 }), t.Binary = void 0, t.longFitsInDouble = h, t.numUtf8Bytes = f, t.parseInt64OrThrow = W, t.parseUint64OrThrow = Y; var a = r(n(2065)), s = n(5982); const i = 65533, o = new Uint8Array(10), c = new Uint8Array(0); class d { constructor() { var e = this; let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : c, n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]; this._buffer = new Uint8Array(0), this._readEndIndex = 0, this._writeIndex = 0, this.write = function () { for (let t = 0; t < arguments.length; t++) { const n = t < 0 || arguments.length <= t ? void 0 : arguments[t]; "string" == typeof n ? e.writeString(n) : "number" == typeof n ? e.writeUint8(n) : n instanceof d ? e.writeBinary(n) : n instanceof ArrayBuffer ? e.writeBuffer(n) : n instanceof Uint8Array && e.writeByteArray(n) } }, t instanceof ArrayBuffer ? (this._buffer = new Uint8Array(t), this._readEndIndex = this._writeIndex = t.byteLength) : t instanceof Uint8Array && (this._buffer = t, this._readEndIndex = this._writeIndex = t.length), this._bytesTrashed = 0, this._earliestIndex = this._readIndex = 0, this._view = null, this._littleEndian = n, this._hiddenReads = 0, this._hiddenWrites = 0 } size() { return this._readEndIndex - this._readIndex } peek(e, t) { this._hiddenReads++; const n = this._readIndex, r = this._bytesTrashed; try { return e(this, t) } finally { this._hiddenReads--, this._readIndex = n - (this._bytesTrashed - r) } } advance(e) { this._shiftReadOrThrow(e) } readWithViewParser(e, t, n, r) { return t(this._getView(), this._shiftReadOrThrow(e), e, n, r) } readWithBytesParser(e, t, n, r) { return t(this._buffer, this._shiftReadOrThrow(e), e, n, r) } readUint8() { return p(this, 1, m, !1) } readInt8() { return p(this, 1, m, !0) } readUint16() { return p(this, 2, b, arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._littleEndian) } readInt32() { return p(this, 4, y, arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._littleEndian) } readUint32() { return p(this, 4, g, arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._littleEndian) } readInt64() { return p(this, 8, v, W, arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._littleEndian) } readUint64() { return p(this, 8, v, Y, arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._littleEndian) } readLong(e) { return p(this, 8, v, e, arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this._littleEndian) } readFloat32() { return p(this, 4, w, arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._littleEndian) } readFloat64() { return p(this, 8, j, arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._littleEndian) } readVarInt(e) { const t = _(this, 0, S, this.size()); return _(this, t, E, e) } readBuffer() { let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.size(); return 0 === e ? new ArrayBuffer(0) : _(this, e, T) } readByteArray() { let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.size(); return 0 === e ? new Uint8Array(0) : _(this, e, A) } readBinary() { let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.size(), t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this._littleEndian; if (0 === e) return new d(void 0, t); const n = _(this, e, A); return new d(n, t) } indexOf(e) { if (0 === e.length) return 0; const t = this._buffer, n = this._readEndIndex, r = this._readIndex; let a = 0, s = r; for (let i = r; i < n; i++)if (t[i] === e[a]) { if (0 === a && (s = i), a++, a === e.byteLength) return i - r - e.byteLength + 1 } else a > 0 && (a = 0, i = s); return -1 } readString(e) { return _(this, e, I) } ensureCapacity(e) { this._maybeReallocate(this._readIndex + e) } ensureAdditionalCapacity(e) { this._maybeReallocate(this._writeIndex + e) } writeToView(e, t, n, r) { const a = this._shiftWriteMaybeReallocate(e); return t(this._getView(), a, e, n, r) } writeToBytes(e, t, n, r) { const a = this._shiftWriteMaybeReallocate(e); return t(this._buffer, a, e, n, r) } writeUint8(e) { z(e, 0, 256, "uint8"), k(this, 1, O, e, !1) } writeInt8(e) { z(e, -128, 128, "signed int8"), k(this, 1, O, e, !0) } writeUint16(e) { let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this._littleEndian; z(e, 0, 65536, "uint16"), P(this, 2, U, e, t) } writeInt16(e) { let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this._littleEndian; z(e, -32768, 32768, "signed int16"), P(this, 2, x, e, t) } writeUint32(e) { let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this._littleEndian; z(e, 0, 4294967296, "uint32"), P(this, 4, R, e, t) } writeInt32(e) { let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this._littleEndian; z(e, -2147483648, 2147483648, "signed int32"), P(this, 4, C, e, t) } writeUint64(e) { let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this._littleEndian; z(e, 0, 0x10000000000000000, "uint64"), P(this, 8, M, e, t) } writeInt64(e) { let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this._littleEndian; z(e, -0x8000000000000000, 0x8000000000000000, "signed int64"), P(this, 8, M, e, t) } writeFloat32(e) { P(this, 4, $, e, arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this._littleEndian) } writeFloat64(e) { P(this, 8, D, e, arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this._littleEndian) } writeVarInt(e) { z(e, -0x8000000000000000, 0x8000000000000000, "varint (signed int64)"); const t = e < 0, n = t ? -e : e; let r = Math.floor(n / 4294967296), a = n - 4294967296 * r; t && (r = ~r, 0 === a ? r++ : a = -a); k(this, F(r, a), L, r, a) } writeVarIntFromHexLong(e) { const t = (0, s.hexLongIsNegative)(e), n = t ? (0, s.negateHexLong)(e) : e, r = (0, s.hexLongToHex)(n); let a = 0, i = 0; for (let e = 0; e < s.NUM_HEX_IN_LONG; e++)a = a << 4 | i >>> 28, i = i << 4 | (0, s.hexAt)(r, e); t && (a = ~a, 0 === i ? a++ : i = -i); k(this, F(a, i), L, a, i) } writeBinary(e) { const t = e.peek((e => e.readByteArray())); if (t.length) { const e = this._shiftWriteMaybeReallocate(t.length); this._buffer.set(t, e) } } writeBuffer(e) { this.writeByteArray(new Uint8Array(e)) } writeByteArray(e) { const t = this._shiftWriteMaybeReallocate(e.length); this._buffer.set(e, t) } writeBufferView(e) { this.writeByteArray(new Uint8Array(e.buffer, e.byteOffset, e.byteLength)) } writeString(e) { k(this, f(e), J, e) } writeHexLong(e) { P(this, 8, N, e, arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this._littleEndian) } writeBytes() { for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)t[n] = arguments[n]; for (let e = 0; e < t.length; e++)z(t[e], 0, 256, "byte"); k(this, t.length, B, t) } writeAtomically(e, t) { this._hiddenWrites++; let n = this._writeIndex, r = this._bytesTrashed; try { const a = e(this, t); return n = this._writeIndex, r = this._bytesTrashed, a } finally { this._hiddenWrites--, this._writeIndex = n - (this._bytesTrashed - r) } } writeWithVarIntLength(e, t) { const n = this._writeIndex, r = this.writeAtomically(e, t), a = this._writeIndex; this.writeVarInt(a - n); const s = this._writeIndex - a, i = this._buffer; for (let e = 0; e < s; e++)o[e] = i[a + e]; for (let e = a - 1; e >= n; e--)i[e + s] = i[e]; for (let e = 0; e < s; e++)i[n + e] = o[e]; return r } static build() { for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)t[n] = arguments[n]; let r = 0; for (let e = 0; e < t.length; e++) { const n = t[e]; "string" == typeof n ? r += f(n) : "number" == typeof n ? r++ : n instanceof d ? r += n.size() : n instanceof ArrayBuffer ? r += n.byteLength : n instanceof Uint8Array && (r += n.length) } const a = new d; return a.ensureCapacity(r), a.write.apply(a, arguments), a } _getView() { return this._view || (this._view = new DataView(this._buffer.buffer, this._buffer.byteOffset)) } _shiftReadOrThrow(e) { if (e < 0) throw (0, a.default)("ReadError: given negative number of bytes to read"); const t = this._readIndex, n = t + e; if (n > this._readEndIndex) throw (0, a.default)(t === this._readEndIndex ? "ReadError: tried to read from depleted binary" : "ReadError: tried to read beyond end of binary"); return this._readIndex = n, this._hiddenReads || (this._earliestIndex = n), t } _maybeReallocate(e) { const t = this._buffer; if (e <= t.length) return e; { const n = this._earliestIndex, r = e - n, a = Math.max(r, 2 * (t.length - n), 64), s = new Uint8Array(a); return n ? (s.set(t.subarray(n)), this._bytesTrashed += n, this._readIndex -= n, this._readEndIndex -= n, this._writeIndex -= n, this._earliestIndex = 0) : s.set(t), this._buffer = s, this._view = null, r } } _shiftWriteMaybeReallocate(e) { const t = this._maybeReallocate(this._writeIndex + e), n = this._writeIndex; return this._writeIndex = t, this._hiddenWrites || (this._readEndIndex = t), n } } t.Binary = d; let l = "", u = 0; function f(e) { if (e === l) return u; const t = e.length; let n = 0; for (let r = 0; r < t; r++) { const a = e.charCodeAt(r); if (a < 128) n++; else if (a < 2048) n += 2; else if (a < 55296 || 57344 <= a && a <= 65535) n += 3; else if (55296 <= a && a < 56320 && r + 1 !== t) { const t = e.charCodeAt(r + 1); 56320 <= t && t < 57344 ? (r++, n += 4) : n += 3 } else n += 3 } return l = e, u = n } function h(e, t, n) { const r = t >> 21; if (e) { const e = Boolean(2097151 & t || n); return 0 === r || -1 === r && e } return 0 === r } function p(e, t, n, r, a) { return e.readWithViewParser(t, n, r, a) } function _(e, t, n, r, a) { return e.readWithBytesParser(t, n, r, a) } function m(e, t, n, r) { return r ? e.getInt8(t) : e.getUint8(t) } function b(e, t, n, r) { return e.getUint16(t, r) } function y(e, t, n, r) { return e.getInt32(t, r) } function g(e, t, n, r) { return e.getUint32(t, r) } function v(e, t, n, r, a) { return r(e.getInt32(a ? t + 4 : t, a), e.getInt32(a ? t : t + 4, a)) } function w(e, t, n, r) { return e.getFloat32(t, r) } function j(e, t, n, r) { return e.getFloat64(t, r) } function S(e, t, n, r) { const s = Math.min(r, 10); let i = 0, o = 128; for (; i < s && 128 & o;)o = e[t + i++]; if (10 === i && o > 1) throw (0, a.default)("ParseError: varint exceeds 64 bits"); return 128 & o ? i + 1 : i } function E(e, t, n, r) { let a = 0, s = 0, i = n; 10 === n && (i--, s = 1 & e[t + i]); for (let n = i - 1; n >= 0; n--)a = a << 7 | s >>> 25, s = s << 7 | 127 & e[t + n]; return r(a, s) } function T(e, t, n) { const r = t + e.byteOffset, a = e.buffer; return 0 === r && n === a.byteLength ? a : a.slice(r, r + n) } function A(e, t, n) { return e.subarray(t, t + n) } function I(e, t, n) { const r = t + n; let a = [], s = null; for (let n = t; n < r; n++) { a.length > 5e3 && (s || (s = []), s.push(String.fromCharCode.apply(String, a)), a = []); const t = 0 | e[n]; if (0 == (128 & t)) a.push(t); else if (192 == (224 & t)) { const s = q(e, n + 1, r); if (s) { n++; const e = (31 & t) << 6 | 63 & s; e >= 128 ? a.push(e) : a.push(i) } else a.push(i) } else if (224 == (240 & t)) { const s = q(e, n + 1, r), o = q(e, n + 2, r); if (s && o) { n += 2; const e = (15 & t) << 12 | (63 & s) << 6 | 63 & o; e >= 2048 && !(55296 <= e && e < 57344) ? a.push(e) : a.push(i) } else s ? (n++, a.push(i)) : a.push(i) } else if (240 == (248 & t)) { const s = q(e, n + 1, r), o = q(e, n + 2, r), c = q(e, n + 3, r); if (s && o && c) { n += 3; const e = (7 & t) << 18 | (63 & s) << 12 | (63 & o) << 6 | 63 & c; if (e >= 65536 && e <= 1114111) { const t = e - 65536; a.push(55296 | t >> 10, 56320 | 1023 & t) } else a.push(i) } else s && o ? (n += 2, a.push(i)) : s ? (n++, a.push(i)) : a.push(i) } else a.push(i) } const o = String.fromCharCode.apply(String, a); return s ? (s.push(o), s.join("")) : o } function P(e, t, n, r, a) { return e.writeToView(t, n, r, a) } function k(e, t, n, r, a) { return e.writeToBytes(t, n, r, a) } function O(e, t, n, r) { e[t] = r } function U(e, t, n, r, a) { e.setUint16(t, r, a) } function x(e, t, n, r, a) { e.setInt16(t, r, a) } function R(e, t, n, r, a) { e.setUint32(t, r, a) } function C(e, t, n, r, a) { e.setInt32(t, r, a) } function M(e, t, n, r, a) { const s = r < 0, i = s ? -r : r; let o = Math.floor(i / 4294967296), c = i - 4294967296 * o; s && (o = ~o, 0 === c ? o++ : c = -c), e.setUint32(a ? t + 4 : t, o, a), e.setUint32(a ? t : t + 4, c, a) } function $(e, t, n, r, a) { e.setFloat32(t, r, a) } function D(e, t, n, r, a) { e.setFloat64(t, r, a) } function L(e, t, n, r, a) { let s = r, i = a; const o = t + n - 1; for (let n = t; n < o; n++)e[n] = 128 | 127 & i, i = s << 25 | i >>> 7, s >>>= 7; e[o] = i } function J(e, t, n, r) { let a = t; const s = r.length; for (let t = 0; t < s; t++) { const n = r.charCodeAt(t); if (n < 128) e[a++] = n; else if (n < 2048) e[a++] = 192 | n >> 6, e[a++] = 128 | 63 & n; else if (n < 55296 || 57344 <= n) e[a++] = 224 | n >> 12, e[a++] = 128 | n >> 6 & 63, e[a++] = 128 | 63 & n; else if (55296 <= n && n < 56320 && t + 1 !== s) { const s = r.charCodeAt(t + 1); if (56320 <= s && s < 57344) { t++; const r = 65536 + ((1023 & n) << 10 | 1023 & s); e[a++] = 240 | r >> 18, e[a++] = 128 | r >> 12 & 63, e[a++] = 128 | r >> 6 & 63, e[a++] = 128 | 63 & r } else e[a++] = 239, e[a++] = 191, e[a++] = 189 } else e[a++] = 239, e[a++] = 191, e[a++] = 189 } } function N(e, t, n, r, a) { const i = (0, s.hexLongIsNegative)(r), o = (0, s.hexLongToHex)(r); let c = 0, d = 0; for (let e = 0; e < 16; e++)c = c << 4 | d >>> 28, d = d << 4 | (0, s.hexAt)(o, e); i && (c = ~c, 0 === d ? c++ : d = -d), e.setUint32(a ? t + 4 : t, c, a), e.setUint32(a ? t : t + 4, d, a) } function B(e, t, n, r) { for (let a = 0; a < n; a++)e[t + a] = r[a] } function F(e, t) { let n, r; for (e ? (n = 5, r = e >>> 3) : (n = 1, r = t >>> 7); r;)n++, r >>>= 7; return n } function z(e, t, n, r) { if ("number" != typeof e || e != e || Math.floor(e) !== e || e < t || e >= n) throw (0, a.default)("string" == typeof e ? `TyperError WriteError: string "${e}" is not a valid ${r}` : `TypeError WriteError: ${String(e)} is not a valid ${r}`) } function K(e, t, n) { let r; r = t >= 0 || e ? t : 4294967296 + t; const s = 4294967296 * r + (n >= 0 ? n : 4294967296 + n); if (!h(e, t, n)) throw (0, a.default)(`ReadError: integer exceeded 53 bits (${s})`); return s } function W(e, t) { return K(!0, e, t) } function Y(e, t) { return K(!1, e, t) } function q(e, t, n) { if (t >= n) return 0; const r = 0 | e[t]; return 128 == (192 & r) ? r : 0 } }, 6911: (e, t) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.WrappedError = t.UnimplementedMethod = t.TimeoutError = t.HttpError = t.AggregateError = void 0, t.customError = r, t.hasSupressedQuotaExceededError = function () { return c }, t.obtainErrorSummary = function (e) { return JSON.stringify(e, Object.getOwnPropertyNames(e)) }, t.supressQuotaExceededError = function (e) { if (null == e || "QuotaExceededError" !== e.name) throw e; c = !0 }; const n = Object.create(Error.prototype, { constructor: { value: void 0, writable: !0, configurable: !0 } }); function r(e) { let t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1], r = arguments.length > 2 ? arguments[2] : void 0; function a(n) { const r = Error.call(this, n); this.message = n, r.name = e, this.name = e, t && (this.stack = r.stack) } return a.prototype = Object.create(r ? r.prototype : n), a.prototype.constructor = a, a } class a extends (r("AggregateError", !0)) { constructor(e, t) { super(null != t && t.length > 0 ? t : function (e) { return 0 === e.length ? "No errors" : 1 === e.length ? e[0].message : e.map((e => "- " + e.message)).join("\n") }(e)), this.errors = e } } t.AggregateError = a; class s extends (r("TimeoutError", !1)) { } t.TimeoutError = s; class i extends (r("HttpError", !1)) { constructor(e, t) { super(e), this.code = t } } t.HttpError = i; class o extends (r("UnimplementedMethod")) { } t.UnimplementedMethod = o; let c = !1; class d extends Error { constructor(e, t) { super(e), this.inner = t } } t.WrappedError = d }, 2924: (e, t) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.deepEqual = function e(t, n) { if (t === n) return !0; if (!t || !n || "object" != typeof t && "object" != typeof n) return !1; const r = Array.isArray(t), a = Array.isArray(n); if (r !== a) return !1; let s = !0; if (r) { const r = t.length; if (r !== n.length) return !1; for (let a = 0; s && a < r; a++)s = e(t[a], n[a]); return s } const i = Object.keys(t); for (let r = 0; s && r < i.length; r++) { const a = i[r]; s = n.propertyIsEnumerable(a) && e(t[a], n[a]) } return s && Object.keys(n).length === i.length } }, 2065: (e, t) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.default = function (e) { const t = new Error(e); if (void 0 === t.stack) try { throw t } catch (e) { } return t } }, 9028: (e, t) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.default = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) } }, 5982: (e, t, n) => { "use strict"; var r = n(7914); Object.defineProperty(t, "__esModule", { value: !0 }), t.NUM_HEX_IN_LONG = t.HEX_LOWER = void 0, t.bytesToBuffer = function (e) { const t = e.buffer; return 0 === e.byteOffset && e.length === t.byteLength ? t : t.slice(e.byteOffset, e.byteOffset + e.length) }, t.bytesToDebugString = function (e) { let t = !0, n = e.length; for (; t && n;) { const r = e[--n]; t = 32 <= r && r < 127 } return t ? JSON.stringify(String.fromCharCode.apply(String, e)) : o(e) }, t.createHexLong = l, t.createHexLongFrom32Bits = function (e, t) { let n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]; const r = _(e), a = _(t); return `${n ? "-" : ""}0x${r}${a}` }, t.hexAt = c, t.hexLongFromNumber = function (e) { const t = e < 0; return l(t ? (-e).toString(16) : e.toString(16), t) }, t.hexLongIsNegative = h, t.hexLongToHex = f, t.hexOrThrow = d, t.isBiggerHexLong = function (e, t) { const n = h(e), r = h(t); if (n !== r) return !n; const a = f(e) > f(t); return n ? !a : a }, t.negateHexLong = function (e) { return h(e) ? e.slice(1) : "-" + e }, t.parseHex = function (e) { const t = d(e); if (t.length % 2 != 0) throw (0, a.default)(`parseHex given hex "${t}" which is not a multiple of 8-bits.`); const n = new Uint8Array(t.length >> 1); for (let e = 0, r = 0; e < t.length; e += 2, r++)n[r] = c(t, e) << 4 | c(t, e + 1); return n.buffer }, t.randomHex = function (e) { const t = new Uint8Array(e); return self.crypto.getRandomValues(t), o(t) }, t.toHex = o, t.toLowerCaseHex = function (e) { const t = []; for (let n = 0; n < e.length; n++) { const r = e[n]; t.push(i[r >> 4], i[15 & r]) } return String.fromCharCode.apply(String, t) }; var a = r(n(2065)); t.NUM_HEX_IN_LONG = 16; const s = [48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 65, 66, 67, 68, 69, 70], i = [48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 97, 98, 99, 100, 101, 102]; function o(e) { const t = []; for (let n = 0; n < e.length; n++) { const r = e[n]; t.push(s[r >> 4], s[15 & r]) } return String.fromCharCode.apply(String, t) } function c(e, t) { const n = e.charCodeAt(t); return n <= 57 ? n - 48 : n <= 70 ? 10 + n - 65 : 10 + n - 97 } function d(e) { if (/[^0-9a-fA-F]/.test(e)) throw (0, a.default)(`"${e}" is not a valid hex`); return e } function l(e) { let t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]; const n = d(e); return p(n, 16), `${t ? "-" : ""}0x${u(n, 16)}` } function u(e, t) { const n = t - e.length; let r = e; for (let e = 0; e < n; e++)r = "0" + r; return r } function f(e) { return e.substring(e.indexOf("0x") + 2) } function h(e) { return "-" === e[0] } function p(e, t) { if (e.length > t) throw (0, a.default)(`"${e}" is longer than ${4 * t} bits.`) } function _(e) { if (e > 4294967295 || e < -4294967296) throw (0, a.default)("uint32ToLowerCaseHex given number over 32 bits"); return u((e >= 0 ? e : 4294967296 + e).toString(16), 8) } t.HEX_LOWER = i }, 4037: (e, t, n) => { "use strict"; var r = n(7914); Object.defineProperty(t, "__esModule", { value: !0 }), t.WA_USER_JID_SUFFIX = t.WA_USER_DOMAIN = t.WA_SERVER_JID_SUFFIX = t.WA_NEWSLETTER_JID_DOMAIN = t.SURVEY_USER_JID = t.STATUS_JID = t.PSA_JID = t.MSGR_USER_JID_SUFFIX = t.MSGR_USER_DOMAIN = t.LID_SUFFIX = t.LID_DOMAIN = t.DEFAULT_DEVICE_ID = t.AUTHOR_SYSTEM = t.AUTHOR_ME = void 0, t.asChatJid = function (e) { return e === c ? null : e }, t.asMulticastJid = function (e) { return null == R(e) ? e : null }, t.asPhoneChatJid = function (e) { return e === c ? null : e }, t.asStatusJid = function (e) { return e === c ? c : null }, t.authorAsPhoneUserJid = function (e) { if (e === i || e === o) return null; if (!e.endsWith(_)) return null; return e }, t.authorAsUserJid = function (e) { if (e === i || e === o) return null; return e }, t.authorToUserId = function (e, t) { return e === i || e === o ? t : k(e) }, t.createJidUtils = function (e) { let { platform: t } = e; const n = "msgr" === t ? u : _; return { toUserJid: function (e) { return `${e}${n}` }, getUserDomain: function () { return n }, getGroupCallDomain: function () { return "@call" } } }, t.defaultDeviceJidForUser = function (e) { return `${I(e)}:0${q(e)}` }, t.defaultLidDeviceJidForLidUserJid = function (e) { return P(e, 0) }, t.defaultMsgrDeviceJidForUser = function (e) { return `${I(e)}:0@msgr` }, t.defaultPhoneDeviceJidForUser = function (e) { return `${I(e)}:0@s.whatsapp.net` }, t.extractDeviceIDParts = O, t.extractDeviceId = U, t.extractFromJid = D, t.extractJidFromJidWithType = function (e) { return "phoneDevice" === e.jidType || "lidDevice" === e.jidType || "msgrDevice" === e.jidType ? e.deviceJid : "lidUser" === e.jidType || "msgrUser" === e.jidType || "phoneUser" === e.jidType ? e.userJid : "group" === e.jidType ? e.groupJid : "status" === e.jidType ? e.statusJid : "call" === e.jidType ? e.callJid : "newsletter" === e.jidType ? e.newsletterJid : (e.jidType, e.broadcastJid) }, t.extractPhoneUserJid = function (e) { return M(e) }, t.extractUserId = k, t.extractUserJid = M, t.fullFormDeviceJidString = function (e) { const { user: t, agent: n = "0", device: r = "0", server: a } = $(e); return `${t}.${n}:${r}@${a}` }, t.getGroupDomain = function () { return d }, t.getMsgrUserDomain = function () { return u }, t.getServerDomain = function () { return "@s.whatsapp.net" }, t.getWhatsappUserDomain = function () { return _ }, t.groupIdFromJid = function (e) { if (e.endsWith(d)) return e.slice(0, -d.length); throw (0, s.default)(`groupId called with non-group jid "${e}"`) }, t.interpretAndValidateJid = L, t.interpretAsDeviceId = function (e) { return e }, t.interpretAsGroupJid = K, t.interpretAsNumber = function (e) { return e }, t.interpretAsPhoneUserJid = function (e) { return e.endsWith(_) ? e : null }, t.interpretAsUserJid = R, t.isAuthorMe = function (e) { return "@me" === e }, t.isAuthorSystem = function (e) { return "@system" === e }, t.isPrimaryDevice = function (e) { return 0 === U(e) }, t.lidFromLidUserJid = C, t.lidOrPhoneFromUserJid = function (e) { if (e.endsWith(_)) return x(e); if (e.endsWith(v)) return C(e); throw (0, s.default)(`lidOrPhoneFromUserJid called with non phone or lid jid "${e}"`) }, t.maybeSanitizeLogLineText = function (e) { if (!e.includes("@")) return e; return e.replace(T, z) }, t.parseJidParts = $, t.phoneNumberFromJid = x, t.sanitizeJidForLogging = z, t.stripAgentIdFromPhoneDeviceJid = function (e) { const { user: t, device: n = "0", server: r } = $(e); return `${t}:${n}@${r}` }, t.switchOnChatJidType = W, t.switchOnJidType = function (e, t) { if (e === c) return t.status(); return W(e, { phoneUser: t.phoneUser, msgrUser: t.msgrUser, lidUser: t.lidUser, group: t.group }) }, t.switchOnMsgrChatJidType = function (e, t) { if (e.endsWith(u)) return t.user(e); if (null != K(e)) return t.group(e); throw (0, s.default)(`Can not switch on chat jid ${e}`) }, t.switchOnMulticastJidType = function (e, t) { if (e === c) return t.multicast(c); return Y(e, { user: t.user, group: t.multicast }) }, t.switchOnPhoneChatJidType = Y, t.switchOnPhoneJidType = function (e, t) { if (e === c) return t.status(); return Y(e, { user: t.user, group: t.group }) }, t.toBroadcastJid = function (e) { return `${e}@broadcast` }, t.toDeviceJid = function (e, t) { return `${I(e)}:${t}${q(e)}` }, t.toGroupJid = function (e) { if (e.endsWith(d)) return e; return `${e}@g.us` }, t.toLidDeviceJid = P, t.toLidUserJid = function (e) { return `${e}@lid` }, t.toMsgrDeviceJid = function (e, t) { return `${I(e)}:${t}@msgr` }, t.toMsgrUserJid = A, t.toNewsletterJid = function (e) { if (e.endsWith(m)) return e; return `${e}@newsletter` }, t.toPhoneDeviceJid = function (e, t) { return `${I(e)}:${t}@s.whatsapp.net` }, t.toPhoneUserJid = function (e) { return `${e}@s.whatsapp.net` }, t.unsafeCoerceToDeviceId = ne, t.unsafeCoerceToDeviceJid = G, t.unsafeCoerceToGroupJid = te, t.unsafeCoerceToLidDeviceJid = X, t.unsafeCoerceToMsgrDeviceJid = V, t.unsafeCoerceToMsgrUserJid = ee, t.unsafeCoerceToPhoneDeviceJid = H, t.unsafeCoerceToPhoneUserJid = Q, t.unsafeCoerceToUserJid = Z, t.userIdFromJid = I, t.validateBroadcastJid = B, t.validateCallJid = function (e) { return E.test(e) ? e : null }, t.validateChatJid = function (e) { return N(e) || F(e) }, t.validateDeviceJid = function (e) { return y.test(e) || g.test(e) || f.test(e) || j.test(e) ? e : null }, t.validateDomainJid = function (e) { return "s.whatsapp.net" === e || "g.us" === e ? e : null }, t.validateGroupJid = F, t.validateMulticastJid = function (e) { return J(e) || F(e) || B(e) ? e : null }, t.validateNewsletterJid = function (e) { return b.test(e) ? e : null }, t.validateStatusJid = J, t.validateUserJid = N; var a = r(n(7537)), s = r(n(2065)); t.DEFAULT_DEVICE_ID = 0; const i = "@me"; t.AUTHOR_ME = i; const o = "@system"; t.AUTHOR_SYSTEM = o; const c = "status@broadcast"; t.STATUS_JID = c; t.PSA_JID = "0@s.whatsapp.net"; const d = "@g.us", l = /^([1-9][0-9]{0,19}|(?!10)[1-9][0-9]{4,19}-[1-9][0-9]{9})@g.us$/, u = "@msgr"; t.MSGR_USER_DOMAIN = u; t.MSGR_USER_JID_SUFFIX = "msgr"; const f = /^([1-9][0-9]{0,19}(:[1-9][0-9]{0,2})?)@msgr$/, h = /^([1-9][0-9]{0,19})@msgr$/, p = /^([1-9][0-9]{0,19})(:0)?@msgr$/; t.WA_SERVER_JID_SUFFIX = "s.whatsapp.net"; const _ = "@s.whatsapp.net"; t.WA_USER_DOMAIN = _; t.WA_USER_JID_SUFFIX = "s.whatsapp.net"; const m = "@newsletter"; t.WA_NEWSLETTER_JID_DOMAIN = m; const b = /^([1-9][0-9]{0,19})@newsletter$/, y = /^(0|((?!10)[1-9][0-9]{4,19}(\.[0-9]{1,2})?(:[0-9]{1,2})))@s.whatsapp.net$/, g = /^(0|((?!10)[1-9][0-9]{4,19})(\.[0-9]{1,2})?)@s.whatsapp.net$/, v = "@lid"; t.LID_DOMAIN = v; t.LID_SUFFIX = "lid"; const w = /^([1-9][0-9]{0,14})@lid$/, j = /^([1-9][0-9]{0,14}(:[0-9]{1,2})?)@lid$/, S = /^(status|location|[1-9][0-9]{0,19})@broadcast$/, E = /^([0-9a-fA-F]{18,32})@call$/; t.SURVEY_USER_JID = "16505361212@s.whatsapp.net"; const T = /([0-9a-zA-Z-:]+)@(g\.us|call|s\.whatsapp\.net|broadcast|msgr|lid)/g; function A(e) { return `${e}@msgr` } function I(e) { if (e.endsWith(_)) return e.slice(0, -_.length); if (e.endsWith(u)) return e.slice(0, -u.length); if (e.endsWith(v)) return e.slice(0, -v.length); throw (0, s.default)(`userIdFromJid called with non-user jid "${e}"`) } function P(e, t) { return `${C(e)}:${t}@lid` } function k(e) { return e.split("@")[0] } function O(e) { const t = e.split("@")[0].split(":"), n = t[0], r = t[1]; return { userId: n, deviceID: parseInt(r, 10) } } function U(e) { return O(e).deviceID } function x(e) { if (!e.endsWith(_)) throw (0, s.default)(`phoneNumberFromJid called with non-user jid "${e}"`); return e.slice(0, -_.length) } function R(e) { return e.endsWith(_) || e.endsWith(u) || e.endsWith(v) ? e : null } function C(e) { if (!e.endsWith(v)) throw (0, s.default)(`lidFromLidUserJid called with non-LidUserJid "${e}"`); return e.slice(0, -v.length) } function M(e) { const t = e.split("@"); let n = t[0]; const r = t[1]; return n = n.split(":")[0], n = n.split(".")[0], `${n}@${r}` } function $(e) { const [t, n] = e.split("@"), [r, a] = t.split(":"), [s, i] = r.split("."); return { user: s, device: a, agent: i, server: n } } function D(e) { switch (e.jidType) { case "lidUser": case "msgrUser": case "phoneUser": return e.userJid; case "group": return e.groupJid; case "status": return e.statusJid; case "lidDevice": case "msgrDevice": case "phoneDevice": return e.deviceJid; case "broadcast": return e.broadcastJid; case "call": return e.callJid; case "newsletter": return e.newsletterJid; default: return (0, a.default)(e.jidType) } } function L(e) { if (e === c) return { jidType: "status", statusJid: c }; if (g.test(e)) return { jidType: "phoneUser", userJid: e }; if (h.test(e)) return { jidType: "msgrUser", userJid: e }; if (p.test(e)) { return { jidType: "msgrUser", userJid: A(e.substr(0, e.indexOf(":"))) } } return y.test(e) ? { jidType: "phoneDevice", deviceJid: e } : f.test(e) ? { jidType: "msgrDevice", deviceJid: e } : l.test(e) ? { jidType: "group", groupJid: e.endsWith(d) ? e : `${e}@g.us` } : S.test(e) ? { jidType: "broadcast", broadcastJid: e } : E.test(e) ? { jidType: "call", callJid: e } : w.test(e) ? { jidType: "lidUser", userJid: e } : j.test(e) ? { jidType: "lidDevice", deviceJid: e } : b.test(e) ? { jidType: "newsletter", newsletterJid: e } : { jidType: "unknown" } } function J(e) { return "status@broadcast" === e ? e : null } function N(e) { if (g.test(e) || h.test(e) || w.test(e)) return e; if (p.test(e)) { return A(e.substr(0, e.indexOf(":"))) } return null } function B(e) { return S.test(e) ? e : null } function F(e) { return l.test(e) ? e : null } function z(e) { const t = L(e); return "unknown" === t.jidType ? e : "status" === t.jidType ? t.statusJid : (t.jidType, D(t).replace(/^([^@]*)([^@][^@][^@][^@])@(.*)$/, "...$2@$3")) } function K(e) { return e.endsWith(d) ? e : null } function W(e, t) { if (e.endsWith(_)) return t.phoneUser(e); if (e.endsWith(u)) return t.msgrUser(e); if (e.endsWith(v)) return t.lidUser(e); if (null != K(e)) return t.group(e); throw (0, s.default)(`Can not switch on chat jid ${e}`) } function Y(e, t) { if (e.endsWith(_)) return t.user(e); if (null != K(e)) return t.group(e); throw (0, s.default)(`Can not switch on chat jid ${e}`) } function q(e) { if (e.endsWith(_)) return _; if (e.endsWith(u)) return u; if (e.endsWith(v)) return v; throw (0, s.default)(`userDomainFromJid called with non-user jid "${e}"`) } function G(e) { return e } function H(e) { return e } function V(e) { return e } function X(e) { return e } function Z(e) { return e } function Q(e) { return e } function ee(e) { return e } function te(e) { return e } function ne(e) { return e } }, 9619: (e, t, n) => { "use strict"; var r = n(7914); Object.defineProperty(t, "__esModule", { value: !0 }), t.default = function (e) { let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "?"; if (null == e) throw (0, a.default)(`Unexpected null or undefined: ${t}`); return e }; var a = r(n(2065)) }, 2207: (e, t, n) => { "use strict"; var r = n(7914); Object.defineProperty(t, "__esModule", { value: !0 }), t.asyncChain = function (e, t) { if (e.success) return t(e.value); return Promise.resolve(e) }, t.asyncMapError = d, t.asyncMapResult = o, t.catchError = function (e) { return function () { var t = (0, a.default)((function* (t) { yield d(t, e) })); return function () { return t.apply(this, arguments) } }() }, t.chain = function (e, t) { if (e.success) return t(e.value); return e }, t.makeError = s, t.makeResult = i, t.mapError = function (e, t) { if (e.success) return i(e.value); return s(t(e.error), e.payload) }, t.mapResult = function (e, t) { if (!e.success) return e; return i(t(e.value)) }, t.onResult = function (e) { return t => o(t, e) }; var a = r(n(1504)); function s(e, t) { return null != t ? { success: !1, error: e, payload: t } : { success: !1, error: e } } function i(e) { return { success: !0, value: e } } function o() { return c.apply(this, arguments) } function c() { return (c = (0, a.default)((function* (e, t) { if (!e.success) return e; return i(yield t(e.value)) }))).apply(this, arguments) } function d() { return l.apply(this, arguments) } function l() { return (l = (0, a.default)((function* (e, t) { if (e.success) return i(e.value); return s(yield t(e.error), e.payload) }))).apply(this, arguments) } }, 8494: (e, t, n) => { "use strict"; var r = n(7914); Object.defineProperty(t, "__esModule", { value: !0 }), t.ShiftTimer = void 0; var a = r(n(2065)); function s(e) { if (!(e >= 0)) throw (0, a.default)("ShiftTimer must be given delay >= 0") } t.ShiftTimer = class { constructor(e) { this._timer = 0, this._rafId = 0, this.ts = 0, this._timerTs = 0, this._upperBound = 0, this._lowerBound = 0, this._arg = void 0, this._run = () => { const e = this._arg, t = this._foo; this._rafId = 0, this._timer = 0, this.ts = 0, this._timerTs = 0, this._upperBound = 0, this._lowerBound = 0, this._arg = void 0, t(e) }, this.onOrBefore = (e, t) => { s(e); const n = Date.now() + e, r = this._upperBound; if (0 !== r && r < n) return; const a = this._lowerBound; 0 !== a && n < a || (this._upperBound = n, this._rafId || this._timer && !(n < this.ts) || this._setDelay(n, e, t)) }, this.forceRunNow = e => { this._timer && clearTimeout(this._timer), this._rafId && cancelAnimationFrame(this._rafId), this._arg = e, this._run() }, this.cancel = () => { this._timer && clearTimeout(this._timer), this._rafId && cancelAnimationFrame(this._rafId), this._timer = 0, this._rafId = 0, this.ts = 0, this._timerTs = 0, this._upperBound = 0, this._lowerBound = 0, this._arg = void 0 }, this._foo = e } onOrBeforeRepaint(e) { if (this._rafId) return; const t = Date.now(), n = this._lowerBound; if (0 !== n && t < n) return; const r = this._upperBound; (0 === r || t < r) && (this._upperBound = t), this._timer && (clearTimeout(this._timer), this._timer = 0), (!this.ts || this.ts > t) && (this.ts = t), this._arg = e, this._rafId = requestAnimationFrame(this._run) } onOrAfter(e, t) { s(e); const n = Date.now() + e, r = this._lowerBound; if (0 !== r && n < r) return; const a = this._upperBound; 0 !== a && a < n || (this._lowerBound = n, (!this._timer || this.ts < n) && this._setDelay(n, e, t)) } debounce(e, t) { s(e), this._debounce(Date.now(), e, t) } debounceAndCap(e, t, n) { s(e), s(t); const r = Date.now(), a = r + t, i = this._lowerBound, o = this._upperBound; (0 === i || i <= a) && (0 === o || a < o) && (this._upperBound = a), this._debounce(r, e, n) } forceRunNowIfScheduled() { this._timer ? (clearTimeout(this._timer), this._run()) : this._rafId && (cancelAnimationFrame(this._rafId), this._run()) } isScheduled() { return 0 !== this._timer || 0 !== this._rafId } _debounce(e, t, n) { const r = e + t, a = this._lowerBound; if (0 !== a && r < a) return; const s = this.ts, i = this._upperBound; 0 !== i && i < r ? s < i && this._setDelay(i, i - e, n) : s < r && this._setDelay(r, t, n) } _setDelay(e, t, n) { if (this._rafId && (cancelAnimationFrame(this._rafId), this._rafId = 0), this._arg = n, this.ts = e, this._timer) { const t = e - this._timerTs; if (-16 < t && t < 16) return; clearTimeout(this._timer) } this._timer = setTimeout(this._run, t), this._timerTs = e } } }, 9987: (e, t, n) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.YEAR_SECONDS = t.WEEK_SECONDS = t.WEEK_MILLISECONDS = t.MonotonicTimer = t.MINUTE_SECONDS = t.MINUTE_MILLISECONDS = t.MAX_INT = t.HOUR_SECONDS = t.HOUR_MILLISECONDS = t.FIVE_MINUTES = t.DUMMY_UNIXTIME = t.DAY_SECONDS = t.DAY_MILLISECONDS = void 0, t.cappedMillisecondsUntil = m, t.castLongIntToUnixTime = function (e) { return "number" != typeof e ? (0, r.hexLongIsNegative)(e) ? l : d : h(e) }, t.castMilliSecondsToUnixTime = p, t.castMillisTimeToUnixTime = function (e) { if (null == e) return e; return e > d ? p(e) : h(e) }, t.castToMillisTime = _, t.castToUnixTime = h, t.castUnixTimeToMillisTime = function (e) { return 1e3 * e }, t.convertHexToDate = function (e) { const t = Number.parseInt(e, 16); if (Number.isFinite(t)) return new Date(1e3 * h(t)); return null }, t.delayUntil = function (e) { const t = m(e); return new Promise((e => { setTimeout(e, t) })) }, t.futureUnixTime = function (e, t) { const n = null != t ? t : b(); return h(Math.ceil(n + Math.max(e, 0))) }, t.getClockSkew = function () { return f }, t.happenedWithin = function (e, t) { return w(b(), e, t) }, t.happenedWithinAt = w, t.isInFuture = function (e) { return y(e) > 0 }, t.isOverflowTime = function (e) { return e < l || e > d }, t.isWithinNext24h = function (e) { return e - b() <= s }, t.midnight = function () { return h((new Date).setHours(0, 0, 0, 0) / 1e3 - f) }, t.midnightOn = function (e) { return h(j(e).setHours(0, 0, 0, 0) / 1e3 - f) }, t.millisTime = function () { return S() - 1e3 * f }, t.monotonicTime = g, t.monotonicTimeSince = v, t.oldest = function (e, t) { return e < t ? e : t }, t.pastUnixTime = function (e, t) { const n = null != t ? t : b(); return h(Math.ceil(n - Math.max(e, 0))) }, t.performanceAbsoluteNow = S, t.sameDay = function (e, t) { if (Math.abs(e - t) > s) return !1; const n = u.time === e ? u.day : j(e + f).getDay(), r = u.time === t ? u.day : j(t + f).getDay(); return u.time = t, u.day = r, n === r }, t.secondsUntil = y, t.setClockSkew = function (e) { f = e }, t.timeSince_USE_ONLY_IF_APPROVED = function (e) { return Math.max(b() - e, 0) }, t.timeoutFor = function (e, t) { const n = b(), r = Math.max(e + t - n, 0); return Math.min(1e3 * r, ~(1 << 31)) }, t.toDate = j, t.toHttpHeaderDate = function (e) { return j(e).toUTCString() }, t.unixTime = b, t.unixTimeMs = function () { return Date.now() - 1e3 * f }, t.unixTimeWithoutClockSkewCorrection = function () { return h(Date.now() / 1e3) }, t.unskewedDate_USE_ONLY_IF_APPROVED = function () { return new Date }; var r = n(5982); t.MINUTE_SECONDS = 60; t.FIVE_MINUTES = 300; const a = 3600; t.HOUR_SECONDS = a; const s = 86400; t.DAY_SECONDS = s; t.WEEK_SECONDS = 604800; t.YEAR_SECONDS = 31536e3; t.MINUTE_MILLISECONDS = 6e4; const i = 36e5; t.HOUR_MILLISECONDS = i; const o = 864e5; t.DAY_MILLISECONDS = o; t.WEEK_MILLISECONDS = 6048e5; const c = 1 << 31; t.DUMMY_UNIXTIME = c; const d = 2147483647; t.MAX_INT = d; const l = -2147483647, u = { time: 0, day: -4 }; let f = 0; function h(e) { return Math.max(l, Math.min(0 | e, d)) } function p(e) { return h(e / 1e3) } function _(e) { return e } function m(e) { const t = Math.max(e - b(), 0); return Math.min(1e3 * t, ~(1 << 31)) } function b() { return h(Date.now() / 1e3 - f) } function y(e) { return Math.max(e - b(), 0) } function g() { return performance.now() } function v(e) { return Math.floor(performance.now() - e) } function w(e, t, n) { return Math.abs(e - t) <= n } function j(e) { return new Date(1e3 * e) } function S() { return Date.now() } t.MonotonicTimer = class { constructor() { const e = g(); this._initTime = e, this._startTime = e } reset() { this._startTime = g() } elapsed() { return v(this._startTime) } cumulative() { return v(this._initTime) } } }, 7791: (e, t) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.default = function (e, t) { const n = [], r = e.length, a = t.length, s = Math.max(r, a); for (let i = 0; i < s; i++)i < r && n.push(e[i]), i < a && n.push(t[i]); return n } }, 6432: (e, t) => { "use strict"; function n(e, t) { const r = function () { for (var n = arguments.length, a = new Array(n), s = 0; s < n; s++)a[s] = arguments[s]; const i = t ? t.apply(this, a) : a[0]; if (null == i) return e.apply(this, a); const o = r.cache; if (o.has(i)) return o.get(i); const c = e.apply(this, a); return r.cache = o.set(i, c) || o, c }; return r.cache = new (n.Cache || Map), r } Object.defineProperty(t, "__esModule", { value: !0 }), t.default = n, n.Cache = Map }, 29: (e, t, n) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.castTypedArrays = function (e, t) { if (t instanceof e) return t; if ("string" == typeof t) return new e((0, r.decodeB64)(t)); return new e(t) }; var r = n(2089) }, 8358: (e, t) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.concatTypedArrays = function (e, t) { let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0; const r = t.reduce(((e, t) => e + t.length), n), a = new e(r); let s = 0; return t.forEach((e => { a.set(e, s), s += e.length })), a } }, 8481: (e, t, n) => { "use strict"; var r = n(7914); Object.defineProperty(t, "__esModule", { value: !0 }), t.ParsableXmlNode = void 0, t.convertBytesToUint = o; var a = r(n(2065)), s = r(n(9028)), i = n(7448); function o(e, t) { let n = 0; for (let r = 0; r < t; r++)n = 256 * n + e[r]; return n } t.ParsableXmlNode = class { constructor(e, t) { this._name = e, this._node = t, this._children = Array.isArray(t.content) ? t.content.map((t => new this.constructor(e, t))) : null } name() { return this._name } node() { return this._node } hasAttr(e) { return (0, s.default)(this._node.attrs, e) } assertTag(e) { this._node.tag !== e && this.throw(`to be <${e}>`) } tag() { return this._node.tag } maybeChild(e) { const t = this._children; if (!t) return null; for (let n = 0; n < t.length; n++)if (t[n].tag() === e) return t[n]; return null } hasChild(e) { return !!this.maybeChild(e) } child(e) { const t = this.maybeChild(e); return t || this.throw(`to have child <${e}>`) } assertAttr(e, t) { const n = this.attrString(e); n !== t && this.throw(`to have "${e}"="${t}", but instead has "${n}"`) } attrString(e) { return (0, s.default)(this._node.attrs, e) ? this.decodeAsString(this._node.attrs[e]) : this.throw(`to have attribute "${e}"`) } forEachAttributeKey(e) { const t = this._node.attrs; Object.keys(t).forEach((t => e(t))) } maybeAttrString(e) { return this.hasAttr(e) ? this.decodeAsString(this._node.attrs[e]) : null } maybeAttrInt(e, t, n) { return this.hasAttr(e) ? this.attrInt(e, t, n) : null } attrEnumValues(e, t, n) { const r = new Set(t), a = this.attrString(e); if (!r.has(a)) { if (null != n) return n; const t = Array.from(r).join("|"); return this.throw(`to have "${e}"={${t}} but has value "${a}"`) } return a } attrEnum(e, t) { const n = this.attrString(e); if (!(0, s.default)(t, n)) { const r = Object.keys(t).join("|"); return this.throw(`to have "${e}"={${r}} but has value "${n}"`) } return t[n] } attrEnumOrNullIfUnknown(e, t) { const n = this.attrString(e); return (0, s.default)(t, n) ? t[n] : null } attrEnumOrDefault(e, t, n) { return this.hasAttr(e) ? this.attrEnum(e, t) : n } attrInt(e, t, n) { const r = this.attrString(e); return this._parseInt(r, e, t, n) } _parseInt(e, t, n, r) { const a = parseInt(e, 10); return Number.isNaN(a) ? this.throw(`to have "${t}"={integer} but has value "${e}"`) : void 0 !== n && a < n ? this.throw(`to have "${t}"={at least ${n}} but has value ${a}`) : void 0 !== r && a >= r ? this.throw(`to have "${t}"={below ${r}} but has value ${a}`) : a } forEachChild(e) { const t = this._children; if (t) t.forEach((t => e(t))); else if (null != this._node.content) return this.throw("to have children") } forEachChildWithTag(e, t) { this.forEachChild((n => { n.tag() === e && t(n) })) } mapChildren(e) { const t = this._children; return t || null == this._node.content ? t ? t.map((t => e(t))) : [] : this.throw("to have children") } mapChildrenWithTag(e, t) { const n = this._children; return n || null == this._node.content ? n ? n.filter((t => t.tag() === e)).map((e => t(e))) : [] : this.throw("to have children") } mapFirstChild(e) { const t = this._children; return t && 0 !== t.length ? e(t[0]) : this.throw("to have children") } hasContent() { return !this._children && !!this._node.content } hasChildren() { return null != this._children } getChildren() { return this._children } mapAttrKeys(e) { const t = this.getAttrKeys(); return t && t.length ? t.map(e) : [] } getAttrKeys() { return Object.keys(this._node.attrs) } hasAttrs() { return (this._node.attrs ? Object.keys(this._node.attrs) : []).length > 0 } getNode() { return this._node } unsafeSetChildren(e) { this._children = e } unsafeSetNodeContent(e) { this._node.content = e } contentUint(e) { return o(this.contentBytes(e), e) } contentBytes() { let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1; if (this._children) return this.throw("to have binary content, but has children instead"); if (null != this._node.content) { const t = this._node.content; return -1 !== e && t.length !== e ? this.throw(`to be ${e} bytes, but got ${t.length} instead`) : t } return this.throw("to have content") } contentString() { return this._children ? this.throw("to have string content, but has children instead") : null != this._node.content ? this._node.content : this.throw("to have content") } contentInt(e, t) { const n = this.contentString(); return this._parseInt(n, "content", e, t) } contentEnum(e) { const t = this.contentString(); if (!(0, s.default)(e, t)) { const n = Object.keys(e).join("|"); return this.throw(`to have content {${n}} but has value "${t}"`) } return e[t] } decodeAsString(e) { if ("string" != typeof e) throw (0, a.default)(`decodeAsString: attribute is ${typeof e} not a string: ${e}`); return e } throw(e) { throw new i.XmlParsingFailure(this._name, `expected <${this._node.tag}> ${e}`) } toString() { return this._node.toString() } } }, 8132: (e, t) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.default = function (e) { const t = e.replace(/>\s{0,}</g, "><").replace(/</g, "~::~<").replace(/\s*xmlns:/g, "~::~xmlns:").replace(/\s*xmlns=/g, "~::~xmlns=").split("~::~"), n = t.length; let r = !1, a = 0, s = "", i = 0; const o = ["\n"]; for (i = 0; i < 100; i++)o.push(o[i] + "    "); const c = function (e, t) { const n = /^<[\w:\-.,]+/.exec(e[t - 1]), r = /^<\/[\w:\-.,]+/.exec(e[t]); return null != n && null != r && n[0] === r[0] }; for (i = 0; i < n; i++)t[i].search(/<!/) > -1 ? (s += o[a] + t[i], r = !0, (t[i].search(/-->/) > -1 || t[i].search(/\]>/) > -1 || t[i].search(/!DOCTYPE/) > -1) && (r = !1)) : t[i].search(/-->/) > -1 || t[i].search(/\]>/) > -1 ? (s += t[i], r = !1) : c(t, i) ? (s += t[i], r || a--) : t[i].search(/<\w/) > -1 && -1 === t[i].search(/<\//) && -1 === t[i].search(/\/>/) ? s = s += r ? t[i] : o[a++] + t[i] : t[i].search(/<\w/) > -1 && t[i].search(/<\//) > -1 ? s = s += r ? t[i] : o[a] + t[i] : t[i].search(/<\//) > -1 ? s = s += r ? t[i] : o[0 === a ? a : --a] + t[i] : t[i].search(/\/>/) > -1 ? s = s += r ? t[i] : o[a] + t[i] : t[i].search(/<\?/) > -1 || t[i].search(/xmlns:/) > -1 || t[i].search(/xmlns=/) > -1 ? s += o[a] + t[i] : s += t[i]; return "\n" === s[0] ? s.slice(1) : s } }, 3260: (e, t, n) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.XmlNode = void 0, t.attrsToString = s, t.uint8ArrayToDebugString = i; var r = n(5982); const a = {}; function s(e) { const t = Object.keys(e); let n = ""; for (let r = 0; r < t.length; r++) { const a = t[r]; n += ` ${a}="${e[a].toString()}"` } return n } function i(e) { let t = ""; return t = 0 === e.length ? "\x3c!-- empty binary --\x3e" : e.length < 50 ? (0, r.bytesToDebugString)(e) : `\x3c!-- ${e.length} bytes --\x3e`, t } t.XmlNode = class { constructor(e) { let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : a, n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null; this.tag = e, this.attrs = t, this.content = n } toString() { let e = "<" + this.tag; e += s(this.attrs); const t = this.content; return Array.isArray(t) ? e += `>${t.map(String).join("")}</${this.tag}>` : t instanceof Uint8Array ? e += `>${i(t)}</${this.tag}>` : e += null != t ? `>${String(t)}</${this.tag}>` : " />", e } } }, 7448: (e, t) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.XmlParsingFailure = void 0; t.XmlParsingFailure = class { constructor(e, t) { this.parser = e, this.reason = t } toString() { return `XmlParsingFailure: ${this.parser}: ${this.reason}` } } }, 7674: (e, t) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.MMS_URL_MEDIA_TYPE_SEARCH_PARAM = t.IS_MMS_URL_SEARCH_PARAM = void 0; t.IS_MMS_URL_SEARCH_PARAM = "__wa-mms"; t.MMS_URL_MEDIA_TYPE_SEARCH_PARAM = "mms-type" }, 8615: (e, t, n) => { "use strict"; var r = n(5318); Object.defineProperty(t, "__esModule", { value: !0 }), t.decryptPartialMedia = t.decrypt = t.cleanupCiphertextAndIv = t.HMAC_SIZE = t.BLOCK_SIZE = void 0; var a = r(n(8926)), s = n(8358); t.BLOCK_SIZE = 16; t.HMAC_SIZE = 10; const i = function () { var e = (0, a.default)((function* (e) { const { ciphertext: t, iv: n, mediaKeys: r } = e, { encKey: a } = r; try { const e = yield self.crypto.subtle.importKey("raw", new Uint8Array(a), "AES-CBC", !1, ["decrypt"]).catch((e => { throw __LOG__(2)`decryptPartialMedia:decrypt importKey error: ${String(e)}`, e })); return self.crypto.subtle.decrypt({ name: "AES-CBC", iv: n }, e, t) } catch (e) { throw __LOG__(2)`decryptPartialMedia:decrypt decrypt error: ${String(e)}`, e } })); return function () { return e.apply(this, arguments) } }(); t.decrypt = i; const o = function () { var e = (0, a.default)((function* (e) { const { ciphertext: t, mediaKeys: n } = e, { encKey: r } = n, a = { name: "AES-CBC", iv: (t instanceof Uint8Array ? t : new Uint8Array(t)).slice(-16) }; try { const e = yield self.crypto.subtle.importKey("raw", new Uint8Array(r), "AES-CBC", !1, ["encrypt"]).catch((e => { __LOG__(2)`decryptPartialMedia:getEncryptedPadding importKey error: ${String(e)}` })), t = new Uint8Array([]); return self.crypto.subtle.encrypt(a, e, t) } catch (e) { return void __LOG__(2)`decryptPartialMedia:getEncryptedPadding encrypt error: ${String(e)}` } })); return function () { return e.apply(this, arguments) } }(), c = e => { const { serverRangeStart: t, ciphertext: n, mediaKeys: r } = e; let a = n instanceof Uint8Array ? n : new Uint8Array(n); const i = a.byteLength % 16 == 0; let c; return 0 === t ? c = new Uint8Array(r.iv) : (c = a.slice(0, 16), a = a.slice(16)), i || (a = a.slice(0, a.byteLength - 10)), i ? o({ ciphertext: a, mediaKeys: r }).then((e => (a = (0, s.concatTypedArrays)(Uint8Array, [a, new Uint8Array(e)]), { ciphertext: a, iv: c }))) : Promise.resolve({ ciphertext: a, iv: c }) }; t.cleanupCiphertextAndIv = c; const d = function () { var e = (0, a.default)((function* (e) { let { mediaKeys: t, ciphertext: n } = e; const { ciphertext: r, iv: a } = yield c({ serverRangeStart: 0, ciphertext: n, mediaKeys: t }); return i({ ciphertext: r, iv: a, mediaKeys: t }) })); return function () { return e.apply(this, arguments) } }(); t.decryptPartialMedia = d }, 1054: (e, t, n) => { "use strict"; var r = n(5318); Object.defineProperty(t, "__esModule", { value: !0 }), t.default = function (e, t, n) { let r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : String, s = (0, a.default)(e, t.map(r)).join(""); const i = n ? 4e3 : Number.POSITIVE_INFINITY; s.length > i && (s = s.slice(0, i).replace(/\s+$/, " [truncated]")); return s }; var a = r(n(7791)) }, 3948: (e, t, n) => { "use strict"; var r = n(5318); Object.defineProperty(t, "__esModule", { value: !0 }), t.default = void 0; var a = r(n(8926)); class s { constructor(e) { this._handleMessage = e => { if (!e.data || !e.data.action) return; const t = e.data; if (!e.ports || 0 === e.ports.length) return; const n = e.ports; if (!s.isSW() && window.navigator.serviceWorker && e.source !== window.navigator.serviceWorker.controller) return; let r; r = "function" == typeof e.waitUntil ? t => e.waitUntil(t) : () => { }, r(Promise.resolve(this.requestHandler(t)).then((e => { n[0].postMessage(e) })).catch((e => { n[0].postMessage({ error: e && e.toString() }) }))) }, this.requestHandler = e } init() { const e = s.isSW() ? self : window.navigator.serviceWorker; try { if (!e) return; e.addEventListener("message", this._handleMessage) } catch (e) { } } static isSW() { return "undefined" == typeof window } static getRequestor(e) { return s.isSW() ? "string" == typeof e ? self.clients.get(e) : Promise.resolve(e) : window.navigator.serviceWorker ? window.navigator.serviceWorker.ready.then((() => window.navigator.serviceWorker ? window.navigator.serviceWorker.controller : null)) : Promise.resolve(null) } static broadcast(e, t) { return (0, a.default)((function* () { if (!s.isSW()) throw new Error("Broadcast called from non-serviceworker."); const n = yield self.clients.matchAll(); return 0 === n.length ? Promise.reject(new Error("No clients available.")) : Promise.all(n.map((n => s.request(n, e, t)))) }))() } static request(e, t, n) { const r = new MessageChannel; return new Promise(((a, i) => (r.port1.onmessage = e => { var t; (null === (t = e.data) || void 0 === t ? void 0 : t.error) ? i(e.data.error) : a(e.data) }, s.getRequestor(e).then((e => { if (!e) return i(new Error("No ServiceWorker controlling this client.")); e.postMessage({ action: t, message: n, version: "2.2304.5" }, [r.port2]) }))))) } } t.default = s }, 9194: (e, t) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.default = void 0; var n = { REQUEST_STREAMING_INFO: "GET_STREAMING_INFO", REQUEST_RMR: "REQUEST_RMR", SEND_STREAMING_CHUNK: "SEND_STREAMING_CHUNK", EXP_BACKOFF: "EXP_BACKOFF", LOG: "LOG", UPLOAD_LOGS: "UPLOAD_LOGS", REQUEST_DOCUMENT_DOWNLOAD: "REQUEST_DOCUMENT_DOWNLOAD", SET_L10N: "SET_L10N", STREAMING_SUPPORTED: "STREAMING_SUPPORTED", REMOVE_PP: "REMOVE_PP", LOGOUT: "LOGOUT", CLEAN_ASSETS: "CLEAN_ASSETS", PRELOAD_LAZY_LOADED_BUNDLES: "PRELOAD_LAZY_LOADED_BUNDLES", ACTIVE_TAB: "ACTIVE_TAB", STOP_COMMS: "STOP_COMMS" }; t.default = n }, 1373: (e, t) => { "use strict"; let n; Object.defineProperty(t, "__esModule", { value: !0 }), t.default = void 0; try { n = self.indexedDB } catch (e) { } var r = n; t.default = r }, 1157: (e, t, n) => { "use strict"; var r = n(5318); Object.defineProperty(t, "__esModule", { value: !0 }), t.default = void 0; var a = r(n(3948)), s = r(n(9194)), i = r(n(6857)); class o extends i.default { constructor() { super(...arguments), this.matchAction = e => e === s.default.ACTIVE_TAB, this.onAction = () => a.default.broadcast(s.default.ACTIVE_TAB) } } t.default = o }, 3933: (e, t, n) => { "use strict"; var r = n(5318); Object.defineProperty(t, "__esModule", { value: !0 }), t.default = void 0; var a = r(n(8926)), s = r(n(9194)), i = r(n(6857)); class o extends i.default { constructor() { var e; super(...arguments), e = this, this.matchFetch = e => { const { request: t } = e, n = i.default.parseUrl(t.url); return t.method === i.default.RequestType.GET && !!n && n.base === self.registration.scope && !!n.relativePath.match("^img/") }, this.onFetch = function () { var t = (0, a.default)((function* (t) { const { request: n } = t, r = yield e.cache.matchOrFetch(n); return r.ok ? r : e.cache.fetchAndPut(n) })); return function () { return t.apply(this, arguments) } }(), this.matchAction = e => s.default.CLEAN_ASSETS === e, this.onAction = function () { var t = (0, a.default)((function* (t, n) { const r = new Set(n), a = yield e.cache.keys(); if (!a) return; const s = []; return a.forEach((e => { const t = e.url.lastIndexOf("/") + 1, n = e.url.slice(t); r.has(n) || s.push(e) })), Promise.all(s.map((t => e.cache.delete(t)))) })); return function () { return t.apply(this, arguments) } }() } } t.default = o }, 2612: (e, t, n) => { "use strict"; var r = n(5318); Object.defineProperty(t, "__esModule", { value: !0 }), t.default = void 0; var a = r(n(3948)); t.default = e => { self.addEventListener("install", (function (t) { __LOG__(2)`Installing...`; const n = e.filter((e => e.matchInstall(t))).map((e => Promise.resolve(e.onInstall(t)))); t.waitUntil(Promise.all(n).then((() => self.skipWaiting())).catch((e => { __LOG__(3)`onInstall error: ${String(e)}` }))) })), self.addEventListener("activate", (function (t) { __LOG__(2)`Activating...`; const n = e.filter((e => e.matchActivate(t))).map((e => e.onActivate(t))); t.waitUntil(self.clients.claim().then((() => Promise.all(n))).catch((e => { __LOG__(3)`onActivate error: ${e}.` }))) })), self.addEventListener("fetch", (function (t) { const n = e.find((e => e.matchFetch(t))); if (n) return t.respondWith(n.onFetch(t)) })), self.addEventListener("push", (function (t) { const n = e.find((e => e.matchPush(t))); if (n) return n.onPush(t) })), self.addEventListener("notificationclick", (function (t) { const n = e.find((e => e.matchNotificationClick(t))); if (n) return n.onNotificationClick(t) })); new a.default((t => { let { action: n, message: r } = t; const a = e.find((e => e.matchAction(n))); return a ? a.onAction(n, r) : Promise.reject(new Error(`Invalid Action: ${n}`)) })).init() } }, 2120: (e, t, n) => { "use strict"; var r = n(5318); Object.defineProperty(t, "__esModule", { value: !0 }), t.default = void 0; var a = r(n(1109)), s = r(n(8926)), i = r(n(9194)), o = r(n(3735)), c = r(n(6857)), d = r(n(5420)); const l = "LTR", u = "RTL", f = /^text\/html/; class h extends c.default { constructor(e, t) { var n; super(e, t), n = this, this.matchInstall = () => !0, this.onInstall = () => { this.store.delete("isCanary").then((() => this.fetchIndex(new Request(self.registration.scope)))).then((() => Promise.all([this.store.get("isCanary"), this.store.get("l10n")]))).then((e => { let [t, n] = e; const r = [...this.cacheObject.hashedResources, ...this.cachedL10nHashes(this.cacheObject, n)]; t && r.push(...this.betaCacheObject.hashedResources, ...this.cachedL10nHashes(this.betaCacheObject, n)); const a = this.betaCacheObject.unhashedResources.indexOf(""); return -1 !== a && this.betaCacheObject.unhashedResources.splice(a, 1), this.cache.update(Array.from(new Set(r)), this.betaCacheObject.unhashedResources) })) }, this.matchActivate = () => !0, this.onActivate = () => this.cache.cleanup(), this.matchFetch = e => { const { request: t } = e, n = c.default.parseUrl(t.url); return t.method === c.default.RequestType.GET && !this.isCacheStale() && !!n && n.base === self.registration.scope && (this.cacheList.has(n.relativePath) || this.betaCacheList.has(n.relativePath) || "" === n.relativePath) }, this.onFetch = e => { const { request: t } = e, n = c.default.parseUrl(t.url); return n ? "" === n.relativePath ? this.fetchIndex(t) : this.cache.matchOrFetch(t, `${n.base}${n.relativePath}`) : self.fetch(t) }, this.matchAction = e => e === i.default.SET_L10N, this.onAction = function () { var e = (0, s.default)((function* (e, t) { const [r, a] = yield Promise.all([n.store.get("isCanary"), n.store.get("l10n")]); if (a && t.locale === a.locale) return; const s = r ? n.betaCacheObject : n.cacheObject, [i, o] = n.cachedL10nHashes(s, t); if (!i || !o) return n.store.delete("l10n"); const l = r ? { v: n.betaCacheObject.version } : {}, u = c.default.convertToUrl(`${self.registration.scope}${d.default.getIndexPath(t)}`, l); return Promise.all([n.cache.fetchAndPut(u, self.registration.scope), n.store.put("l10n", { locale: t.locale, isRTL: t.isRTL })]) })); return function () { return e.apply(this, arguments) } }(); try { if (this.cacheObject = { version: "2.2302.8", hashedResources: ["2266.69d2da37212b0d2de4b4.js", "3498.302b6e2d473f941ae308.js", "3592.ccbd2f75ce6c60ce878a.js", "4106.4ff0b0f303a7c2f0ac2c.js", "432.bfe726e73e73d6d5c2ec.js", "4944.cae5d06abb1b7e4ee034.js", "5346.72056a1c38e64d3393ae.js", "6086.14cf80e6ae6763d7a026.js", "648.b63736481bc87d180992.js", "73.8527fa76a8c5c8786fe4.js", "app.4610d8f663d48d87c826.js", "early_error_handling.5c8307047050929cbb13.js", "lazy_loaded_ca_root_certificates.ab2711e7139ff1b2317d.js", "lazy_loaded_high_priority_components.41be91f2e20e2e08d12b.js", "lazy_loaded_high_priority_components~lazy_loaded_low_priority_components.f31ae43793c61c148bfa.js", "lazy_loaded_low_priority_components.ba7eb72e71af4048c972.js", "lazy_loaded_low_priority_components~.87804101130188b024d1.js", "lazy_loaded_remove_direct_connection_keys.914a9986900f63003a77.js", "libsignal-protocol-ee5b8ba.min.js", "main.0d24adc0ba0bf93a89c8.js", "pdf.worker.96d1bc1f3d0105cd5a81bae7a9dad228.js", "runtime.c98acadb1ae1575d2317.js", "vendor1~app.0c8e960e5dfd7020f562.js", "vendors~lazy_loaded_business_direct_utils.e24e12d5047d3b57fef7.js", "vendors~lazy_loaded_high_priority_components~lazy_loaded_low_priority_components.e4bc397bdb594c85b9eb.js", "vendors~lazy_loaded_low_priority_components.e593e81282871e7ce929.js", "vendors~lazy_loaded_relay.924f984ed0bd537f91a5.js", "vendors~main.bfc632c7e596260920d9.js", "vendors~pdf.9f876162b6247e9c8463.js", "app-58e3f778238ba83cbd59.css", "browsers_c64b5b44e078a8b6f543.css", "lazy_loaded_high_priority_components.a863dcad9c7aad95c934.css", "lazy_loaded_low_priority_components.349bed67c2b8fb37290d.css", "main.30c2a4e92880c03d837a.css", "stylex-20db93f75e0210df40a1567fadc6e75e.css"], unhashedResources: ["apple-touch-icon.png", "assets-manifest-2.2302.8.json", "binary-transparency-manifest-2.2302.8.json", "bryndan_write_20e48b2ec8c64b2a1ceb5b28d9bcc9d0.ttf", "crossdomain.xml", "favicon-48x48.ico", "favicon-64x64.ico", "favicon.ico", "notification_2a485d84012c106acef03b527bb54635.mp3", "noto_emoji_regular_40c0691231b767bd3e693d583006a1ed.ttf", "robots.txt", "sequential-ptt-end_62ed28be622237546fd39f9468a76a49.mp3", "sequential-ptt-middle_7fa161964e93db72b8d00ae22189d75f.mp3", "whatsapp-webclient-login_c09223f0813e7c3adc16476cba2a5d0d.mp4", "whatsapp-webclient-login-hq_0e0caf2391158ebc09fe32edd1022d03.mp4"], l10n: { locales: { "[request].18382cbd2fea006fbd6b.js": "locales/[request].18382cbd2fea006fbd6b.js", "af-json.1a573e1d6d47f8487844.js": "locales/af-json.1a573e1d6d47f8487844.js", "af.b0fb050cc3e39870abfc.js": "locales/af.b0fb050cc3e39870abfc.js", "ar-json.b0f452e8fc427f533272.js": "locales/ar-json.b0f452e8fc427f533272.js", "ar-XB.be81f019449ba60e478e.js": "locales/ar-XB.be81f019449ba60e478e.js", "ar.87edd8f59d041b98a02c.js": "locales/ar.87edd8f59d041b98a02c.js", "az-json.cfabb56cbc037d635531.js": "locales/az-json.cfabb56cbc037d635531.js", "az.4dfb2cce86101363083b.js": "locales/az.4dfb2cce86101363083b.js", "bg-json.723c91e75cec95ff8001.js": "locales/bg-json.723c91e75cec95ff8001.js", "bg.e845340b12401803de21.js": "locales/bg.e845340b12401803de21.js", "bn-json.fc978b5f41d708295843.js": "locales/bn-json.fc978b5f41d708295843.js", "bn.d03c309a47998f9487cc.js": "locales/bn.d03c309a47998f9487cc.js", "ca-json.2fe36102f4182030aa1d.js": "locales/ca-json.2fe36102f4182030aa1d.js", "ca.f127db06a9d066cea520.js": "locales/ca.f127db06a9d066cea520.js", "cs-json.67b193be8df953e183bf.js": "locales/cs-json.67b193be8df953e183bf.js", "cs.6f6724cd5e7efab3b784.js": "locales/cs.6f6724cd5e7efab3b784.js", "da-json.9d5a4de8e895271538b1.js": "locales/da-json.9d5a4de8e895271538b1.js", "da.2a619cccf46541b705ac.js": "locales/da.2a619cccf46541b705ac.js", "de-json.c20d887a38aef7f3b3aa.js": "locales/de-json.c20d887a38aef7f3b3aa.js", "de.c847e677c7fdbc2cf683.js": "locales/de.c847e677c7fdbc2cf683.js", "el-json.5f1e2eeb6ce9742d39d3.js": "locales/el-json.5f1e2eeb6ce9742d39d3.js", "el.fac827569142906db654.js": "locales/el.fac827569142906db654.js", "en-json.36285e108215a6aa2565.js": "locales/en-json.36285e108215a6aa2565.js", "en.6bce1817d4af201d96a4.js": "locales/en.6bce1817d4af201d96a4.js", "es-json.0e8feb7f785ac54a82f6.js": "locales/es-json.0e8feb7f785ac54a82f6.js", "es.074247bfa0b06a2ebc52.js": "locales/es.074247bfa0b06a2ebc52.js", "et-json.a67ff5f86adb29713b02.js": "locales/et-json.a67ff5f86adb29713b02.js", "et.c41a4f8e68522fac061a.js": "locales/et.c41a4f8e68522fac061a.js", "fa-json.62d83d6ba8202acfc5f7.js": "locales/fa-json.62d83d6ba8202acfc5f7.js", "fa.5b4d12560a2e21f4b225.js": "locales/fa.5b4d12560a2e21f4b225.js", "fi-json.defeb2e6f36381bb963a.js": "locales/fi-json.defeb2e6f36381bb963a.js", "fi.a0ccafe59d40367303ff.js": "locales/fi.a0ccafe59d40367303ff.js", "fil-json.5e4b011f2c6c87fa2747.js": "locales/fil-json.5e4b011f2c6c87fa2747.js", "fil.34f5464ee182652dc40f.js": "locales/fil.34f5464ee182652dc40f.js", "fr-json.5a5e66a774e126c67d46.js": "locales/fr-json.5a5e66a774e126c67d46.js", "fr.46c02ed74cd5c093923b.js": "locales/fr.46c02ed74cd5c093923b.js", "gu-json.ce81ccf83b7c10e13db6.js": "locales/gu-json.ce81ccf83b7c10e13db6.js", "gu.0727e45482173d2513ff.js": "locales/gu.0727e45482173d2513ff.js", "he-json.f37e9a8582615b973ace.js": "locales/he-json.f37e9a8582615b973ace.js", "he.7f817d01fed696772590.js": "locales/he.7f817d01fed696772590.js", "hi-json.539546e996b60755c473.js": "locales/hi-json.539546e996b60755c473.js", "hi.222846458dba9d365381.js": "locales/hi.222846458dba9d365381.js", "hr-json.52beac4a1bd06933d8fd.js": "locales/hr-json.52beac4a1bd06933d8fd.js", "hr.86d4c49be50a8448f516.js": "locales/hr.86d4c49be50a8448f516.js", "hu-json.295f887d9a376cbcbb79.js": "locales/hu-json.295f887d9a376cbcbb79.js", "hu.1a974f668796db1d71a5.js": "locales/hu.1a974f668796db1d71a5.js", "id-json.754e1417aa8188f80542.js": "locales/id-json.754e1417aa8188f80542.js", "id.9af7820890798aed566e.js": "locales/id.9af7820890798aed566e.js", "it-json.ad82a022760278486b28.js": "locales/it-json.ad82a022760278486b28.js", "it.015a8a35ff9e23f2cad8.js": "locales/it.015a8a35ff9e23f2cad8.js", "ja-json.9283c84ebe13cc831031.js": "locales/ja-json.9283c84ebe13cc831031.js", "ja.c58df2763e24e917ff1d.js": "locales/ja.c58df2763e24e917ff1d.js", "kk-json.9ab2e9c02174dcfea1c3.js": "locales/kk-json.9ab2e9c02174dcfea1c3.js", "kk.d982c8a418b78a0ac71d.js": "locales/kk.d982c8a418b78a0ac71d.js", "kn-json.2af4afb66e6abd25a3f9.js": "locales/kn-json.2af4afb66e6abd25a3f9.js", "kn.c968d86bac1473470375.js": "locales/kn.c968d86bac1473470375.js", "ko-json.4e3b4fecff34b5d1515e.js": "locales/ko-json.4e3b4fecff34b5d1515e.js", "ko.7474e79fd8023d493c06.js": "locales/ko.7474e79fd8023d493c06.js", "lt-json.b25173cdb23c95db65f9.js": "locales/lt-json.b25173cdb23c95db65f9.js", "lt.8a7f2c7c532ce9b4da04.js": "locales/lt.8a7f2c7c532ce9b4da04.js", "lv-json.7445738c873f707d2815.js": "locales/lv-json.7445738c873f707d2815.js", "lv.3233a024fc9ee25f7a16.js": "locales/lv.3233a024fc9ee25f7a16.js", "mk-json.874c30e38edb3072ebd8.js": "locales/mk-json.874c30e38edb3072ebd8.js", "mk.84fa9e02a325564bd8c9.js": "locales/mk.84fa9e02a325564bd8c9.js", "ml-json.3a573fe6c4032c895408.js": "locales/ml-json.3a573fe6c4032c895408.js", "ml.fac8c61d83772fa3966d.js": "locales/ml.fac8c61d83772fa3966d.js", "mr-json.95e071d9f8bc9e602d33.js": "locales/mr-json.95e071d9f8bc9e602d33.js", "mr.bd5bd62757af4a7dc328.js": "locales/mr.bd5bd62757af4a7dc328.js", "ms-json.8c64f65f1eae982f90b1.js": "locales/ms-json.8c64f65f1eae982f90b1.js", "ms.1e40851ba7ee29e0ae01.js": "locales/ms.1e40851ba7ee29e0ae01.js", "nb-json.9307323d6f9902c7a92a.js": "locales/nb-json.9307323d6f9902c7a92a.js", "nb.b4dfd6389a999513c8f5.js": "locales/nb.b4dfd6389a999513c8f5.js", "nl-json.aa5b46f164676bbdd244.js": "locales/nl-json.aa5b46f164676bbdd244.js", "nl.6ae760efdc4f8c8c3848.js": "locales/nl.6ae760efdc4f8c8c3848.js", "pa-json.ae89a11ecdbfaa18390a.js": "locales/pa-json.ae89a11ecdbfaa18390a.js", "pa.312733ee7ffb3ba9a245.js": "locales/pa.312733ee7ffb3ba9a245.js", "pl-json.79529a77d52e269711b7.js": "locales/pl-json.79529a77d52e269711b7.js", "pl.a876c2295f8022443f19.js": "locales/pl.a876c2295f8022443f19.js", "pt-BR.22ce18c041552ffa94d3.js": "locales/pt-BR.22ce18c041552ffa94d3.js", "pt-json.613e0dba92dfcb4ef9d3.js": "locales/pt-json.613e0dba92dfcb4ef9d3.js", "pt.50bb8b92a9c6387daca4.js": "locales/pt.50bb8b92a9c6387daca4.js", "ro-json.074bafb0a0a5ed25f095.js": "locales/ro-json.074bafb0a0a5ed25f095.js", "ro.4145dd58b7cfb1967761.js": "locales/ro.4145dd58b7cfb1967761.js", "ru-json.02eab0411e24e15b550f.js": "locales/ru-json.02eab0411e24e15b550f.js", "ru.38940a837f8c97da890b.js": "locales/ru.38940a837f8c97da890b.js", "sk-json.f735d0c1931c81f1321b.js": "locales/sk-json.f735d0c1931c81f1321b.js", "sk.f4945d4d9a26048d78c2.js": "locales/sk.f4945d4d9a26048d78c2.js", "sl-json.241e17fdd8e95be5b711.js": "locales/sl-json.241e17fdd8e95be5b711.js", "sl.4153d3970118ee13d87b.js": "locales/sl.4153d3970118ee13d87b.js", "sq-json.e5b8563e626f6d63912b.js": "locales/sq-json.e5b8563e626f6d63912b.js", "sq.07e9c553dcc83b03d843.js": "locales/sq.07e9c553dcc83b03d843.js", "sr-json.59c47cc4419254e3ef6d.js": "locales/sr-json.59c47cc4419254e3ef6d.js", "sr.7aa6549ad74e15f71e4b.js": "locales/sr.7aa6549ad74e15f71e4b.js", "sv-json.ffbd29f882356d0d9b17.js": "locales/sv-json.ffbd29f882356d0d9b17.js", "sv.595c4f47af7b4c5c5f58.js": "locales/sv.595c4f47af7b4c5c5f58.js", "sw-json.95641d9b81ceb6f8db3c.js": "locales/sw-json.95641d9b81ceb6f8db3c.js", "sw.33763597f066833e9a9b.js": "locales/sw.33763597f066833e9a9b.js", "ta-json.4c25dffaf1ba7b5d0775.js": "locales/ta-json.4c25dffaf1ba7b5d0775.js", "ta.94310204b4d4e3ec87d2.js": "locales/ta.94310204b4d4e3ec87d2.js", "te-json.52081c207a28fe3af19f.js": "locales/te-json.52081c207a28fe3af19f.js", "te.e165f59bd979ba8ead4f.js": "locales/te.e165f59bd979ba8ead4f.js", "th-json.6dea1c0824b6ea3806b2.js": "locales/th-json.6dea1c0824b6ea3806b2.js", "th.e9503953d711896c8010.js": "locales/th.e9503953d711896c8010.js", "tr-json.cf3ce68fbc714b0e40ee.js": "locales/tr-json.cf3ce68fbc714b0e40ee.js", "tr.09780617c3de364612ae.js": "locales/tr.09780617c3de364612ae.js", "uk-json.939d3c500050d305ec88.js": "locales/uk-json.939d3c500050d305ec88.js", "uk.3e8427a9d9a0d48e47a5.js": "locales/uk.3e8427a9d9a0d48e47a5.js", "ur-json.5a268ce295d86ab12215.js": "locales/ur-json.5a268ce295d86ab12215.js", "ur.24983b7c2a91fa2afba4.js": "locales/ur.24983b7c2a91fa2afba4.js", "uz-json.640d641140439bd57953.js": "locales/uz-json.640d641140439bd57953.js", "uz.42087cf4a256aedfcd60.js": "locales/uz.42087cf4a256aedfcd60.js", "vi-json.ebe98b4b3031e342e47f.js": "locales/vi-json.ebe98b4b3031e342e47f.js", "vi.168f69612bd0a5af200a.js": "locales/vi.168f69612bd0a5af200a.js", "zh-CN-json.113e9960f821c903c89d.js": "locales/zh-CN-json.113e9960f821c903c89d.js", "zh-CN.322bcc34dd236297ad42.js": "locales/zh-CN.322bcc34dd236297ad42.js", "zh-HK-json.df92d1dd50e2169562fd.js": "locales/zh-HK-json.df92d1dd50e2169562fd.js", "zh-HK.a02c0e6dbf3900d011b7.js": "locales/zh-HK.a02c0e6dbf3900d011b7.js", "zh-TW-json.13263c8eecd52ef95a7f.js": "locales/zh-TW-json.13263c8eecd52ef95a7f.js", "zh-TW.5b8232dcdf42710c38ab.js": "locales/zh-TW.5b8232dcdf42710c38ab.js" }, styles: {} }, releaseDate: 1674179860292 }, !this.cacheObject.l10n || !this.cacheObject.l10n.styles || !this.cacheObject.l10n.locales) throw new Error("Outdated Cache Schema") } catch (e) { this.cacheObject = { version: "2.2304.5", releaseDate: 0, unhashedResources: [], hashedResources: [], l10n: { styles: {}, locales: {} } }, __LOG__(3)`Beta serviceworker unable to read current version's cache list: ${e}` } this.betaCacheObject = o.default, this.cacheList = new Set([...this.cacheObject.hashedResources, ...this.cacheObject.unhashedResources, ...Object.keys(this.cacheObject.l10n.styles).map((e => this.cacheObject.l10n.styles[e])), ...Object.keys(this.cacheObject.l10n.locales).map((e => this.cacheObject.l10n.locales[e]))]), this.betaCacheList = new Set([...this.betaCacheObject.hashedResources, ...this.betaCacheObject.unhashedResources, ...Object.keys(this.betaCacheObject.l10n.styles).map((e => this.betaCacheObject.l10n.styles[e])), ...Object.keys(this.betaCacheObject.l10n.locales).map((e => this.betaCacheObject.l10n.locales[e]))]) } cachedL10nHashes(e) { var t; let n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; const { locale: r, isRTL: a } = n, s = a ? u : l, i = e.l10n.locales[r], o = null === (t = e.l10n.styles) || void 0 === t ? void 0 : t[s]; return i && o ? [i, o] : [] } fetchIndex(e) { var t = this; return (0, s.default)((function* () { const n = c.default.parseUrl(e.url), [r, s] = yield Promise.all([t.store.get("isCanary"), t.store.get("l10n")]); let i, o; if (!r && void 0 !== r) { i = yield t.cache.matchOrFetch(e, self.registration.scope); const n = f.test(i.headers.get("Content-Type") || ""); i = n ? i : null } if (i) o = i; else { const i = (0, a.default)({}, null == n ? void 0 : n.queryParams); (i.force_beta || r) && (i.v = t.betaCacheObject.version); const l = c.default.convertToUrl(`${self.registration.scope}${d.default.getIndexPath(s)}`, i), u = d.default.manuallyCloneRequest(e, l, { mode: "same-origin", redirect: "manual" }); o = yield self.fetch(u) } return o.ok ? t.determineBeta(o.clone()).then((() => o)) : ("opaqueredirect" !== o.type && __LOG__(3)`Received invalid response, url: ${o.url}, status: ${o.status}, type: ${o.type}`, o) }))() } determineBeta(e) { var t = this; return (0, s.default)((function* () { try { const n = yield e.clone().text(); return t.store.get("isCanary").then((r => { if (void 0 !== r) return; const a = n.includes('x-wa-beta="1"'), s = [t.store.put("isCanary", a)]; return a || s.push(t.cache.put(self.registration.scope, e)), Promise.all(s) })) } catch (e) { __LOG__(3)`Unable to determine if user was chosen for beta, err:${e}` } }))() } isCacheStale() { return (new Date).getTime() - this.betaCacheObject.releaseDate >= 6048e5 } } t.default = h }, 7719: (e, t, n) => { "use strict"; var r = n(5318); Object.defineProperty(t, "__esModule", { value: !0 }), t.default = void 0; var a = r(n(8926)), s = r(n(2083)), i = r(n(5420)); const o = s.default.prefs, c = self.caches.keys(), d = /wa\d+\.\d+\.\d+(\.[id])?(\.canary)?$/, l = ["wa-pp", "wa-assets", "wa-stickers", "wa_web_user_prefs_cache_store"]; function u(e) { this.cacheName = e, this.openCachePromise = self.caches.open(this.cacheName) } function f() { return (f = (0, a.default)((function* (e) { try { const t = (yield c).find((t => t !== e && d.test(t))); if (t) return new u(t) } catch (e) { __LOG__(3)`Could not find previous cache, current cache:${this.cacheName}, error: ${e}` } }))).apply(this, arguments) } u.prototype = { update(e, t) { var n = this; return (0, a.default)((function* () { try { const r = yield function () { return f.apply(this, arguments) }(n.cacheName); if (!r) return; return __LOG__(2)`Updating cache: ${n.cacheName}`, o.get("l10n").then((a => Promise.all(n.prefetchHashedResources(e, r).concat(n.prefetchUnhashedResources(t, a))))) } catch (e) { __LOG__(3)`Error occured while updating cache:${n.cacheName}, error: ${e}` } }))() }, prefetchHashedResources(e, t) { var n = this; return e.map(function () { var e = (0, a.default)((function* (e) { const r = self.registration.scope + e, a = yield t.match(r).catch((e => { __LOG__(3)`Unable to match prev. cache, cache name: ${t.cacheName}, request: ${r}, error: ${e}` })); return a ? n.put(r, a) : n.fetchAndPut(r) })); return function () { return e.apply(this, arguments) } }()) }, prefetchUnhashedResources(e, t) { return e.map((e => "" === e ? this.fetchAndPut(self.registration.scope + i.default.getIndexPath(t), self.registration.scope, { cache: "reload" }) : this.fetchAndPut(self.registration.scope + e))) }, cleanup() { var e = this; return (0, a.default)((function* () { const t = yield c; return Promise.all(t.map((t => { if (t !== e.cacheName && !l.includes(t)) return self.caches.delete(t).catch((n => { __LOG__(3)`Unable to delete cache: ${t}, current cache: ${e.cacheName}, error: ${n}` })) }))) }))() }, matchOrFetch(e, t, n) { var r = this; return (0, a.default)((function* () { const a = t || p(e); return (yield r.match(a)) || r.fetchAndPut(e, a, n) }))() }, fetchAndPut(e, t, n) { var r = this; return (0, a.default)((function* () { const a = i.default.manuallyCloneRequest(e, void 0, { redirect: "manual", mode: "cors" }); try { const s = yield self.fetch(a, n); if (s.ok) { const n = t || p(e); r.put(n, s.clone()) } else "opaqueredirect" !== s.type && __LOG__(3)`Received invalid response, url: ${s.url}, status: ${s.status}, type: ${s.type}`; return s } catch (t) { throw __LOG__(3)`Unable to fetch request: ${p(e)}, error: ${t}`, t } }))() }, reset() { return this.openCachePromise = self.caches.delete(this.cacheName).then((() => self.caches.open(this.cacheName))) }, match(e, t) { var n = this; return (0, a.default)((function* () { try { return (yield n.openCachePromise).match(e, t) } catch (t) { __LOG__(3)`Unable to match request: ${p(e)}, in cache: ${n.cacheName}, error: ${t}` } }))() }, put(e, t) { var n = this; return (0, a.default)((function* () { try { return (yield n.openCachePromise).put(e, t) } catch (r) { __LOG__(3)`Unable to put in cache: ${n.cacheName}, request: ${p(e)}, response status: ${t.status}, err: ${r}` } }))() }, delete(e, t) { var n = this; return (0, a.default)((function* () { try { return (yield n.openCachePromise).delete(e, t) } catch (t) { __LOG__(3)`Unable to delete request: ${p(e)}, in cache: ${n.cacheName}, error: ${t}` } }))() }, keys(e, t) { var n = this; return (0, a.default)((function* () { try { return (yield n.openCachePromise).keys(e, t) } catch (t) { __LOG__(3)`Unable to match request: ${p(e)}, in cache: ${n.cacheName}, error: ${t}` } }))() } }; var h = u; function p(e) { return e instanceof Request ? e.url : e } t.default = h }, 3735: (e, t) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.default = void 0; t.default = { version: "2.2304.5", hashedResources: ["2266.69d2da37212b0d2de4b4.js", "3498.302b6e2d473f941ae308.js", "3592.55dc77cff83d34aedd88.js", "4106.4ff0b0f303a7c2f0ac2c.js", "432.bfe726e73e73d6d5c2ec.js", "4944.cae5d06abb1b7e4ee034.js", "5346.72056a1c38e64d3393ae.js", "6086.14cf80e6ae6763d7a026.js", "648.b63736481bc87d180992.js", "73.8527fa76a8c5c8786fe4.js", "app.4ebf2a30c9e5a5c9f244.js", "early_error_handling.8da5835319d5ddb240ef.js", "lazy_loaded_ca_root_certificates.ab2711e7139ff1b2317d.js", "lazy_loaded_high_priority_components.c797f4bbfe9f205e9b8d.js", "lazy_loaded_high_priority_components~lazy_loaded_low_priority_components.a4efa4152f69af484c6b.js", "lazy_loaded_low_priority_components.5f46116ad4bb80e070c4.js", "lazy_loaded_low_priority_components~.87804101130188b024d1.js", "lazy_loaded_remove_direct_connection_keys.914a9986900f63003a77.js", "libsignal-protocol-ee5b8ba.min.js", "main.acedee57ad566e113b7c.js", "pdf.worker.96d1bc1f3d0105cd5a81bae7a9dad228.js", "runtime.75f8a6b343ba55002d99.js", "vendor1~app.0c8e960e5dfd7020f562.js", "vendors~lazy_loaded_business_direct_utils.e24e12d5047d3b57fef7.js", "vendors~lazy_loaded_high_priority_components~lazy_loaded_low_priority_components.e4bc397bdb594c85b9eb.js", "vendors~lazy_loaded_low_priority_components.e593e81282871e7ce929.js", "vendors~lazy_loaded_relay.924f984ed0bd537f91a5.js", "vendors~main.bfc632c7e596260920d9.js", "vendors~pdf.9f876162b6247e9c8463.js", "app-58e3f778238ba83cbd59.css", "browsers_c64b5b44e078a8b6f543.css", "lazy_loaded_high_priority_components.a863dcad9c7aad95c934.css", "lazy_loaded_low_priority_components.349bed67c2b8fb37290d.css", "main.2797c20054fc587c4780.css", "stylex-c52712ef7bbd268da8d592aa2c7b7c57.css"], unhashedResources: ["apple-touch-icon.png", "assets-manifest-2.2304.5.json", "binary-transparency-manifest-2.2304.5.json", "bryndan_write_20e48b2ec8c64b2a1ceb5b28d9bcc9d0.ttf", "crossdomain.xml", "favicon-48x48.ico", "favicon-64x64.ico", "favicon.ico", "notification_2a485d84012c106acef03b527bb54635.mp3", "noto_emoji_regular_40c0691231b767bd3e693d583006a1ed.ttf", "robots.txt", "sequential-ptt-end_62ed28be622237546fd39f9468a76a49.mp3", "sequential-ptt-middle_7fa161964e93db72b8d00ae22189d75f.mp3", "whatsapp-webclient-login_c09223f0813e7c3adc16476cba2a5d0d.mp4", "whatsapp-webclient-login-hq_0e0caf2391158ebc09fe32edd1022d03.mp4"], l10n: { locales: { "[request].18382cbd2fea006fbd6b.js": "locales/[request].18382cbd2fea006fbd6b.js", "af-json.1a573e1d6d47f8487844.js": "locales/af-json.1a573e1d6d47f8487844.js", "af.238ee6025c882a9608fe.js": "locales/af.238ee6025c882a9608fe.js", "ar-json.b0f452e8fc427f533272.js": "locales/ar-json.b0f452e8fc427f533272.js", "ar-XB.019a9f98f29f653ec622.js": "locales/ar-XB.019a9f98f29f653ec622.js", "ar.38af6afd75102ffa456a.js": "locales/ar.38af6afd75102ffa456a.js", "az-json.cfabb56cbc037d635531.js": "locales/az-json.cfabb56cbc037d635531.js", "az.92677717a30884c70992.js": "locales/az.92677717a30884c70992.js", "bg-json.723c91e75cec95ff8001.js": "locales/bg-json.723c91e75cec95ff8001.js", "bg.781014987fc715107d14.js": "locales/bg.781014987fc715107d14.js", "bn-json.fc978b5f41d708295843.js": "locales/bn-json.fc978b5f41d708295843.js", "bn.1c954b5ec3263efd1f2c.js": "locales/bn.1c954b5ec3263efd1f2c.js", "ca-json.2fe36102f4182030aa1d.js": "locales/ca-json.2fe36102f4182030aa1d.js", "ca.432d59d5a36d46d25946.js": "locales/ca.432d59d5a36d46d25946.js", "cs-json.67b193be8df953e183bf.js": "locales/cs-json.67b193be8df953e183bf.js", "cs.a1532886f53084afc388.js": "locales/cs.a1532886f53084afc388.js", "da-json.9d5a4de8e895271538b1.js": "locales/da-json.9d5a4de8e895271538b1.js", "da.f5204a3fc0ac32c1ba20.js": "locales/da.f5204a3fc0ac32c1ba20.js", "de-json.c20d887a38aef7f3b3aa.js": "locales/de-json.c20d887a38aef7f3b3aa.js", "de.cde48d725d52136c2bcd.js": "locales/de.cde48d725d52136c2bcd.js", "el-json.5f1e2eeb6ce9742d39d3.js": "locales/el-json.5f1e2eeb6ce9742d39d3.js", "el.f2a0d4d7f202f8ea3408.js": "locales/el.f2a0d4d7f202f8ea3408.js", "en-json.36285e108215a6aa2565.js": "locales/en-json.36285e108215a6aa2565.js", "en.c6098c6d2627d940e1cf.js": "locales/en.c6098c6d2627d940e1cf.js", "es-json.0e8feb7f785ac54a82f6.js": "locales/es-json.0e8feb7f785ac54a82f6.js", "es.5b791488286e939ae0a4.js": "locales/es.5b791488286e939ae0a4.js", "et-json.a67ff5f86adb29713b02.js": "locales/et-json.a67ff5f86adb29713b02.js", "et.92fce48e97b094c859fb.js": "locales/et.92fce48e97b094c859fb.js", "fa-json.62d83d6ba8202acfc5f7.js": "locales/fa-json.62d83d6ba8202acfc5f7.js", "fa.b91eab0360d474946551.js": "locales/fa.b91eab0360d474946551.js", "fi-json.defeb2e6f36381bb963a.js": "locales/fi-json.defeb2e6f36381bb963a.js", "fi.12bbddd284787a619ab0.js": "locales/fi.12bbddd284787a619ab0.js", "fil-json.5e4b011f2c6c87fa2747.js": "locales/fil-json.5e4b011f2c6c87fa2747.js", "fil.6e74dab96a1e1eb84d69.js": "locales/fil.6e74dab96a1e1eb84d69.js", "fr-json.5a5e66a774e126c67d46.js": "locales/fr-json.5a5e66a774e126c67d46.js", "fr.7faa6188431c2f85d0b8.js": "locales/fr.7faa6188431c2f85d0b8.js", "gu-json.ce81ccf83b7c10e13db6.js": "locales/gu-json.ce81ccf83b7c10e13db6.js", "gu.ad6f22e609c4e1fab7a4.js": "locales/gu.ad6f22e609c4e1fab7a4.js", "he-json.f37e9a8582615b973ace.js": "locales/he-json.f37e9a8582615b973ace.js", "he.25f3fae9bf95b44359ee.js": "locales/he.25f3fae9bf95b44359ee.js", "hi-json.539546e996b60755c473.js": "locales/hi-json.539546e996b60755c473.js", "hi.18ad97cb39ba2eae8d96.js": "locales/hi.18ad97cb39ba2eae8d96.js", "hr-json.52beac4a1bd06933d8fd.js": "locales/hr-json.52beac4a1bd06933d8fd.js", "hr.7a4fadbf5080871346de.js": "locales/hr.7a4fadbf5080871346de.js", "hu-json.295f887d9a376cbcbb79.js": "locales/hu-json.295f887d9a376cbcbb79.js", "hu.7e9effd7529d214dd19b.js": "locales/hu.7e9effd7529d214dd19b.js", "id-json.754e1417aa8188f80542.js": "locales/id-json.754e1417aa8188f80542.js", "id.8976612fe0386c2dc649.js": "locales/id.8976612fe0386c2dc649.js", "it-json.ad82a022760278486b28.js": "locales/it-json.ad82a022760278486b28.js", "it.f4bc06fcf5bbba61a87c.js": "locales/it.f4bc06fcf5bbba61a87c.js", "ja-json.9283c84ebe13cc831031.js": "locales/ja-json.9283c84ebe13cc831031.js", "ja.c2f949ac2c25f31feb64.js": "locales/ja.c2f949ac2c25f31feb64.js", "kk-json.9ab2e9c02174dcfea1c3.js": "locales/kk-json.9ab2e9c02174dcfea1c3.js", "kk.af638f760dbc1776d082.js": "locales/kk.af638f760dbc1776d082.js", "kn-json.2af4afb66e6abd25a3f9.js": "locales/kn-json.2af4afb66e6abd25a3f9.js", "kn.ace46778e892b69b3941.js": "locales/kn.ace46778e892b69b3941.js", "ko-json.4e3b4fecff34b5d1515e.js": "locales/ko-json.4e3b4fecff34b5d1515e.js", "ko.fbcb9946d9f6553323c4.js": "locales/ko.fbcb9946d9f6553323c4.js", "lt-json.b25173cdb23c95db65f9.js": "locales/lt-json.b25173cdb23c95db65f9.js", "lt.6a662f8d5a9784fa2737.js": "locales/lt.6a662f8d5a9784fa2737.js", "lv-json.7445738c873f707d2815.js": "locales/lv-json.7445738c873f707d2815.js", "lv.6d750bf8819109a616ef.js": "locales/lv.6d750bf8819109a616ef.js", "mk-json.874c30e38edb3072ebd8.js": "locales/mk-json.874c30e38edb3072ebd8.js", "mk.be77c8a1c2bf8946ae1b.js": "locales/mk.be77c8a1c2bf8946ae1b.js", "ml-json.3a573fe6c4032c895408.js": "locales/ml-json.3a573fe6c4032c895408.js", "ml.d7e2dbf27a982c498a30.js": "locales/ml.d7e2dbf27a982c498a30.js", "mr-json.95e071d9f8bc9e602d33.js": "locales/mr-json.95e071d9f8bc9e602d33.js", "mr.09caee378f6797698a23.js": "locales/mr.09caee378f6797698a23.js", "ms-json.8c64f65f1eae982f90b1.js": "locales/ms-json.8c64f65f1eae982f90b1.js", "ms.c43c40051dc0e6f997b8.js": "locales/ms.c43c40051dc0e6f997b8.js", "nb-json.9307323d6f9902c7a92a.js": "locales/nb-json.9307323d6f9902c7a92a.js", "nb.7006632190f197fdf135.js": "locales/nb.7006632190f197fdf135.js", "nl-json.aa5b46f164676bbdd244.js": "locales/nl-json.aa5b46f164676bbdd244.js", "nl.abe4576fc16906f8eec0.js": "locales/nl.abe4576fc16906f8eec0.js", "pa-json.ae89a11ecdbfaa18390a.js": "locales/pa-json.ae89a11ecdbfaa18390a.js", "pa.b937bd99b1c91d435e49.js": "locales/pa.b937bd99b1c91d435e49.js", "pl-json.79529a77d52e269711b7.js": "locales/pl-json.79529a77d52e269711b7.js", "pl.96e00a2f3a84075bbcdd.js": "locales/pl.96e00a2f3a84075bbcdd.js", "pt-BR.1d7abfa8d84821962c55.js": "locales/pt-BR.1d7abfa8d84821962c55.js", "pt-json.613e0dba92dfcb4ef9d3.js": "locales/pt-json.613e0dba92dfcb4ef9d3.js", "pt.ff85ac9c6f892bf4fd74.js": "locales/pt.ff85ac9c6f892bf4fd74.js", "ro-json.074bafb0a0a5ed25f095.js": "locales/ro-json.074bafb0a0a5ed25f095.js", "ro.fbea38b792e50712a872.js": "locales/ro.fbea38b792e50712a872.js", "ru-json.02eab0411e24e15b550f.js": "locales/ru-json.02eab0411e24e15b550f.js", "ru.00d3cb17f05f24bdd521.js": "locales/ru.00d3cb17f05f24bdd521.js", "sk-json.f735d0c1931c81f1321b.js": "locales/sk-json.f735d0c1931c81f1321b.js", "sk.046725040bca492158fe.js": "locales/sk.046725040bca492158fe.js", "sl-json.241e17fdd8e95be5b711.js": "locales/sl-json.241e17fdd8e95be5b711.js", "sl.69380d1066fe497a4ed3.js": "locales/sl.69380d1066fe497a4ed3.js", "sq-json.e5b8563e626f6d63912b.js": "locales/sq-json.e5b8563e626f6d63912b.js", "sq.002e2d054603ffa0d100.js": "locales/sq.002e2d054603ffa0d100.js", "sr-json.59c47cc4419254e3ef6d.js": "locales/sr-json.59c47cc4419254e3ef6d.js", "sr.5ea3ad6373def0f285b0.js": "locales/sr.5ea3ad6373def0f285b0.js", "sv-json.ffbd29f882356d0d9b17.js": "locales/sv-json.ffbd29f882356d0d9b17.js", "sv.43d8a64fecf28d600a52.js": "locales/sv.43d8a64fecf28d600a52.js", "sw-json.95641d9b81ceb6f8db3c.js": "locales/sw-json.95641d9b81ceb6f8db3c.js", "sw.e1375fa6b0331c80ab18.js": "locales/sw.e1375fa6b0331c80ab18.js", "ta-json.4c25dffaf1ba7b5d0775.js": "locales/ta-json.4c25dffaf1ba7b5d0775.js", "ta.27b145e725bbe39a8be2.js": "locales/ta.27b145e725bbe39a8be2.js", "te-json.52081c207a28fe3af19f.js": "locales/te-json.52081c207a28fe3af19f.js", "te.7b9dc84bf1d7097a40ca.js": "locales/te.7b9dc84bf1d7097a40ca.js", "th-json.6dea1c0824b6ea3806b2.js": "locales/th-json.6dea1c0824b6ea3806b2.js", "th.52f3a89a684ce7b24b8e.js": "locales/th.52f3a89a684ce7b24b8e.js", "tr-json.cf3ce68fbc714b0e40ee.js": "locales/tr-json.cf3ce68fbc714b0e40ee.js", "tr.bf883309af79c872d7d6.js": "locales/tr.bf883309af79c872d7d6.js", "uk-json.939d3c500050d305ec88.js": "locales/uk-json.939d3c500050d305ec88.js", "uk.3a5d7e33e7ac5c9368ae.js": "locales/uk.3a5d7e33e7ac5c9368ae.js", "ur-json.5a268ce295d86ab12215.js": "locales/ur-json.5a268ce295d86ab12215.js", "ur.7f256467579e9547949b.js": "locales/ur.7f256467579e9547949b.js", "uz-json.640d641140439bd57953.js": "locales/uz-json.640d641140439bd57953.js", "uz.937f5c81780197370fd8.js": "locales/uz.937f5c81780197370fd8.js", "vi-json.ebe98b4b3031e342e47f.js": "locales/vi-json.ebe98b4b3031e342e47f.js", "vi.050787746f3db0232ca7.js": "locales/vi.050787746f3db0232ca7.js", "zh-CN-json.113e9960f821c903c89d.js": "locales/zh-CN-json.113e9960f821c903c89d.js", "zh-CN.31456848216fa0288aa7.js": "locales/zh-CN.31456848216fa0288aa7.js", "zh-HK-json.df92d1dd50e2169562fd.js": "locales/zh-HK-json.df92d1dd50e2169562fd.js", "zh-HK.7ce821d4c83d1f43a7b3.js": "locales/zh-HK.7ce821d4c83d1f43a7b3.js", "zh-TW-json.13263c8eecd52ef95a7f.js": "locales/zh-TW-json.13263c8eecd52ef95a7f.js", "zh-TW.9442039493f031e12378.js": "locales/zh-TW.9442039493f031e12378.js" }, styles: {} }, releaseDate: 1674520493449 } }, 6857: (e, t) => { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.default = void 0; const n = new RegExp(`(${self.registration.scope}|https://web.whatsapp.com/|https://dyn.web.whatsapp.com/)([^?]*)(?:\\?(.*))?`); class r { static parseUrl(e) { const t = e.match(n); if (!t) return; let r; if (t[3]) { const n = {}, a = new Set; t[3].split("&").forEach((t => { const [r, s] = t.split("="), i = r.toLowerCase(); if (a.has(i)) throw __LOG__(4, void 0, new Error)`Unexpected duplicated query param: ${r}=${s} in the url: ${e}`, new Error("Detected url with duplicated query param"); a.add(i), n[r] = s })), r = n } return { base: t[1], relativePath: t[2], queryParams: r } } static convertToUrl(e, t) { const n = Object.keys(t).map((e => [e, t[e]].map(encodeURIComponent).join("="))).join("&"); return n.length ? e.endsWith("/") ? `${e}?${n}` : `${e}/?${n}` : e } constructor(e, t) { this.matchFetch = () => !1, this.matchAction = () => !1, this.matchInstall = () => !1, this.matchActivate = () => !1, this.matchPush = () => !1, this.matchNotificationClick = () => !1, this.cache = e, this.store = t } } t.default = r, r.RequestType = { GET: "GET" } }, 5791: (e, t, n) => { self.__LOG__ = n(4453).cM, self.SEND_LOGS = n(4453).ws }, 4453: (e, t, n) => { "use strict"; var r = n(5318); t.cM = void 0, t.ws = w; var a = r(n(8926)), s = r(n(6432)), i = r(n(1054)), o = r(n(3948)), c = r(n(9194)); const d = "log", l = "info", u = "warn", f = "error", h = "errorVerbose", p = 1e3; let _, m = [], b = Promise.resolve(); function y(e) { return new Promise((t => { setTimeout(t, e) })) } const g = function (e, t) { let n, r; return function a() { if (!n) { const s = Array.prototype.slice.call(arguments); return n = new Promise((function (e) { self.setTimeout((function () { n = null, r && (e(a.apply(null, s)), r = !1), e() }), t) })), Promise.resolve(e.apply(null, s)) } return r = !0, n } }((function () { return v.apply(this, arguments) }), 500); function v() { return (v = (0, a.default)((function* () { if (0 !== m.length) try { yield o.default.broadcast(c.default.LOG, { buffer: m }), m = [] } catch (e) { } }))).apply(this, arguments) } function w() { for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)t[n] = arguments[n]; return t.length && m.push({ level: h, message: t }), _ = _ || j(), _ } function j() { return S.apply(this, arguments) } function S() { return (S = (0, a.default)((function* () { let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0; try { let t; try { yield b, t = yield o.default.broadcast(c.default.UPLOAD_LOGS, { buffer: m }) } catch (n) { if (!(e < 3)) throw new Error("Max generation reached. Failed to upload."); yield y(p), t = yield j(e + 1) } return _ = void 0, t } catch (e) { __LOG__(3)`Unable to send upload request, error: ${e}`, _ = void 0 } }))).apply(this, arguments) } const E = (0, s.default)((function (e) { let t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], n = arguments.length > 2 ? arguments[2] : void 0, r = arguments.length > 3 ? arguments[3] : void 0, a = arguments.length > 4 ? arguments[4] : void 0; return function (s) { for (var o = arguments.length, c = new Array(o > 1 ? o - 1 : 0), d = 1; d < o; d++)c[d - 1] = arguments[d]; const l = (0, i.default)(s, c, !t); let u; return n && (u = { name: n.name, stack: n.stack }), T(A(e, t), [l], u, r, a), l } }), ((e, t, n, r, a) => n || a ? null : String(e) + String(Boolean(t)) + String(Boolean(r)))); function T(e, t, n, r, a) { 0 !== t.length && (m.push({ level: e, message: t, error: n, attachedToSendLogs: r, extraTags: a }), b = g()) } function A(e, t) { switch (e) { case 1: return l; case 2: return d; case 3: return u; case 4: return t ? h : f }throw new Error(`Invalid numeric level ${e}${t ? ", verbose" : ""}`) } t.cM = E, self.addEventListener("error", (e => { w(`Global Scope error: ${String(e.error)}, stack: ${e.error ? e.error.stack : ""}`) })) }, 3986: (e, t, n) => { "use strict"; var r = n(5318); Object.defineProperty(t, "__esModule", { value: !0 }), t.default = void 0; var a = r(n(6857)); class s extends a.default { constructor() { super(...arguments), this.matchNotificationClick = () => !0, this.onNotificationClick = e => { } } } t.default = s }, 2083: (e, t, n) => { "use strict"; function r(e) { if ("function" != typeof WeakMap) return null; var t = new WeakMap, n = new WeakMap; return (r = function (e) { return e ? n : t })(e) } Object.defineProperty(t, "__esModule", { value: !0 }), t.default = void 0; var a = function (e, t) { if (!t && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var n = r(t); if (n && n.has(e)) return n.get(e); var a = {}, s = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var i in e) if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) { var o = s ? Object.getOwnPropertyDescriptor(e, i) : null; o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i] } a.default = e, n && n.set(e, a); return a }(n(3563)).default; t.default = a }, 3563: (e, t, n) => { "use strict"; var r = n(5318); Object.defineProperty(t, "__esModule", { value: !0 }), t.default = void 0; var a = r(n(8926)), s = r(n(9619)), i = r(n(1373)); const o = { prefs: {}, pp: {}, stickers: {} }; let c; class d { constructor(e) { this.storeName = e, this.storeCache = {} } _callAction(e, t) { var n = this; return (0, a.default)((function* () { const r = (yield c || (c = new Promise(((e, t) => { const n = (0, s.default)(i.default, "indexedDB").open("sw", 2); n.onupgradeneeded = e => { const t = e.target.result; e.target.transaction.onerror = e => { __LOG__(3)`Unable to upgrade database, error: ${e.target.error}` }; for (const e in o) t.objectStoreNames.contains(e) && t.deleteObjectStore(e), t.createObjectStore(e, o[e]) }, n.onsuccess = t => { e(t.target.result) }, n.onerror = e => { t(e.target.error) } })).catch((e => { throw __LOG__(3)`Unable to open sw database, error: ${e}`, c = void 0, e })))).transaction([n.storeName], "readwrite").objectStore(n.storeName), a = r[e].apply(r, t); return new Promise(((e, t) => { a.onsuccess = t => { e(t.target.result) }, a.onerror = e => { t(e.target.error) } })) }))() } get(e) { return void 0 !== this.storeCache[e] ? this.storeCache[e] : this.storeCache[e] = this._callAction("get", [e]).catch((t => { __LOG__(3)`Unable to fetch from db, object store: ${this.storeName}, key: ${e}, error: ${t}`, this.storeCache[e] = void 0 })) } put(e, t) { return this.storeCache[e] = Promise.resolve(t), this._callAction("put", [t, e]).catch((n => { __LOG__(3)`Unable to put to db, object store: ${this.storeName}, key: ${e}, value: ${t}, error: ${n}` })) } delete(e) { return this.storeCache[e] = Promise.resolve(void 0), this._callAction("delete", [e]).catch((t => { __LOG__(3)`Unable to delete in db, object store: ${this.storeName}, key: ${e}, error: ${t}` })) } clear() { return this.storeCache = {}, this._callAction("clear").catch((e => { __LOG__(3)`Unable to clear object store: ${this.storeName}, error: ${e}` })) } } const l = { ObjectStore: d }; for (const e in o) l[e] = new d(e); var u = l; t.default = u }, 6278: (e, t, n) => { "use strict"; var r = n(5318); Object.defineProperty(t, "__esModule", { value: !0 }), t.default = void 0; var a = r(n(8926)), s = r(n(9194)), i = r(n(6857)), o = r(n(5420)); class c extends i.default { constructor() { var e; super(...arguments), e = this, this.matchFetch = e => { const { request: t } = e, n = i.default.parseUrl(t.url); return t.method === i.default.RequestType.GET && !!n && ("https://web.whatsapp.com/" === n.base || "https://dyn.web.whatsapp.com/" === n.base) && "pp" === n.relativePath }, this.onFetch = function () { var t = (0, a.default)((function* (t) { const { request: n } = t, r = i.default.parseUrl(n.url); if (!r || !r.queryParams) return self.fetch(n); const { e: a, t: s, u: c, i: d, n: l } = r.queryParams, u = `${r.base}${r.relativePath}?t=${s}&u=${c}&i=${d}&n=${l}`, f = a ? self.decodeURIComponent(a) : n; o.default.assertIsAllowedHost(a ? self.decodeURIComponent(a) : n.url); const h = yield e.cache.matchOrFetch(f, u); return h.ok && e.store.get(c).then((t => { if (t !== d) return Promise.all([e.removePPFromCache(c, d), e.store.put(c, d)]) })), o.default.assertIsAllowedHost(h.url), h })); return function () { return t.apply(this, arguments) } }(), this.matchAction = e => s.default.REMOVE_PP === e || s.default.LOGOUT === e, this.onAction = (e, t) => { switch (e) { case s.default.REMOVE_PP: const e = self.encodeURIComponent(t); return this.store.get(e).then((t => { if (t) return Promise.all([this.removePPFromCache(e, t), this.store.delete(e)]) })).then((() => { })); default: return Promise.all([this.cache.reset(), this.store.clear()]).then((() => { })) } } } removePPFromCache(e, t) { return Promise.all([this.cache.delete(`https://web.whatsapp.com/pp?t=s&u=${e}&i=${t}`), this.cache.delete(`https://web.whatsapp.com/pp?t=l&u=${e}&i=${t}`), this.cache.delete(`https://dyn.web.whatsapp.com/pp?t=s&u=${e}&i=${t}`), this.cache.delete(`https://dyn.web.whatsapp.com/pp?t=l&u=${e}&i=${t}`)]) } } t.default = c }, 2100: (e, t, n) => { "use strict"; var r = n(5318); Object.defineProperty(t, "__esModule", { value: !0 }), t.default = void 0; var a = r(n(8926)), s = n(9026), i = r(n(9194)), o = r(n(6857)); class c extends o.default { constructor() { super(...arguments), this.matchInstall = () => !0, this.onInstall = () => { }, this.matchActivate = () => !0, this.onActivate = () => { }, this.matchPush = () => !0, this.onPush = e => { e.waitUntil(Promise.resolve()) }, this.matchAction = e => e === i.default.STOP_COMMS, this.onAction = function () { var e = (0, a.default)((function* () { (0, s.getComms)() && (yield (0, s.stopComms)(), __LOG__(2)`[push-notification] Successfully stopped Comms in service worker`) })); return function () { return e.apply(this, arguments) } }() } } t.default = c }, 2543: (e, t, n) => { "use strict"; var r = n(5318); Object.defineProperty(t, "__esModule", { value: !0 }), t.default = void 0; var a = n(7674), s = r(n(6857)); class i extends s.default { constructor() { super(...arguments), this.matchFetch = e => { const { request: t } = e, n = new URL(t.url), r = new URLSearchParams(n.search); return t.method === s.default.RequestType.GET && r.has(a.IS_MMS_URL_SEARCH_PARAM) && (0 === n.pathname.indexOf("/mms/sticker/") || "sticker" === r.get(a.MMS_URL_MEDIA_TYPE_SEARCH_PARAM)) }, this.onFetch = e => this.cache.matchOrFetch(e.request) } } t.default = i }, 5420: (e, t) => { "use strict"; function n(e) { const t = new URL(e), n = t.host; if ("https:" !== t.protocol || !/\.whatsapp\.(net|com)(:\d+)?$/.test(n)) throw __LOG__(4, void 0, new Error, !0)`Unexpected url`, SEND_LOGS("SW: Potential XSS attack"), new Error("URL is not of allowed host or protocol") } Object.defineProperty(t, "__esModule", { value: !0 }), t.default = void 0; var r = { manuallyCloneRequest: function (e, t, r) { let a = r; if ("string" == typeof e) { a = a || {}, a.credentials = "same-origin"; const r = null != t ? t : e; return n(r), new Request(r, a) } const s = null != t ? t : e.url; return n(s), new Request(s || e.url, { method: void 0 === a.method ? e.method : a.method, headers: void 0 === a.headers ? e.headers : a.headers, mode: void 0 === a.mode ? e.mode : a.mode, credentials: "same-origin", cache: void 0 === a.cache ? e.cache : a.cache, redirect: void 0 === a.redirect ? e.redirect : a.redirect, integrity: void 0 === a.integrity ? e.integrity : a.integrity }) }, getIndexPath: function (e) { return (null == e ? void 0 : e.locale) ? `%F0%9F%8C%90/${e.locale}` : "" }, assertIsAllowedHost: n }; t.default = r }, 4414: (e, t, n) => { "use strict"; var r = n(5318); Object.defineProperty(t, "__esModule", { value: !0 }), t.VideoStreamer = void 0, t.parseClientRange = f; var a = r(n(8926)), s = n(9093), i = n(8358), o = n(8615), c = r(n(3948)), d = r(n(9194)), l = r(n(5420)); const u = 65536; function f(e) { const { clientRangeStartString: t, clientRangeEndString: n } = function (e) { const t = e.headers.get("Range"); if (t) { const [e, n] = t.replace("bytes=", "").split("-"); return { clientRangeStartString: e, clientRangeEndString: n } } const n = new URL(e.url); return { clientRangeStartString: n.searchParams.get("bytesstart"), clientRangeEndString: n.searchParams.get("bytesend") } }(e), r = parseInt(t, 10), a = parseInt(n, 10); return { clientRangeStart: isNaN(r) ? 0 : r, clientRangeEnd: isNaN(a) ? null : a } } t.VideoStreamer = class { constructor(e, t, n) { this.generation = 0; const { sidecar: r } = t, a = []; for (let e = 0; e < r.byteLength; e += o.HMAC_SIZE)a.push(r.slice(e, e + o.HMAC_SIZE)); this.cryptoKeys = { iv: t.iv, sidecar: a, encKey: t.encKey, macKey: t.macKey }, this.streamData = n, this.clientId = e } fetchAndDecrypt(e) { var t = this; return (0, a.default)((function* () { const { clientUrl: n, msgKey: r } = t.streamData, { clientRangeStart: a, clientRangeEnd: s } = f(e), { serverRangeStart: i, serverRangeEnd: l } = t.computeServerRange(a, s), u = t.createServerRequest(e, i, l, n), h = yield fetch(u); if (404 === h.status) return t.handleRMR(e, r); if (h.status >= 400) return __LOG__(2)`sw:videoStreaming:processRequest server returns ${h.status} error`, t.generation++, c.default.request(t.clientId, d.default.EXP_BACKOFF, { generation: t.generation }).then((() => t.fetchAndDecrypt(e))); t.generation = 0; const p = yield h.arrayBuffer(), _ = p.byteLength; if (!p || _ < o.BLOCK_SIZE) return __LOG__(2)`sw:videoStreaming:processRequest ciphertext is too short - ${_} bytes`, new Response(`Ciphertext is too short - ${_} bytes`, { status: 500 }); yield t.validateSidecar(i, p); const { ciphertext: m, iv: b } = yield (0, o.cleanupCiphertextAndIv)({ serverRangeStart: i, ciphertext: p, mediaKeys: t.cryptoKeys }), y = yield (0, o.decrypt)({ ciphertext: m, iv: b, mediaKeys: t.cryptoKeys }), g = t.cleanupPlaintext(y, { clientRangeStart: a, clientRangeEnd: s }, { serverRangeStart: i, serverRangeEnd: l }), v = t.createClientResponse(h, g, a); return t.sendBackArrayBuffer(a, g), v }))() } handleRMR(e, t) { var n = this; return (0, a.default)((function* () { const r = yield c.default.request(n.clientId, d.default.REQUEST_RMR, { key: t }); return n.cryptoKeys.encKey = r.encKey, n.cryptoKeys.iv = r.iv, n.streamData.clientUrl = r.clientUrl, n.streamData.size = r.size, n.fetchAndDecrypt(e) }))() } cleanupPlaintext(e, t, n) { let { clientRangeStart: r, clientRangeEnd: a } = t, { serverRangeStart: s, serverRangeEnd: i } = n; const c = 0 === s ? 0 : r - (s + o.BLOCK_SIZE), d = null != a ? i - a : 0; return e.slice(c, e.byteLength - d) } validateSidecar(e, t) { var n = this; return (0, a.default)((function* () { let r = t; const { macKey: a, iv: s, sidecar: c } = n.cryptoKeys; let d, l; 0 === e ? (d = 0, l = s) : (d = (e + o.BLOCK_SIZE) / u, l = r.slice(0, o.BLOCK_SIZE), r = r.slice(o.BLOCK_SIZE)); const f = r.byteLength / u, h = yield self.crypto.subtle.importKey("raw", new Uint8Array(a), { name: "HMAC", hash: { name: "SHA-256" } }, !1, ["sign"]), p = []; for (let e = 0; e < f; e++) { const t = c[d + e], a = e * u, s = r.slice(a, a + u), f = l; l = s.slice(u - o.BLOCK_SIZE, u - o.BLOCK_SIZE + o.BLOCK_SIZE); const _ = (0, i.concatTypedArrays)(Uint8Array, [new Uint8Array(f), new Uint8Array(s)]); p.push(n.validateChunk(_, h, t)) } return Promise.all(p) }))() } validateChunk(e, t, n) { return (0, a.default)((function* () { const r = (yield self.crypto.subtle.sign({ name: "HMAC" }, t, e)).slice(0, o.HMAC_SIZE); if (!(0, s.arrayBuffersEqual)(r, n)) return Promise.reject(new Error("Invalid Chunk: Does not match sidecar.")) }))() } createClientResponse(e, t, n) { const { size: r } = this.streamData, { contentRangeStart: a, contentRangeEnd: s } = this.getContentRange(n, t), i = new Headers(e.headers); i.set("Content-Range", `bytes ${a}-${s}/${r}`), i.set("Content-Length", `${t.byteLength}`); return new Response(t, { status: 200 === e.status ? 206 : e.status, statusText: e.statusText, headers: i }) } getContentRange(e, t) { return { contentRangeStart: e, contentRangeEnd: e + t.byteLength - 1 } } sendBackArrayBuffer(e, t) { const { contentRangeStart: n, contentRangeEnd: r } = this.getContentRange(e, t); c.default.request(this.clientId, d.default.SEND_STREAMING_CHUNK, { msgKey: this.streamData.msgKey, data: { start: n, end: r, buffer: t } }) } createServerRequest(e, t, n, r) { const a = new URL(r); a.searchParams.set("bytestart", t.toString()), a.searchParams.set("byteend", n.toString()); return l.default.manuallyCloneRequest(e, a.toString(), { credentials: "omit", headers: new Headers({}), mode: "cors", referrer: e.referrer }) } computeServerRange(e, t) { let n = e, r = t; return n = e ? this.roundDown(e, u) : 0, r = null != t && 0 !== t ? this.roundUp(t, u) - 1 : n + 1572864 - 1, n > 0 && (n -= o.BLOCK_SIZE), { serverRangeStart: n, serverRangeEnd: r } } roundUp(e, t) { return Math.ceil(e / t) * t } roundDown(e, t) { return Math.floor(e / t) * t } } }, 9906: (e, t, n) => { "use strict"; var r = n(5318); Object.defineProperty(t, "__esModule", { value: !0 }), t.default = void 0; var a = r(n(8926)), s = r(n(3948)), i = r(n(9194)), o = r(n(6857)), c = n(4414); class d extends o.default { constructor() { super(...arguments), this.matchFetch = e => { const { request: t } = e, n = o.default.parseUrl(t.url); return !!(t.method === o.default.RequestType.GET && n && n.queryParams && n.queryParams.key && t.url.match("/stream/video")) }, this.onFetch = function () { var e = (0, a.default)((function* (e) { const { request: t, client: n, clientId: r } = e, a = o.default.parseUrl(t.url), d = r || (null == n ? void 0 : n.id); if (!d) return Promise.reject(new Error("No client id found.")); const { cryptoKeys: l, streamData: u } = yield s.default.request(d, i.default.REQUEST_STREAMING_INFO, { key: a.queryParams.key }); return new c.VideoStreamer(d, l, u).fetchAndDecrypt(t) })); return function () { return e.apply(this, arguments) } }(), this.matchAction = e => e === i.default.STREAMING_SUPPORTED, this.onAction = () => !(!self.crypto || !self.crypto.subtle && !self.crypto.webkitSubtle) } } t.default = d }, 2329: () => { } }, t = {}; function n(r) { var a = t[r]; if (void 0 !== a) return a.exports; var s = t[r] = { exports: {} }; return e[r](s, s.exports, n), s.exports } (() => { "use strict"; var e = n(5318); n(5791); var t = e(n(1157)), r = e(n(3933)), a = e(n(2612)), s = e(n(2120)), i = e(n(7719)), o = e(n(3986)), c = e(n(2083)), d = e(n(6278)), l = e(n(2100)), u = e(n(2543)), f = e(n(9906)); const h = new i.default("wa-stickers"), p = [new d.default(new i.default("wa-pp"), c.default.pp), new f.default, new s.default(new i.default("wa2.2304.5.canary"), c.default.prefs), new r.default(new i.default("wa-assets")), new u.default(h, c.default.stickers), new t.default, new l.default, new o.default]; (0, a.default)(p) })() })();